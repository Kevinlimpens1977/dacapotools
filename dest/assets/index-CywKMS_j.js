const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminOverview-DCdkv6jq.js","assets/appCredits-BgLXLukM.js","assets/AdminCredits-Brrp_Ocr.js","assets/AdminCosts-CdOvwrEk.js","assets/AdminReports-CGpyZAIj.js","assets/AdminUserDetail-Da36Ynm4.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Qm={exports:{}},nu={};var NE;function OR(){if(NE)return nu;NE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return nu.Fragment=e,nu.jsx=n,nu.jsxs=n,nu}var DE;function kR(){return DE||(DE=1,Qm.exports=OR()),Qm.exports}var w=kR(),Ym={exports:{}},Se={};var OE;function MR(){if(OE)return Se;OE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,U={};function $(P,ne,oe){this.props=P,this.context=ne,this.refs=U,this.updater=oe||j}$.prototype.isReactComponent={},$.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},$.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function X(){}X.prototype=$.prototype;function ee(P,ne,oe){this.props=P,this.context=ne,this.refs=U,this.updater=oe||j}var ae=ee.prototype=new X;ae.constructor=ee,z(ae,$.prototype),ae.isPureReactComponent=!0;var me=Array.isArray;function pe(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(P,ne,oe){var he=oe.ref;return{$$typeof:i,type:P,key:ne,ref:he!==void 0?he:null,props:oe}}function k(P,ne){return I(P.type,ne,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function M(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return ne[oe]})}var C=/\/+/g;function be(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):ne.toString(36)}function Te(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(pe,pe):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function H(P,ne,oe,he,we){var xe=typeof P;(xe==="undefined"||xe==="boolean")&&(P=null);var je=!1;if(P===null)je=!0;else switch(xe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(P.$$typeof){case i:case e:je=!0;break;case E:return je=P._init,H(je(P._payload),ne,oe,he,we)}}if(je)return we=we(P),je=he===""?"."+be(P,0):he,me(we)?(oe="",je!=null&&(oe=je.replace(C,"$&/")+"/"),H(we,ne,oe,"",function(Ls){return Ls})):we!=null&&(O(we)&&(we=k(we,oe+(we.key==null||P&&P.key===we.key?"":(""+we.key).replace(C,"$&/")+"/")+je)),ne.push(we)),1;je=0;var Vt=he===""?".":he+":";if(me(P))for(var lt=0;lt<P.length;lt++)he=P[lt],xe=Vt+be(he,lt),je+=H(he,ne,oe,xe,we);else if(lt=x(P),typeof lt=="function")for(P=lt.call(P),lt=0;!(he=P.next()).done;)he=he.value,xe=Vt+be(he,lt++),je+=H(he,ne,oe,xe,we);else if(xe==="object"){if(typeof P.then=="function")return H(Te(P),ne,oe,he,we);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return je}function re(P,ne,oe){if(P==null)return P;var he=[],we=0;return H(P,he,"","",function(xe){return ne.call(oe,xe,we++)}),he}function ue(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var Be=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Qe={map:re,forEach:function(P,ne,oe){re(P,function(){ne.apply(this,arguments)},oe)},count:function(P){var ne=0;return re(P,function(){ne++}),ne},toArray:function(P){return re(P,function(ne){return ne})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Se.Activity=T,Se.Children=Qe,Se.Component=$,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ee,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},Se.cache=function(P){return function(){return P.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(P,ne,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var he=z({},P.props),we=P.key;if(ne!=null)for(xe in ne.key!==void 0&&(we=""+ne.key),ne)!R.call(ne,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ne.ref===void 0||(he[xe]=ne[xe]);var xe=arguments.length-2;if(xe===1)he.children=oe;else if(1<xe){for(var je=Array(xe),Vt=0;Vt<xe;Vt++)je[Vt]=arguments[Vt+2];he.children=je}return I(P.type,we,he)},Se.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Se.createElement=function(P,ne,oe){var he,we={},xe=null;if(ne!=null)for(he in ne.key!==void 0&&(xe=""+ne.key),ne)R.call(ne,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(we[he]=ne[he]);var je=arguments.length-2;if(je===1)we.children=oe;else if(1<je){for(var Vt=Array(je),lt=0;lt<je;lt++)Vt[lt]=arguments[lt+2];we.children=Vt}if(P&&P.defaultProps)for(he in je=P.defaultProps,je)we[he]===void 0&&(we[he]=je[he]);return I(P,xe,we)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(P){return{$$typeof:m,render:P}},Se.isValidElement=O,Se.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:ue}},Se.memo=function(P,ne){return{$$typeof:g,type:P,compare:ne===void 0?null:ne}},Se.startTransition=function(P){var ne=N.T,oe={};N.T=oe;try{var he=P(),we=N.S;we!==null&&we(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(pe,Be)}catch(xe){Be(xe)}finally{ne!==null&&oe.types!==null&&(ne.types=oe.types),N.T=ne}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(P){return N.H.use(P)},Se.useActionState=function(P,ne,oe){return N.H.useActionState(P,ne,oe)},Se.useCallback=function(P,ne){return N.H.useCallback(P,ne)},Se.useContext=function(P){return N.H.useContext(P)},Se.useDebugValue=function(){},Se.useDeferredValue=function(P,ne){return N.H.useDeferredValue(P,ne)},Se.useEffect=function(P,ne){return N.H.useEffect(P,ne)},Se.useEffectEvent=function(P){return N.H.useEffectEvent(P)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(P,ne,oe){return N.H.useImperativeHandle(P,ne,oe)},Se.useInsertionEffect=function(P,ne){return N.H.useInsertionEffect(P,ne)},Se.useLayoutEffect=function(P,ne){return N.H.useLayoutEffect(P,ne)},Se.useMemo=function(P,ne){return N.H.useMemo(P,ne)},Se.useOptimistic=function(P,ne){return N.H.useOptimistic(P,ne)},Se.useReducer=function(P,ne,oe){return N.H.useReducer(P,ne,oe)},Se.useRef=function(P){return N.H.useRef(P)},Se.useState=function(P){return N.H.useState(P)},Se.useSyncExternalStore=function(P,ne,oe){return N.H.useSyncExternalStore(P,ne,oe)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.3",Se}var kE;function $p(){return kE||(kE=1,Ym.exports=MR()),Ym.exports}var L=$p(),$m={exports:{}},iu={},Xm={exports:{}},Wm={};var ME;function VR(){return ME||(ME=1,(function(i){function e(H,re){var ue=H.length;H.push(re);e:for(;0<ue;){var Be=ue-1>>>1,Qe=H[Be];if(0<o(Qe,re))H[Be]=re,H[ue]=Qe,ue=Be;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var re=H[0],ue=H.pop();if(ue!==re){H[0]=ue;e:for(var Be=0,Qe=H.length,P=Qe>>>1;Be<P;){var ne=2*(Be+1)-1,oe=H[ne],he=ne+1,we=H[he];if(0>o(oe,ue))he<Qe&&0>o(we,oe)?(H[Be]=we,H[he]=ue,Be=he):(H[Be]=oe,H[ne]=ue,Be=ne);else if(he<Qe&&0>o(we,ue))H[Be]=we,H[he]=ue,Be=he;else break e}}return re}function o(H,re){var ue=H.sortIndex-re.sortIndex;return ue!==0?ue:H.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],E=1,T=null,S=3,x=!1,j=!1,z=!1,U=!1,$=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ae(H){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=H)s(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(g)}}function me(H){if(z=!1,ae(H),!j)if(n(p)!==null)j=!0,pe||(pe=!0,M());else{var re=n(g);re!==null&&Te(me,re.startTime-H)}}var pe=!1,N=-1,R=5,I=-1;function k(){return U?!0:!(i.unstable_now()-I<R)}function O(){if(U=!1,pe){var H=i.unstable_now();I=H;var re=!0;try{e:{j=!1,z&&(z=!1,X(N),N=-1),x=!0;var ue=S;try{t:{for(ae(H),T=n(p);T!==null&&!(T.expirationTime>H&&k());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,S=T.priorityLevel;var Qe=Be(T.expirationTime<=H);if(H=i.unstable_now(),typeof Qe=="function"){T.callback=Qe,ae(H),re=!0;break t}T===n(p)&&s(p),ae(H)}else s(p);T=n(p)}if(T!==null)re=!0;else{var P=n(g);P!==null&&Te(me,P.startTime-H),re=!1}}break e}finally{T=null,S=ue,x=!1}re=void 0}}finally{re?M():pe=!1}}}var M;if(typeof ee=="function")M=function(){ee(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,be=C.port2;C.port1.onmessage=O,M=function(){be.postMessage(null)}}else M=function(){$(O,0)};function Te(H,re){N=$(function(){H(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(H){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var ue=S;S=re;try{return H()}finally{S=ue}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ue=S;S=H;try{return re()}finally{S=ue}},i.unstable_scheduleCallback=function(H,re,ue){var Be=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Be+ue:Be):ue=Be,H){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ue+Qe,H={id:E++,callback:re,priorityLevel:H,startTime:ue,expirationTime:Qe,sortIndex:-1},ue>Be?(H.sortIndex=ue,e(g,H),n(p)===null&&H===n(g)&&(z?(X(N),N=-1):z=!0,Te(me,ue-Be))):(H.sortIndex=Qe,e(p,H),j||x||(j=!0,pe||(pe=!0,M()))),H},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(H){var re=S;return function(){var ue=S;S=re;try{return H.apply(this,arguments)}finally{S=ue}}}})(Wm)),Wm}var VE;function PR(){return VE||(VE=1,Xm.exports=VR()),Xm.exports}var Jm={exports:{}},Jt={};var PE;function LR(){if(PE)return Jt;PE=1;var i=$p();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Jt.flushSync=function(p){var g=c.T,E=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=E,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,E){return c.H.useFormState(p,g,E)},Jt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var LE;function UR(){if(LE)return Jm.exports;LE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jm.exports=LR(),Jm.exports}var UE;function jR(){if(UE)return iu;UE=1;var i=PR(),e=$p(),n=UR();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case $:return"Profiler";case U:return"StrictMode";case me:return"Suspense";case pe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ee:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case ae:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:be(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return be(t(r))}catch{}}return null}var Te=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Be=[],Qe=-1;function P(t){return{current:t}}function ne(t){0>Qe||(t.current=Be[Qe],Be[Qe]=null,Qe--)}function oe(t,r){Qe++,Be[Qe]=t.current,t.current=r}var he=P(null),we=P(null),xe=P(null),je=P(null);function Vt(t,r){switch(oe(xe,r),oe(we,t),oe(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Zv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Zv(r),t=eE(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(he),oe(he,t)}function lt(){ne(he),ne(we),ne(xe)}function Ls(t){t.memoizedState!==null&&oe(je,t);var r=he.current,a=eE(r,t.type);r!==a&&(oe(we,t),oe(he,a))}function Oa(t){we.current===t&&(ne(he),ne(we)),je.current===t&&(ne(je),Jl._currentValue=ue)}var ka,Ma;function _i(t){if(ka===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ka=r&&r[1]||"",Ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+t+Ma}var Jo=!1;function Us(t,r){if(!t||Jo)return"";Jo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var K=Y}Reflect.construct(t,[],te)}else{try{te.call()}catch(Y){K=Y}t.call(te.prototype)}}else{try{throw Error()}catch(Y){K=Y}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),G=b.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===G.length)for(l=D.length-1,f=G.length-1;1<=l&&0<=f&&D[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==G[f]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=f);break}}}finally{Jo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?_i(a):""}function Zo(t,r){switch(t.tag){case 26:case 27:case 5:return _i(t.type);case 16:return _i("Lazy");case 13:return t.child!==r&&r!==null?_i("Suspense Fallback"):_i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Us(t.type,!1);case 11:return Us(t.type.render,!1);case 1:return Us(t.type,!0);case 31:return _i("Activity");default:return""}}function el(t){try{var r="",a=null;do r+=Zo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Pt=i.unstable_scheduleCallback,Pr=i.unstable_cancelCallback,$f=i.unstable_shouldYield,Qu=i.unstable_requestPaint,rn=i.unstable_now,js=i.unstable_getCurrentPriorityLevel,tl=i.unstable_ImmediatePriority,nl=i.unstable_UserBlockingPriority,Lr=i.unstable_NormalPriority,Xf=i.unstable_LowPriority,Yu=i.unstable_IdlePriority,$u=i.log,Xu=i.unstable_setDisableYieldValue,Zn=null,Ht=null;function Vn(t){if(typeof $u=="function"&&Xu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Zn,t)}catch{}}var _t=Math.clz32?Math.clz32:Ju,Wu=Math.log,Va=Math.LN2;function Ju(t){return t>>>=0,t===0?32:31-(Wu(t)/Va|0)|0}var vi=256,zs=262144,At=4194304;function Ei(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Ei(l):(_&=b,_!==0?f=Ei(_):a||(a=b&~t,a!==0&&(f=Ei(a))))):(b=l&~d,b!==0?f=Ei(b):_!==0?f=Ei(_):a||(a=l&~t,a!==0&&(f=Ei(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ei(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Wf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zu(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function bi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Bs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-_t(a),te=1<<W;b[W]=0,D[W]=-1;var K=G[W];if(K!==null)for(G[W]=null,W=0;W<K.length;W++){var Y=K[W];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&qs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function qs(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-_t(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function il(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-_t(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function rl(t,r){var a=r&-r;return a=(a&42)!==0?1:Hs(a),(a&(t.suspendedLanes|r))!==0?0:a}function Hs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function er(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ec(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:wE(t.type))}function ti(t,r){var a=re.p;try{return re.p=t,r()}finally{re.p=a}}var ni=Math.random().toString(36).slice(2),St="__reactFiber$"+ni,jt="__reactProps$"+ni,wi="__reactContainer$"+ni,Pa="__reactEvents$"+ni,Zf="__reactListeners$"+ni,tc="__reactHandles$"+ni,nc="__reactResources$"+ni,Ai="__reactMarker$"+ni;function La(t){delete t[St],delete t[jt],delete t[Pa],delete t[Zf],delete t[tc]}function Si(t){var r=t[St];if(r)return r;for(var a=t.parentNode;a;){if(r=a[wi]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=oE(t);t!==null;){if(a=t[St])return a;t=oE(t)}return r}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[St]||t[wi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function bn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ri(t){var r=t[nc];return r||(r=t[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(t){t[Ai]=!0}var sl=new Set,al={};function Ci(t,r){Ii(t,r),Ii(t+"Capture",r)}function Ii(t,r){for(al[t]=r,t=0;t<r.length;t++)sl.add(r[t])}var ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ll={},ul={};function ic(t){return wt.call(ul,t)?!0:wt.call(ll,t)?!1:ol.test(t)?ul[t]=!0:(ll[t]=!0,!1)}function Ua(t,r,a){if(ic(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function wn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ct(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ur(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ye(t){if(!t._valueTracker){var r=Ur(t)?"checked":"value";t._valueTracker=cl(t,r,""+t[r])}}function Fs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ur(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Gs=/[\n"\\]/g;function un(t){return t.replace(Gs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ja(t,r,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?hl(t,_,zt(r)):a!=null?hl(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+zt(b):t.removeAttribute("name")}function rc(t,r,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ye(t);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function hl(t,r,a){r==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function jr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function sc(t,r,a){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+zt(a):""}function zr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Te(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function cn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ac.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function dl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&fl(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&fl(t,d,r[d])}function za(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(t){return Br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var ml=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qr=null,Ni=null;function Ks(t){var r=Pn(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(ja(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));ja(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Fs(l)}break e;case"textarea":sc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&jr(t,!!a.multiple,r,!1)}}}var qa=!1;function Hr(t,r,a){if(qa)return t(r,a);qa=!0;try{var l=t(r);return l}finally{if(qa=!1,(qr!==null||Ni!==null)&&(eh(),qr&&(r=qr,t=Ni,Ni=qr=null,Ks(r),t)))for(r=0;r<t.length;r++)Ks(t[r])}}function ri(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qs=!1;if(Un)try{var We={};Object.defineProperty(We,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Qs=!1}var Di=null,pl=null,Ys=null;function gl(){if(Ys)return Ys;var t,r=pl,a=r.length,l,f="value"in Di?Di.value:Di.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Ys=f.slice(t,1<l?1-l:void 0)}function $s(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function tr(){return!0}function si(){return!1}function Ft(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?tr:si,this.isPropagationStopped=si,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),r}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Ft(nr),Fr=T({},nr,{view:0,detail:0}),yl=Ft(Fr),Gr,Ha,ki,Fa=T({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Gr=t.screenX-ki.screenX,Ha=t.screenY-ki.screenY):Ha=Gr=0,ki=t),Gr)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),_l=Ft(Fa),Xs=T({},Fa,{dataTransfer:0}),lc=Ft(Xs),uc=T({},Fr,{relatedTarget:0}),Ws=Ft(uc),vl=T({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=Ft(vl),Ga=T({},nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hc=Ft(Ga),fc=T({},nr,{data:0}),Mi=Ft(fc),dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=pc[t])?!!r[t]:!1}function Kr(){return gc}var sn=T({},Fr,{key:function(t){if(t.key){var r=dc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=$s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(t){return t.type==="keypress"?$s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yc=Ft(sn),_c=T({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=Ft(_c),h=T({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),y=Ft(h),v=T({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ft(v),q=T({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ft(q),se=T({},nr,{newState:0,oldState:0}),Ce=Ft(se),vt=[9,13,27,32],Fe=Un&&"CompositionEvent"in window,ut=null;Un&&"documentMode"in document&&(ut=document.documentMode);var jn=Un&&"TextEvent"in window&&!ut,Vi=Un&&(!Fe||ut&&8<ut&&11>=ut),ai=" ",oi=!1;function Js(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function nS(t,r){switch(t){case"compositionend":return Ka(r);case"keypress":return r.which!==32?null:(oi=!0,ai);case"textInput":return t=r.data,t===ai&&oi?null:t;default:return null}}function iS(t,r){if(Qa)return t==="compositionend"||!Fe&&Js(t,r)?(t=gl(),Ys=pl=Di=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Vi&&r.locale!=="ko"?null:r.data;default:return null}}var rS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!rS[t.type]:r==="textarea"}function hy(t,r,a,l){qr?Ni?Ni.push(l):Ni=[l]:qr=l,r=oh(r,"onChange"),0<r.length&&(a=new Oi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var El=null,Tl=null;function sS(t){Qv(t,0)}function vc(t){var r=bn(t);if(Fs(r))return t}function fy(t,r){if(t==="change")return r}var dy=!1;if(Un){var ed;if(Un){var td="oninput"in document;if(!td){var my=document.createElement("div");my.setAttribute("oninput","return;"),td=typeof my.oninput=="function"}ed=td}else ed=!1;dy=ed&&(!document.documentMode||9<document.documentMode)}function py(){El&&(El.detachEvent("onpropertychange",gy),Tl=El=null)}function gy(t){if(t.propertyName==="value"&&vc(Tl)){var r=[];hy(r,Tl,t,Ln(t)),Hr(sS,r)}}function aS(t,r,a){t==="focusin"?(py(),El=r,Tl=a,El.attachEvent("onpropertychange",gy)):t==="focusout"&&py()}function oS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vc(Tl)}function lS(t,r){if(t==="click")return vc(r)}function uS(t,r){if(t==="input"||t==="change")return vc(r)}function cS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:cS;function bl(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!wt.call(r,f)||!An(t[f],r[f]))return!1}return!0}function yy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _y(t,r){var a=yy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yy(a)}}function vy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?vy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ey(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=xi(t.document)}return r}function nd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var hS=Un&&"documentMode"in document&&11>=document.documentMode,Ya=null,id=null,wl=null,rd=!1;function Ty(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rd||Ya==null||Ya!==xi(l)||(l=Ya,"selectionStart"in l&&nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wl&&bl(wl,l)||(wl=l,l=oh(id,"onSelect"),0<l.length&&(r=new Oi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ya)))}function Zs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var $a={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},sd={},by={};Un&&(by=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ea(t){if(sd[t])return sd[t];if(!$a[t])return t;var r=$a[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in by)return sd[t]=r[a];return t}var wy=ea("animationend"),Ay=ea("animationiteration"),Sy=ea("animationstart"),fS=ea("transitionrun"),dS=ea("transitionstart"),mS=ea("transitioncancel"),Ry=ea("transitionend"),Cy=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function li(t,r){Cy.set(t,r),Ci(r,[t])}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Xa=0,od=0;function Tc(){for(var t=Xa,r=od=Xa=0;r<t;){var a=zn[r];zn[r++]=null;var l=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var d=zn[r];if(zn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Iy(a,f,d)}}function bc(t,r,a,l){zn[Xa++]=t,zn[Xa++]=r,zn[Xa++]=a,zn[Xa++]=l,od|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ld(t,r,a,l){return bc(t,r,a,l),wc(t)}function ta(t,r){return bc(t,null,null,r),wc(t)}function Iy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-_t(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function wc(t){if(50<Gl)throw Gl=0,ym=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Wa={};function pS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,r,a,l){return new pS(t,r,a,l)}function ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rr(t,r){var a=t.alternate;return a===null?(a=Sn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function xy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ac(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")ud(t)&&(_=1);else if(typeof t=="string")_=ER(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Sn(31,a,r,f),t.elementType=I,t.lanes=d,t;case z:return na(a.children,f,d,r);case U:_=8,f|=24;break;case $:return t=Sn(12,a,r,f|2),t.elementType=$,t.lanes=d,t;case me:return t=Sn(13,a,r,f),t.elementType=me,t.lanes=d,t;case pe:return t=Sn(19,a,r,f),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:_=10;break e;case X:_=9;break e;case ae:_=11;break e;case N:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Sn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function na(t,r,a,l){return t=Sn(7,t,l,r),t.lanes=a,t}function cd(t,r,a){return t=Sn(6,t,null,r),t.lanes=a,t}function Ny(t){var r=Sn(18,null,null,0);return r.stateNode=t,r}function hd(t,r,a){return r=Sn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Dy=new WeakMap;function Bn(t,r){if(typeof t=="object"&&t!==null){var a=Dy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:el(r)},Dy.set(t,r),r)}return{value:t,source:r,stack:el(r)}}var Ja=[],Za=0,Sc=null,Al=0,qn=[],Hn=0,Qr=null,Pi=1,Li="";function sr(t,r){Ja[Za++]=Al,Ja[Za++]=Sc,Sc=t,Al=r}function Oy(t,r,a){qn[Hn++]=Pi,qn[Hn++]=Li,qn[Hn++]=Qr,Qr=t;var l=Pi;t=Li;var f=32-_t(l)-1;l&=~(1<<f),a+=1;var d=32-_t(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Pi=1<<32-_t(r)+f|a<<f|l,Li=d+t}else Pi=1<<d|a<<f|l,Li=t}function fd(t){t.return!==null&&(sr(t,1),Oy(t,1,0))}function dd(t){for(;t===Sc;)Sc=Ja[--Za],Ja[Za]=null,Al=Ja[--Za],Ja[Za]=null;for(;t===Qr;)Qr=qn[--Hn],qn[Hn]=null,Li=qn[--Hn],qn[Hn]=null,Pi=qn[--Hn],qn[Hn]=null}function ky(t,r){qn[Hn++]=Pi,qn[Hn++]=Li,qn[Hn++]=Qr,Pi=r.id,Li=r.overflow,Qr=t}var Gt=null,rt=null,Ue=!1,Yr=null,Fn=!1,md=Error(s(519));function $r(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(Bn(r,t)),md}function My(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[St]=t,r[jt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Oe(Ql[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),rc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),zr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Wv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||$r(t,!0)}function Vy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Gt=Gt.return}}function eo(t){if(t!==Gt)return!1;if(!Ue)return Vy(t),Ue=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Om(t.type,t.memoizedProps)),a=!a),a&&rt&&$r(t),Vy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=aE(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=aE(t)}else r===27?(r=rt,us(t.type)?(t=Lm,Lm=null,rt=t):rt=r):rt=Gt?Kn(t.stateNode.nextSibling):null;return!0}function ia(){rt=Gt=null,Ue=!1}function pd(){var t=Yr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Yr=null),t}function Sl(t){Yr===null?Yr=[t]:Yr.push(t)}var gd=P(null),ra=null,ar=null;function Xr(t,r,a){oe(gd,r._currentValue),r._currentValue=a}function or(t){t._currentValue=gd.current,ne(gd)}function yd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function _d(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var D=0;D<r.length;D++)if(b.context===r[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),yd(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),yd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function to(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;An(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===je.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}f=f.return}t!==null&&_d(r,t,a,l),r.flags|=262144}function Rc(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){ra=t,ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Py(ra,t)}function Cc(t,r){return ra===null&&sa(t),Py(t,r)}function Py(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ar===null){if(t===null)throw Error(s(308));ar=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ar=ar.next=r;return a}var gS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},yS=i.unstable_scheduleCallback,_S=i.unstable_NormalPriority,It={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vd(){return{controller:new gS,data:new Map,refCount:0}}function Rl(t){t.refCount--,t.refCount===0&&yS(_S,function(){t.controller.abort()})}var Cl=null,Ed=0,no=0,io=null;function vS(t,r){if(Cl===null){var a=Cl=[];Ed=0,no=wm(),io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ed++,r.then(Ly,Ly),r}function Ly(){if(--Ed===0&&Cl!==null){io!==null&&(io.status="fulfilled");var t=Cl;Cl=null,no=0,io=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ES(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Uy=H.S;H.S=function(t,r){Tv=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&vS(t,r),Uy!==null&&Uy(t,r)};var aa=P(null);function Td(){var t=aa.current;return t!==null?t:nt.pooledCache}function Ic(t,r){r===null?oe(aa,aa.current):oe(aa,r.pool)}function jy(){var t=Td();return t===null?null:{parent:It._currentValue,pool:t}}var ro=Error(s(460)),bd=Error(s(474)),xc=Error(s(542)),Nc={then:function(){}};function zy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function By(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ii,ii),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Hy(t),t;default:if(typeof r.status=="string")r.then(ii,ii);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Hy(t),t}throw la=r,ro}}function oa(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(la=a,ro):a}}var la=null;function qy(){if(la===null)throw Error(s(459));var t=la;return la=null,t}function Hy(t){if(t===ro||t===xc)throw Error(s(483))}var so=null,Il=0;function Dc(t){var r=Il;return Il+=1,so===null&&(so=[]),By(so,t,r)}function xl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Oc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Fy(t){function r(B,V){if(t){var F=B.deletions;F===null?(B.deletions=[V],B.flags|=16):F.push(V)}}function a(B,V){if(!t)return null;for(;V!==null;)r(B,V),V=V.sibling;return null}function l(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function f(B,V){return B=rr(B,V),B.index=0,B.sibling=null,B}function d(B,V,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<V?(B.flags|=67108866,V):F):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,V,F,J){return V===null||V.tag!==6?(V=cd(F,B.mode,J),V.return=B,V):(V=f(V,F),V.return=B,V)}function D(B,V,F,J){var ge=F.type;return ge===z?W(B,V,F.props.children,J,F.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&oa(ge)===V.type)?(V=f(V,F.props),xl(V,F),V.return=B,V):(V=Ac(F.type,F.key,F.props,null,B.mode,J),xl(V,F),V.return=B,V)}function G(B,V,F,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==F.containerInfo||V.stateNode.implementation!==F.implementation?(V=hd(F,B.mode,J),V.return=B,V):(V=f(V,F.children||[]),V.return=B,V)}function W(B,V,F,J,ge){return V===null||V.tag!==7?(V=na(F,B.mode,J,ge),V.return=B,V):(V=f(V,F),V.return=B,V)}function te(B,V,F){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=cd(""+V,B.mode,F),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return F=Ac(V.type,V.key,V.props,null,B.mode,F),xl(F,V),F.return=B,F;case j:return V=hd(V,B.mode,F),V.return=B,V;case R:return V=oa(V),te(B,V,F)}if(Te(V)||M(V))return V=na(V,B.mode,F,null),V.return=B,V;if(typeof V.then=="function")return te(B,Dc(V),F);if(V.$$typeof===ee)return te(B,Cc(B,V),F);Oc(B,V)}return null}function K(B,V,F,J){var ge=V!==null?V.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ge!==null?null:b(B,V,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return F.key===ge?D(B,V,F,J):null;case j:return F.key===ge?G(B,V,F,J):null;case R:return F=oa(F),K(B,V,F,J)}if(Te(F)||M(F))return ge!==null?null:W(B,V,F,J,null);if(typeof F.then=="function")return K(B,V,Dc(F),J);if(F.$$typeof===ee)return K(B,V,Cc(B,F),J);Oc(B,F)}return null}function Y(B,V,F,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(F)||null,b(V,B,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return B=B.get(J.key===null?F:J.key)||null,D(V,B,J,ge);case j:return B=B.get(J.key===null?F:J.key)||null,G(V,B,J,ge);case R:return J=oa(J),Y(B,V,F,J,ge)}if(Te(J)||M(J))return B=B.get(F)||null,W(V,B,J,ge,null);if(typeof J.then=="function")return Y(B,V,F,Dc(J),ge);if(J.$$typeof===ee)return Y(B,V,F,Cc(V,J),ge);Oc(V,J)}return null}function fe(B,V,F,J){for(var ge=null,qe=null,de=V,Ne=V=0,Me=null;de!==null&&Ne<F.length;Ne++){de.index>Ne?(Me=de,de=null):Me=de.sibling;var He=K(B,de,F[Ne],J);if(He===null){de===null&&(de=Me);break}t&&de&&He.alternate===null&&r(B,de),V=d(He,V,Ne),qe===null?ge=He:qe.sibling=He,qe=He,de=Me}if(Ne===F.length)return a(B,de),Ue&&sr(B,Ne),ge;if(de===null){for(;Ne<F.length;Ne++)de=te(B,F[Ne],J),de!==null&&(V=d(de,V,Ne),qe===null?ge=de:qe.sibling=de,qe=de);return Ue&&sr(B,Ne),ge}for(de=l(de);Ne<F.length;Ne++)Me=Y(de,B,Ne,F[Ne],J),Me!==null&&(t&&Me.alternate!==null&&de.delete(Me.key===null?Ne:Me.key),V=d(Me,V,Ne),qe===null?ge=Me:qe.sibling=Me,qe=Me);return t&&de.forEach(function(ms){return r(B,ms)}),Ue&&sr(B,Ne),ge}function _e(B,V,F,J){if(F==null)throw Error(s(151));for(var ge=null,qe=null,de=V,Ne=V=0,Me=null,He=F.next();de!==null&&!He.done;Ne++,He=F.next()){de.index>Ne?(Me=de,de=null):Me=de.sibling;var ms=K(B,de,He.value,J);if(ms===null){de===null&&(de=Me);break}t&&de&&ms.alternate===null&&r(B,de),V=d(ms,V,Ne),qe===null?ge=ms:qe.sibling=ms,qe=ms,de=Me}if(He.done)return a(B,de),Ue&&sr(B,Ne),ge;if(de===null){for(;!He.done;Ne++,He=F.next())He=te(B,He.value,J),He!==null&&(V=d(He,V,Ne),qe===null?ge=He:qe.sibling=He,qe=He);return Ue&&sr(B,Ne),ge}for(de=l(de);!He.done;Ne++,He=F.next())He=Y(de,B,Ne,He.value,J),He!==null&&(t&&He.alternate!==null&&de.delete(He.key===null?Ne:He.key),V=d(He,V,Ne),qe===null?ge=He:qe.sibling=He,qe=He);return t&&de.forEach(function(DR){return r(B,DR)}),Ue&&sr(B,Ne),ge}function et(B,V,F,J){if(typeof F=="object"&&F!==null&&F.type===z&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case x:e:{for(var ge=F.key;V!==null;){if(V.key===ge){if(ge=F.type,ge===z){if(V.tag===7){a(B,V.sibling),J=f(V,F.props.children),J.return=B,B=J;break e}}else if(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&oa(ge)===V.type){a(B,V.sibling),J=f(V,F.props),xl(J,F),J.return=B,B=J;break e}a(B,V);break}else r(B,V);V=V.sibling}F.type===z?(J=na(F.props.children,B.mode,J,F.key),J.return=B,B=J):(J=Ac(F.type,F.key,F.props,null,B.mode,J),xl(J,F),J.return=B,B=J)}return _(B);case j:e:{for(ge=F.key;V!==null;){if(V.key===ge)if(V.tag===4&&V.stateNode.containerInfo===F.containerInfo&&V.stateNode.implementation===F.implementation){a(B,V.sibling),J=f(V,F.children||[]),J.return=B,B=J;break e}else{a(B,V);break}else r(B,V);V=V.sibling}J=hd(F,B.mode,J),J.return=B,B=J}return _(B);case R:return F=oa(F),et(B,V,F,J)}if(Te(F))return fe(B,V,F,J);if(M(F)){if(ge=M(F),typeof ge!="function")throw Error(s(150));return F=ge.call(F),_e(B,V,F,J)}if(typeof F.then=="function")return et(B,V,Dc(F),J);if(F.$$typeof===ee)return et(B,V,Cc(B,F),J);Oc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,V!==null&&V.tag===6?(a(B,V.sibling),J=f(V,F),J.return=B,B=J):(a(B,V),J=cd(F,B.mode,J),J.return=B,B=J),_(B)):a(B,V)}return function(B,V,F,J){try{Il=0;var ge=et(B,V,F,J);return so=null,ge}catch(de){if(de===ro||de===xc)throw de;var qe=Sn(29,de,null,B.mode);return qe.lanes=J,qe.return=B,qe}}}var ua=Fy(!0),Gy=Fy(!1),Wr=!1;function wd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Jr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=wc(t),Iy(t,null,a),r}return bc(t,l,r,a),wc(t)}function Nl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,il(t,a)}}function Sd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Rd=!1;function Dl(){if(Rd){var t=io;if(t!==null)throw t}}function Ol(t,r,a,l){Rd=!1;var f=t.updateQueue;Wr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,G=D.next;D.next=null,_===null?d=G:_.next=G,_=D;var W=t.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==_&&(b===null?W.firstBaseUpdate=G:b.next=G,W.lastBaseUpdate=D))}if(d!==null){var te=f.baseState;_=0,W=G=D=null,b=d;do{var K=b.lane&-536870913,Y=K!==b.lane;if(Y?(ke&K)===K:(l&K)===K){K!==0&&K===no&&(Rd=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=t,_e=b;K=r;var et=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){te=fe.call(et,te,K);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,K=typeof fe=="function"?fe.call(et,te,K):fe,K==null)break e;te=T({},te,K);break e;case 2:Wr=!0}}K=b.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(G=W=Y,D=te):W=W.next=Y,_|=K;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(D=te),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),rs|=_,t.lanes=_,t.memoizedState=te}}function Ky(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Qy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ky(a[t],r)}var ao=P(null),kc=P(0);function Yy(t,r){t=gr,oe(kc,t),oe(ao,r),gr=t|r.baseLanes}function Cd(){oe(kc,gr),oe(ao,ao.current)}function Id(){gr=kc.current,ne(ao),ne(kc)}var Rn=P(null),Gn=null;function es(t){var r=t.alternate;oe(Et,Et.current&1),oe(Rn,t),Gn===null&&(r===null||ao.current!==null||r.memoizedState!==null)&&(Gn=t)}function xd(t){oe(Et,Et.current),oe(Rn,t),Gn===null&&(Gn=t)}function $y(t){t.tag===22?(oe(Et,Et.current),oe(Rn,t),Gn===null&&(Gn=t)):ts()}function ts(){oe(Et,Et.current),oe(Rn,Rn.current)}function Cn(t){ne(Rn),Gn===t&&(Gn=null),ne(Et)}var Et=P(0);function Mc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vm(a)||Pm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var lr=0,Ie=null,Je=null,xt=null,Vc=!1,oo=!1,ca=!1,Pc=0,kl=0,lo=null,TS=0;function pt(){throw Error(s(321))}function Nd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!An(t[a],r[a]))return!1;return!0}function Dd(t,r,a,l,f,d){return lr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=t===null||t.memoizedState===null?O_:Kd,ca=!1,d=a(l,f),ca=!1,oo&&(d=Wy(r,a,l,f)),Xy(t),d}function Xy(t){H.H=Pl;var r=Je!==null&&Je.next!==null;if(lr=0,xt=Je=Ie=null,Vc=!1,kl=0,lo=null,r)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Rc(t)&&(Nt=!0))}function Wy(t,r,a,l){Ie=t;var f=0;do{if(oo&&(lo=null),kl=0,oo=!1,25<=f)throw Error(s(301));if(f+=1,xt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=k_,d=r(a,l)}while(oo);return d}function bS(){var t=H.H,r=t.useState()[0];return r=typeof r.then=="function"?Ml(r):r,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Od(){var t=Pc!==0;return Pc=0,t}function kd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Md(t){if(Vc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Vc=!1}lr=0,xt=Je=Ie=null,oo=!1,kl=Pc=0,lo=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ie.memoizedState=xt=t:xt=xt.next=t,xt}function Tt(){if(Je===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=xt===null?Ie.memoizedState:xt.next;if(r!==null)xt=r,Je=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},xt===null?Ie.memoizedState=xt=t:xt=xt.next=t}return xt}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var r=kl;return kl+=1,lo===null&&(lo=[]),t=By(lo,t,r),r=Ie,(xt===null?r.memoizedState:xt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?O_:Kd),t}function Uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===ee)return Kt(t)}throw Error(s(438,String(t)))}function Vd(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Lc(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=k;return r.index++,a}function ur(t,r){return typeof r=="function"?r(t):r}function jc(t){var r=Tt();return Pd(r,Je,t)}function Pd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=_=null,D=null,G=r,W=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(ke&te)===te:(lr&te)===te){var K=G.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===no&&(W=!0);else if((lr&K)===K){G=G.next,K===no&&(W=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(b=D=te,_=d):D=D.next=te,Ie.lanes|=K,rs|=K;te=G.action,ca&&a(d,te),d=G.hasEagerState?G.eagerState:a(d,te)}else K={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(b=D=K,_=d):D=D.next=K,Ie.lanes|=te,rs|=te;G=G.next}while(G!==null&&G!==r);if(D===null?_=d:D.next=b,!An(d,t.memoizedState)&&(Nt=!0,W&&(a=io,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ld(t){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);An(d,r.memoizedState)||(Nt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Jy(t,r,a){var l=Ie,f=Tt(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!An((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,Nt=!0),f=f.queue,zd(t_.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,uo(9,{destroy:void 0},e_.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));d||(lr&127)!==0||Zy(l,r,a)}return a}function Zy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Lc(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function e_(t,r,a,l){r.value=a,r.getSnapshot=l,n_(r)&&i_(t)}function t_(t,r,a){return a(function(){n_(r)&&i_(t)})}function n_(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!An(t,a)}catch{return!0}}function i_(t){var r=ta(t,2);r!==null&&pn(r,t,2)}function Ud(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),ca){Vn(!0);try{a()}finally{Vn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:t},r}function r_(t,r,a,l){return t.baseState=a,Pd(t,Je,typeof l=="function"?l:ur)}function wS(t,r,a,l,f){if(qc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,s_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function s_(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=H.T,_={};H.T=_;try{var b=a(f,l),D=H.S;D!==null&&D(_,b),a_(t,r,b)}catch(G){jd(t,r,G)}finally{d!==null&&_.types!==null&&(d.types=_.types),H.T=d}}else try{d=a(f,l),a_(t,r,d)}catch(G){jd(t,r,G)}}function a_(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){o_(t,r,l)},function(l){return jd(t,r,l)}):o_(t,r,a)}function o_(t,r,a){r.status="fulfilled",r.value=a,l_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,s_(t,a)))}function jd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,l_(r),r=r.next;while(r!==l)}t.action=null}function l_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function u_(t,r){return r}function c_(t,r){if(Ue){var a=nt.formState;if(a!==null){e:{var l=Ie;if(Ue){if(rt){t:{for(var f=rt,d=Fn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){rt=Kn(f.nextSibling),l=f.data==="F!";break e}}$r(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u_,lastRenderedState:r},a.queue=l,a=x_.bind(null,Ie,l),l.dispatch=a,l=Ud(!1),d=Gd.bind(null,Ie,!1,l.queue),l=an(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=wS.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function h_(t){var r=Tt();return f_(r,Je,t)}function f_(t,r,a){if(r=Pd(t,r,u_)[0],t=jc(ur)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ml(r)}catch(_){throw _===ro?xc:_}else l=r;r=Tt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,uo(9,{destroy:void 0},AS.bind(null,f,a),null)),[l,d,t]}function AS(t,r){t.action=r}function d_(t){var r=Tt(),a=Je;if(a!==null)return f_(r,a,t);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function uo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Lc(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function m_(){return Tt().memoizedState}function zc(t,r,a,l){var f=an();Ie.flags|=t,f.memoizedState=uo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Bc(t,r,a,l){var f=Tt();l=l===void 0?null:l;var d=f.memoizedState.inst;Je!==null&&l!==null&&Nd(l,Je.memoizedState.deps)?f.memoizedState=uo(r,d,a,l):(Ie.flags|=t,f.memoizedState=uo(1|r,d,a,l))}function p_(t,r){zc(8390656,8,t,r)}function zd(t,r){Bc(2048,8,t,r)}function SS(t){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=Lc(),Ie.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function g_(t){var r=Tt().memoizedState;return SS({ref:r,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function y_(t,r){return Bc(4,2,t,r)}function __(t,r){return Bc(4,4,t,r)}function v_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function E_(t,r,a){a=a!=null?a.concat([t]):null,Bc(4,4,v_.bind(null,r,t),a)}function Bd(){}function T_(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Nd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function b_(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Nd(r,l[1]))return l[0];if(l=t(),ca){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,r],l}function qd(t,r,a){return a===void 0||(lr&1073741824)!==0&&(ke&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=wv(),Ie.lanes|=t,rs|=t,a)}function w_(t,r,a,l){return An(a,r)?a:ao.current!==null?(t=qd(t,a,l),An(t,r)||(Nt=!0),t):(lr&42)===0||(lr&1073741824)!==0&&(ke&261930)===0?(Nt=!0,t.memoizedState=a):(t=wv(),Ie.lanes|=t,rs|=t,r)}function A_(t,r,a,l,f){var d=re.p;re.p=d!==0&&8>d?d:8;var _=H.T,b={};H.T=b,Gd(t,!1,r,a);try{var D=f(),G=H.S;if(G!==null&&G(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=ES(D,l);Vl(t,r,W,Nn(t))}else Vl(t,r,l,Nn(t))}catch(te){Vl(t,r,{then:function(){},status:"rejected",reason:te},Nn())}finally{re.p=d,_!==null&&b.types!==null&&(_.types=b.types),H.T=_}}function RS(){}function Hd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=S_(t).queue;A_(t,f,r,ue,a===null?RS:function(){return R_(t),a(l)})}function S_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:ue},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function R_(t){var r=S_(t);r.next===null&&(r=t.alternate.memoizedState),Vl(t,r.next.queue,{},Nn())}function Fd(){return Kt(Jl)}function C_(){return Tt().memoizedState}function I_(){return Tt().memoizedState}function CS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();t=Jr(a);var l=Zr(r,t,a);l!==null&&(pn(l,r,a),Nl(l,r,a)),r={cache:vd()},t.payload=r;return}r=r.return}}function IS(t,r,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(t)?N_(r,a):(a=ld(t,r,a,l),a!==null&&(pn(a,t,l),D_(a,r,l)))}function x_(t,r,a){var l=Nn();Vl(t,r,a,l)}function Vl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(t))N_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,An(b,_))return bc(t,r,f,0),nt===null&&Tc(),!1}catch{}if(a=ld(t,r,f,l),a!==null)return pn(a,t,l),D_(a,r,l),!0}return!1}function Gd(t,r,a,l){if(l={lane:2,revertLane:wm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(t)){if(r)throw Error(s(479))}else r=ld(t,a,l,2),r!==null&&pn(r,t,2)}function qc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function N_(t,r){oo=Vc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function D_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,il(t,a)}}var Pl={readContext:Kt,use:Uc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Pl.useEffectEvent=pt;var O_={readContext:Kt,use:Uc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:p_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,zc(4194308,4,v_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return zc(4194308,4,t,r)},useInsertionEffect:function(t,r){zc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(ca){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var f=a(r);if(ca){Vn(!0);try{a(r)}finally{Vn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=IS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Ud(t);var r=t.queue,a=x_.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Bd,useDeferredValue:function(t,r){var a=an();return qd(a,t,r)},useTransition:function(){var t=Ud(!1);return t=A_.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,f=an();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(ke&127)!==0||Zy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,p_(t_.bind(null,l,d,t),[t]),l.flags|=2048,uo(9,{destroy:void 0},e_.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=nt.identifierPrefix;if(Ue){var a=Li,l=Pi;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Pc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=TS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Fd,useFormState:c_,useActionState:c_,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Gd.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:Vd,useCacheRefresh:function(){return an().memoizedState=CS.bind(null,Ie)},useEffectEvent:function(t){var r=an(),a={impl:t};return r.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Kd={readContext:Kt,use:Uc,useCallback:T_,useContext:Kt,useEffect:zd,useImperativeHandle:E_,useInsertionEffect:y_,useLayoutEffect:__,useMemo:b_,useReducer:jc,useRef:m_,useState:function(){return jc(ur)},useDebugValue:Bd,useDeferredValue:function(t,r){var a=Tt();return w_(a,Je.memoizedState,t,r)},useTransition:function(){var t=jc(ur)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:Ml(t),r]},useSyncExternalStore:Jy,useId:C_,useHostTransitionStatus:Fd,useFormState:h_,useActionState:h_,useOptimistic:function(t,r){var a=Tt();return r_(a,Je,t,r)},useMemoCache:Vd,useCacheRefresh:I_};Kd.useEffectEvent=g_;var k_={readContext:Kt,use:Uc,useCallback:T_,useContext:Kt,useEffect:zd,useImperativeHandle:E_,useInsertionEffect:y_,useLayoutEffect:__,useMemo:b_,useReducer:Ld,useRef:m_,useState:function(){return Ld(ur)},useDebugValue:Bd,useDeferredValue:function(t,r){var a=Tt();return Je===null?qd(a,t,r):w_(a,Je.memoizedState,t,r)},useTransition:function(){var t=Ld(ur)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:Ml(t),r]},useSyncExternalStore:Jy,useId:C_,useHostTransitionStatus:Fd,useFormState:d_,useActionState:d_,useOptimistic:function(t,r){var a=Tt();return Je!==null?r_(a,Je,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:I_};k_.useEffectEvent=g_;function Qd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Nn(),f=Jr(l);f.payload=r,a!=null&&(f.callback=a),r=Zr(t,f,l),r!==null&&(pn(r,t,l),Nl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Nn(),f=Jr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Zr(t,f,l),r!==null&&(pn(r,t,l),Nl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Nn(),l=Jr(a);l.tag=2,r!=null&&(l.callback=r),r=Zr(t,l,a),r!==null&&(pn(r,t,a),Nl(r,t,a))}};function M_(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!bl(a,l)||!bl(f,d):!0}function V_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Yd.enqueueReplaceState(r,r.state,null)}function ha(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function P_(t){Ec(t)}function L_(t){console.error(t)}function U_(t){Ec(t)}function Hc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function j_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $d(t,r,a){return a=Jr(a),a.tag=3,a.payload={element:null},a.callback=function(){Hc(t,r)},a}function z_(t){return t=Jr(t),t.tag=3,t}function B_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){j_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){j_(r,a,l),typeof f!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function xS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&to(r,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?th():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Nc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Em(t,l,f)),!1;case 22:return a.flags|=65536,l===Nc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Em(t,l,f)),!1}throw Error(s(435,a.tag))}return Em(t,l,f),th(),!1}if(Ue)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==md&&(t=Error(s(422),{cause:l}),Sl(Bn(t,a)))):(l!==md&&(r=Error(s(423),{cause:l}),Sl(Bn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Bn(l,a),f=$d(t.stateNode,l,f),Sd(t,f),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:l});if(d=Bn(d,a),Fl===null?Fl=[d]:Fl.push(d),gt!==4&&(gt=2),r===null)return!0;l=Bn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=$d(a.stateNode,l,t),Sd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ss===null||!ss.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=z_(f),B_(f,t,a,l),Sd(a,f),!1}a=a.return}while(a!==null);return!1}var Xd=Error(s(461)),Nt=!1;function Qt(t,r,a,l){r.child=t===null?Gy(r,null,a,l):ua(r,t.child,a,l)}function q_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return sa(r),l=Dd(t,r,a,_,d,f),b=Od(),t!==null&&!Nt?(kd(t,r,f),cr(t,r,f)):(Ue&&b&&fd(r),r.flags|=1,Qt(t,r,l,f),r.child)}function H_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!ud(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,F_(t,r,d,l,f)):(t=Ac(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!rm(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:bl,a(_,l)&&t.ref===r.ref)return cr(t,r,f)}return r.flags|=1,t=rr(d,l),t.ref=r.ref,t.return=r,r.child=t}function F_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(bl(d,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=d,rm(t,f))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,cr(t,r,f)}return Wd(t,r,a,l,f)}function G_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return K_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ic(r,d!==null?d.cachePool:null),d!==null?Yy(r,d):Cd(),$y(r);else return l=r.lanes=536870912,K_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Ic(r,d.cachePool),Yy(r,d),ts(),r.memoizedState=null):(t!==null&&Ic(r,null),Cd(),ts());return Qt(t,r,f,a),r.child}function Ll(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function K_(t,r,a,l,f){var d=Td();return d=d===null?null:{parent:It._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&Ic(r,null),Cd(),$y(r),t!==null&&to(t,r,l,!0),r.childLanes=f,null}function Fc(t,r){return r=Kc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Q_(t,r,a){return ua(r,t.child,null,a),t=Fc(r,r.pendingProps),t.flags|=2,Cn(r),r.memoizedState=null,t}function NS(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Fc(r,l),r.lanes=536870912,Ll(null,t);if(xd(r),(t=rt)?(t=sE(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Qr!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=Ny(t),a.return=r,r.child=a,Gt=r,rt=null)):t=null,t===null)throw $r(r);return r.lanes=536870912,null}return Fc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(xd(r),f)if(r.flags&256)r.flags&=-257,r=Q_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nt||to(t,r,a,!1),f=(a&t.childLanes)!==0,Nt||f){if(l=nt,l!==null&&(_=rl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ta(t,_),pn(l,t,_),Xd;th(),r=Q_(t,r,a)}else t=d.treeContext,rt=Kn(_.nextSibling),Gt=r,Ue=!0,Yr=null,Fn=!1,t!==null&&ky(r,t),r=Fc(r,l),r.flags|=4096;return r}return t=rr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Gc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Wd(t,r,a,l,f){return sa(r),a=Dd(t,r,a,l,void 0,f),l=Od(),t!==null&&!Nt?(kd(t,r,f),cr(t,r,f)):(Ue&&l&&fd(r),r.flags|=1,Qt(t,r,a,f),r.child)}function Y_(t,r,a,l,f,d){return sa(r),r.updateQueue=null,a=Wy(r,l,a,f),Xy(t),l=Od(),t!==null&&!Nt?(kd(t,r,d),cr(t,r,d)):(Ue&&l&&fd(r),r.flags|=1,Qt(t,r,a,d),r.child)}function $_(t,r,a,l,f){if(sa(r),r.stateNode===null){var d=Wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},wd(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Wa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Yd.enqueueReplaceState(d,d.state,null),Ol(r,l,d,f),Dl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,D=ha(a,b);d.props=D;var G=d.context,W=a.contextType;_=Wa,typeof W=="object"&&W!==null&&(_=Kt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||G!==_)&&V_(r,d,l,_),Wr=!1;var K=r.memoizedState;d.state=K,Ol(r,l,d,f),Dl(),G=r.memoizedState,b||K!==G||Wr?(typeof te=="function"&&(Qd(r,a,te,l),G=r.memoizedState),(D=Wr||M_(r,a,D,l,K,G,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Ad(t,r),_=r.memoizedProps,W=ha(a,_),d.props=W,te=r.pendingProps,K=d.context,G=a.contextType,D=Wa,typeof G=="object"&&G!==null&&(D=Kt(G)),b=a.getDerivedStateFromProps,(G=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||K!==D)&&V_(r,d,l,D),Wr=!1,K=r.memoizedState,d.state=K,Ol(r,l,d,f),Dl();var Y=r.memoizedState;_!==te||K!==Y||Wr||t!==null&&t.dependencies!==null&&Rc(t.dependencies)?(typeof b=="function"&&(Qd(r,a,b,l),Y=r.memoizedState),(W=Wr||M_(r,a,W,l,K,Y,D)||t!==null&&t.dependencies!==null&&Rc(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Gc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=ua(r,t.child,null,f),r.child=ua(r,null,a,f)):Qt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=cr(t,r,f),t}function X_(t,r,a,l){return ia(),r.flags|=256,Qt(t,r,a,l),r.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(t){return{baseLanes:t,cachePool:jy()}}function em(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=xn),t}function W_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ue){if(f?es(r):ts(),(t=rt)?(t=sE(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Qr!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=Ny(t),a.return=r,r.child=a,Gt=r,rt=null)):t=null,t===null)throw $r(r);return Pm(t)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(ts(),f=r.mode,b=Kc({mode:"hidden",children:b},f),l=na(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=Zd(a),l.childLanes=em(t,_,a),r.memoizedState=Jd,Ll(null,l)):(es(r),tm(r,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)r.flags&256?(es(r),r.flags&=-257,r=nm(t,r,a)):r.memoizedState!==null?(ts(),r.child=t.child,r.flags|=128,r=null):(ts(),b=l.fallback,f=r.mode,l=Kc({mode:"visible",children:l.children},f),b=na(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,ua(r,t.child,null,a),l=r.child,l.memoizedState=Zd(a),l.childLanes=em(t,_,a),r.memoizedState=Jd,r=Ll(null,l));else if(es(r),Pm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,Sl({value:l,source:null,stack:null}),r=nm(t,r,a)}else if(Nt||to(t,r,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=nt,_!==null&&(l=rl(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ta(t,l),pn(_,t,l),Xd;Vm(b)||th(),r=nm(t,r,a)}else Vm(b)?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,rt=Kn(b.nextSibling),Gt=r,Ue=!0,Yr=null,Fn=!1,t!==null&&ky(r,t),r=tm(r,l.children),r.flags|=4096);return r}return f?(ts(),b=l.fallback,f=r.mode,D=t.child,G=D.sibling,l=rr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?b=rr(G,b):(b=na(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,Ll(null,l),l=r.child,b=t.child.memoizedState,b===null?b=Zd(a):(f=b.cachePool,f!==null?(D=It._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=jy(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=em(t,_,a),r.memoizedState=Jd,Ll(t.child,l)):(es(r),a=t.child,t=a.sibling,a=rr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function tm(t,r){return r=Kc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Kc(t,r){return t=Sn(22,t,null,r),t.lanes=0,t}function nm(t,r,a){return ua(r,t.child,null,a),t=tm(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function J_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),yd(t.return,r,a)}function im(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function Z_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Et.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,oe(Et,_),Qt(t,r,l,a),l=Ue?Al:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&J_(t,a,r);else if(t.tag===19)J_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Mc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),im(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Mc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}im(r,!0,a,null,d,l);break;case"together":im(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function cr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),rs|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(to(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=rr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=rr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function rm(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Rc(t)))}function DS(t,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),Xr(r,It,t.memoizedState.cache),ia();break;case 27:case 5:Ls(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:Xr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,xd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(es(r),r.flags|=128,null):(a&r.child.childLanes)!==0?W_(t,r,a):(es(r),t=cr(t,r,a),t!==null?t.sibling:null);es(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(to(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Z_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(Et,Et.current),l)break;return null;case 22:return r.lanes=0,G_(t,r,a,r.pendingProps);case 24:Xr(r,It,t.memoizedState.cache)}return cr(t,r,a)}function ev(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!rm(t,a)&&(r.flags&128)===0)return Nt=!1,DS(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,Ue&&(r.flags&1048576)!==0&&Oy(r,Al,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=oa(r.elementType),r.type=t,typeof t=="function")ud(t)?(l=ha(t,l),r.tag=1,r=$_(null,r,t,l,a)):(r.tag=0,r=Wd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ae){r.tag=11,r=q_(null,r,t,l,a);break e}else if(f===N){r.tag=14,r=H_(null,r,t,l,a);break e}}throw r=be(t)||t,Error(s(306,r,""))}}return r;case 0:return Wd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ha(l,r.pendingProps),$_(t,r,l,f,a);case 3:e:{if(Vt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Ad(t,r),Ol(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Xr(r,It,l),l!==d.cache&&_d(r,[It],a,!0),Dl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=X_(t,r,l,a);break e}else if(l!==f){f=Bn(Error(s(424)),r),Sl(f),r=X_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Kn(t.firstChild),Gt=r,Ue=!0,Yr=null,Fn=!0,a=Gy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ia(),l===f){r=cr(t,r,a);break e}Qt(t,r,l,a)}r=r.child}return r;case 26:return Gc(t,r),t===null?(a=hE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ue||(a=r.type,t=r.pendingProps,l=lh(xe.current).createElement(a),l[St]=r,l[jt]=t,Yt(l,a,t),Rt(l),r.stateNode=l):r.memoizedState=hE(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ls(r),t===null&&Ue&&(l=r.stateNode=lE(r.type,r.pendingProps,xe.current),Gt=r,Fn=!0,f=rt,us(r.type)?(Lm=f,rt=Kn(l.firstChild)):rt=f),Qt(t,r,r.pendingProps.children,a),Gc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ue&&((f=l=rt)&&(l=oR(l,r.type,r.pendingProps,Fn),l!==null?(r.stateNode=l,Gt=r,rt=Kn(l.firstChild),Fn=!1,f=!0):f=!1),f||$r(r)),Ls(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Om(f,d)?l=null:_!==null&&Om(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Dd(t,r,bS,null,null,a),Jl._currentValue=f),Gc(t,r),Qt(t,r,l,a),r.child;case 6:return t===null&&Ue&&((t=a=rt)&&(a=lR(a,r.pendingProps,Fn),a!==null?(r.stateNode=a,Gt=r,rt=null,t=!0):t=!1),t||$r(r)),null;case 13:return W_(t,r,a);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ua(r,null,l,a):Qt(t,r,l,a),r.child;case 11:return q_(t,r,r.type,r.pendingProps,a);case 7:return Qt(t,r,r.pendingProps,a),r.child;case 8:return Qt(t,r,r.pendingProps.children,a),r.child;case 12:return Qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Xr(r,r.type,l.value),Qt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,sa(r),f=Kt(f),l=l(f),r.flags|=1,Qt(t,r,l,a),r.child;case 14:return H_(t,r,r.type,r.pendingProps,a);case 15:return F_(t,r,r.type,r.pendingProps,a);case 19:return Z_(t,r,a);case 31:return NS(t,r,a);case 22:return G_(t,r,a,r.pendingProps);case 24:return sa(r),l=Kt(It),t===null?(f=Td(),f===null&&(f=nt,d=vd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},wd(r),Xr(r,It,f)):((t.lanes&a)!==0&&(Ad(t,r),Ol(r,null,null,a),Dl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Xr(r,It,l)):(l=d.cache,Xr(r,It,l),l!==f.cache&&_d(r,[It],a,!0))),Qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function hr(t){t.flags|=4}function sm(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Cv())t.flags|=8192;else throw la=Nc,bd}else t.flags&=-16777217}function tv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gE(r))if(Cv())t.flags|=8192;else throw la=Nc,bd}function Qc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Zu():536870912,t.lanes|=r,mo|=r)}function Ul(t,r){if(!Ue)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function OS(t,r,a){var l=r.pendingProps;switch(dd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),or(It),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(eo(r)?hr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,pd())),st(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(hr(r),d!==null?(st(r),tv(r,d)):(st(r),sm(r,f,null,l,a))):d?d!==t.memoizedState?(hr(r),st(r),tv(r,d)):(st(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&hr(r),st(r),sm(r,f,t,l,a)),null;case 27:if(Oa(r),a=xe.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}t=he.current,eo(r)?My(r):(t=lE(f,l,a),r.stateNode=t,hr(r))}return st(r),null;case 5:if(Oa(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(d=he.current,eo(r))My(r);else{var _=lh(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[St]=r,d[jt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Yt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hr(r)}}return st(r),sm(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&hr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=xe.current,eo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Wv(t.nodeValue,a)),t||$r(r,!0)}else t=lh(t).createTextNode(l),t[St]=r,r.stateNode=t}return st(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=eo(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),t=!1}else a=pd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Cn(r),r):(Cn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return st(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=eo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),f=!1}else f=pd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Cn(r),r):(Cn(r),null)}return Cn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Qc(r,r.updateQueue),st(r),null);case 4:return lt(),t===null&&Cm(r.stateNode.containerInfo),st(r),null;case 10:return or(r.type),st(r),null;case 19:if(ne(Et),l=r.memoizedState,l===null)return st(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Ul(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Mc(t),d!==null){for(r.flags|=128,Ul(l,!1),t=d.updateQueue,r.updateQueue=t,Qc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)xy(a,t),a=a.sibling;return oe(Et,Et.current&1|2),Ue&&sr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&rn()>Jc&&(r.flags|=128,f=!0,Ul(l,!1),r.lanes=4194304)}else{if(!f)if(t=Mc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Qc(r,t),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return st(r),null}else 2*rn()-l.renderingStartTime>Jc&&a!==536870912&&(r.flags|=128,f=!0,Ul(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=Et.current,oe(Et,f?a&1|2:a&1),Ue&&sr(r,l.treeForkCount),t):(st(r),null);case 22:case 23:return Cn(r),Id(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&Qc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ne(aa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),or(It),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function kS(t,r){switch(dd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return or(It),lt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Oa(r),null;case 31:if(r.memoizedState!==null){if(Cn(r),r.alternate===null)throw Error(s(340));ia()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Cn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ia()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ne(Et),null;case 4:return lt(),null;case 10:return or(r.type),null;case 22:case 23:return Cn(r),Id(),t!==null&&ne(aa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return or(It),null;case 25:return null;default:return null}}function nv(t,r){switch(dd(r),r.tag){case 3:or(It),lt();break;case 26:case 27:case 5:Oa(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&Cn(r);break;case 13:Cn(r);break;case 19:ne(Et);break;case 10:or(r.type);break;case 22:case 23:Cn(r),Id(),t!==null&&ne(aa);break;case 24:or(It)}}function jl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Xe(r,r.return,b)}}function ns(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var D=a,G=b;try{G()}catch(W){Xe(f,D,W)}}}l=l.next}while(l!==d)}}catch(W){Xe(r,r.return,W)}}function iv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Qy(r,a)}catch(l){Xe(t,t.return,l)}}}function rv(t,r,a){a.props=ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,r,l)}}function zl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,r,f)}}function Ui(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,r,f)}else a.current=null}function sv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function am(t,r,a){try{var l=t.stateNode;tR(l,t.type,a,r),l[jt]=r}catch(f){Xe(t,t.return,f)}}function av(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&us(t.type)||t.tag===4}function om(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||av(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lm(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ii));else if(l!==4&&(l===27&&us(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(lm(t,r,a),t=t.sibling;t!==null;)lm(t,r,a),t=t.sibling}function Yc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&us(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Yc(t,r,a),t=t.sibling;t!==null;)Yc(t,r,a),t=t.sibling}function ov(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Yt(r,l,a),r[St]=t,r[jt]=a}catch(d){Xe(t,t.return,d)}}var fr=!1,Dt=!1,um=!1,lv=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function MS(t,r){if(t=t.containerInfo,Nm=ph,t=Ey(t),nd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,D=-1,G=0,W=0,te=t,K=null;t:for(;;){for(var Y;te!==a||f!==0&&te.nodeType!==3||(b=_+f),te!==d||l!==0&&te.nodeType!==3||(D=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(Y=te.firstChild)!==null;)K=te,te=Y;for(;;){if(te===t)break t;if(K===a&&++G===f&&(b=_),K===d&&++W===l&&(D=_),(Y=te.nextSibling)!==null)break;te=K,K=te.parentNode}te=Y}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dm={focusedElem:t,selectionRange:a},ph=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=ha(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Mm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Mm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function uv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:mr(t,a),l&4&&jl(5,a);break;case 1:if(mr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var f=ha(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&iv(a),l&512&&zl(a,a.return);break;case 3:if(mr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Qy(t,r)}catch(_){Xe(a,a.return,_)}}break;case 27:r===null&&l&4&&ov(a);case 26:case 5:mr(t,a),r===null&&l&4&&sv(a),l&512&&zl(a,a.return);break;case 12:mr(t,a);break;case 31:mr(t,a),l&4&&fv(t,a);break;case 13:mr(t,a),l&4&&dv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=HS.bind(null,a),uR(t,a))));break;case 22:if(l=a.memoizedState!==null||fr,!l){r=r!==null&&r.memoizedState!==null||Dt,f=fr;var d=Dt;fr=l,(Dt=r)&&!d?pr(t,a,(a.subtreeFlags&8772)!==0):mr(t,a),fr=f,Dt=d}break;case 30:break;default:mr(t,a)}}function cv(t){var r=t.alternate;r!==null&&(t.alternate=null,cv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&La(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,hn=!1;function dr(t,r,a){for(a=a.child;a!==null;)hv(t,r,a),a=a.sibling}function hv(t,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:Dt||Ui(a,r),dr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Ui(a,r);var l=ct,f=hn;us(a.type)&&(ct=a.stateNode,hn=!1),dr(t,r,a),$l(a.stateNode),ct=l,hn=f;break;case 5:Dt||Ui(a,r);case 6:if(l=ct,f=hn,ct=null,dr(t,r,a),ct=l,hn=f,ct!==null)if(hn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Xe(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){Xe(a,r,d)}break;case 18:ct!==null&&(hn?(t=ct,iE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),bo(t)):iE(ct,a.stateNode));break;case 4:l=ct,f=hn,ct=a.stateNode.containerInfo,hn=!0,dr(t,r,a),ct=l,hn=f;break;case 0:case 11:case 14:case 15:ns(2,a,r),Dt||ns(4,a,r),dr(t,r,a);break;case 1:Dt||(Ui(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&rv(a,r,l)),dr(t,r,a);break;case 21:dr(t,r,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,dr(t,r,a),Dt=l;break;default:dr(t,r,a)}}function fv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{bo(t)}catch(a){Xe(r,r.return,a)}}}function dv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bo(t)}catch(a){Xe(r,r.return,a)}}function VS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new lv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new lv),r;default:throw Error(s(435,t.tag))}}function $c(t,r){var a=VS(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=FS.bind(null,t,l);l.then(f,f)}})}function fn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(us(b.type)){ct=b.stateNode,hn=!1;break e}break;case 5:ct=b.stateNode,hn=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,hn=!0;break e}b=b.return}if(ct===null)throw Error(s(160));hv(d,_,f),ct=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)mv(r,t),r=r.sibling}var ui=null;function mv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),dn(t),l&4&&(ns(3,t,t.return),jl(3,t),ns(5,t,t.return));break;case 1:fn(r,t),dn(t),l&512&&(Dt||a===null||Ui(a,a.return)),l&64&&fr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ui;if(fn(r,t),dn(t),l&512&&(Dt||a===null||Ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ai]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Yt(d,l,a),d[St]=t,Rt(d),l=d;break e;case"link":var _=mE("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=mE("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,Rt(d),l=d}t.stateNode=l}else pE(f,t.type,t.stateNode);else t.stateNode=dE(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?pE(f,t.type,t.stateNode):dE(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&am(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(r,t),dn(t),l&512&&(Dt||a===null||Ui(a,a.return)),a!==null&&l&4&&am(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,t),dn(t),l&512&&(Dt||a===null||Ui(a,a.return)),t.flags&32){f=t.stateNode;try{cn(f,"")}catch(fe){Xe(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,am(t,f,a!==null?a.memoizedProps:f)),l&1024&&(um=!0);break;case 6:if(fn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(hh=null,f=ui,ui=uh(r.containerInfo),fn(r,t),ui=f,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bo(r.containerInfo)}catch(fe){Xe(t,t.return,fe)}um&&(um=!1,pv(t));break;case 4:l=ui,ui=uh(t.stateNode.containerInfo),fn(r,t),dn(t),ui=l;break;case 12:fn(r,t),dn(t);break;case 31:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$c(t,l)));break;case 13:fn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$c(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,G=fr,W=Dt;if(fr=G||f,Dt=W||D,fn(r,t),Dt=W,fr=G,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||fr||Dt||fa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var te=D.memoizedProps.style,K=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(fe){Xe(D,D.return,fe)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(fe){Xe(D,D.return,fe)}}}else if(r.tag===18){if(a===null){D=r;try{var Y=D.stateNode;f?rE(Y,!0):rE(D.stateNode,!1)}catch(fe){Xe(D,D.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$c(t,a))));break;case 19:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$c(t,l)));break;case 30:break;case 21:break;default:fn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(av(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=om(t);Yc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var b=om(t);Yc(t,b,_);break;case 3:case 4:var D=a.stateNode.containerInfo,G=om(t);lm(t,G,D);break;default:throw Error(s(161))}}catch(W){Xe(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function pv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;pv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function mr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)uv(t,r.alternate,r),r=r.sibling}function fa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ns(4,r,r.return),fa(r);break;case 1:Ui(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&rv(r,r.return,a),fa(r);break;case 27:$l(r.stateNode);case 26:case 5:Ui(r,r.return),fa(r);break;case 22:r.memoizedState===null&&fa(r);break;case 30:fa(r);break;default:fa(r)}t=t.sibling}}function pr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:pr(f,d,a),jl(4,d);break;case 1:if(pr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Xe(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Ky(D[f],b)}catch(G){Xe(l,l.return,G)}}a&&_&64&&iv(d),zl(d,d.return);break;case 27:ov(d);case 26:case 5:pr(f,d,a),a&&l===null&&_&4&&sv(d),zl(d,d.return);break;case 12:pr(f,d,a);break;case 31:pr(f,d,a),a&&_&4&&fv(f,d);break;case 13:pr(f,d,a),a&&_&4&&dv(f,d);break;case 22:d.memoizedState===null&&pr(f,d,a),zl(d,d.return);break;case 30:break;default:pr(f,d,a)}r=r.sibling}}function cm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Rl(a))}function hm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Rl(t))}function ci(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)gv(t,r,a,l),r=r.sibling}function gv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ci(t,r,a,l),f&2048&&jl(9,r);break;case 1:ci(t,r,a,l);break;case 3:ci(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Rl(t)));break;case 12:if(f&2048){ci(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xe(r,r.return,D)}}else ci(t,r,a,l);break;case 31:ci(t,r,a,l);break;case 13:ci(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ci(t,r,a,l):Bl(t,r):d._visibility&2?ci(t,r,a,l):(d._visibility|=2,co(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&cm(_,r);break;case 24:ci(t,r,a,l),f&2048&&hm(r.alternate,r);break;default:ci(t,r,a,l)}}function co(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,b=a,D=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:co(d,_,b,D,f),jl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?co(d,_,b,D,f):Bl(d,_):(W._visibility|=2,co(d,_,b,D,f)),f&&G&2048&&cm(_.alternate,_);break;case 24:co(d,_,b,D,f),f&&G&2048&&hm(_.alternate,_);break;default:co(d,_,b,D,f)}r=r.sibling}}function Bl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Bl(a,l),f&2048&&cm(l.alternate,l);break;case 24:Bl(a,l),f&2048&&hm(l.alternate,l);break;default:Bl(a,l)}r=r.sibling}}var ql=8192;function ho(t,r,a){if(t.subtreeFlags&ql)for(t=t.child;t!==null;)yv(t,r,a),t=t.sibling}function yv(t,r,a){switch(t.tag){case 26:ho(t,r,a),t.flags&ql&&t.memoizedState!==null&&TR(a,ui,t.memoizedState,t.memoizedProps);break;case 5:ho(t,r,a);break;case 3:case 4:var l=ui;ui=uh(t.stateNode.containerInfo),ho(t,r,a),ui=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ql,ql=16777216,ho(t,r,a),ql=l):ho(t,r,a));break;default:ho(t,r,a)}}function _v(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Hl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,Ev(l,t)}_v(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vv(t),t=t.sibling}function vv(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&ns(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Xc(t)):Hl(t);break;default:Hl(t)}}function Xc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,Ev(l,t)}_v(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ns(8,r,r.return),Xc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(r));break;default:Xc(r)}t=t.sibling}}function Ev(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:ns(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(cv(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var PS={getCacheForType:function(t){var r=Kt(It),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Kt(It).controller.signal}},LS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,nt=null,De=null,ke=0,$e=0,In=null,is=!1,fo=!1,fm=!1,gr=0,gt=0,rs=0,da=0,dm=0,xn=0,mo=0,Fl=null,mn=null,mm=!1,Wc=0,Tv=0,Jc=1/0,Zc=null,ss=null,Lt=0,as=null,po=null,yr=0,pm=0,gm=null,bv=null,Gl=0,ym=null;function Nn(){return(Ge&2)!==0&&ke!==0?ke&-ke:H.T!==null?wm():ec()}function wv(){if(xn===0)if((ke&536870912)===0||Ue){var t=zs;zs<<=1,(zs&3932160)===0&&(zs=262144),xn=t}else xn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),xn}function pn(t,r,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(go(t,0),os(t,ke,xn,!1)),Bs(t,a),((Ge&2)===0||t!==nt)&&(t===nt&&((Ge&2)===0&&(da|=a),gt===4&&os(t,ke,xn,!1)),ji(t))}function Av(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ei(t,r),f=l?zS(t,r):vm(t,r,!0),d=l;do{if(f===0){fo&&!l&&os(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!US(a)){f=vm(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;f=Fl;var D=b.current.memoizedState.isDehydrated;if(D&&(go(b,_).flags|=256),_=vm(b,_,!1),_!==2){if(fm&&!D){b.errorRecoveryDisabledLanes|=d,da|=d,f=4;break e}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){go(t,0),os(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:os(l,r,xn,!is);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Wc+300-rn(),10<f)){if(os(l,r,xn,!is),Ti(l,0,!0)!==0)break e;yr=r,l.timeoutHandle=tE(Sv.bind(null,l,a,mn,Zc,mm,r,xn,da,mo,is,d,"Throttled",-0,0),f);break e}Sv(l,a,mn,Zc,mm,r,xn,da,mo,is,d,null,-0,0)}}break}while(!0);ji(t)}function Sv(t,r,a,l,f,d,_,b,D,G,W,te,K,Y){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},yv(r,d,te);var fe=(d&62914560)===d?Wc-rn():(d&4194048)===d?Tv-rn():0;if(fe=bR(te,fe),fe!==null){yr=d,t.cancelPendingCommit=fe(kv.bind(null,t,r,d,a,l,f,_,b,D,W,te,null,K,Y)),os(t,d,_,!G);return}}kv(t,r,d,a,l,f,_,b,D)}function US(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function os(t,r,a,l){r&=~dm,r&=~da,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-_t(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&qs(t,a,r)}function eh(){return(Ge&6)===0?(Kl(0),!1):!0}function _m(){if(De!==null){if($e===0)var t=De.return;else t=De,ar=ra=null,Md(t),so=null,Il=0,t=De;for(;t!==null;)nv(t.alternate,t),t=t.return;De=null}}function go(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rR(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),yr=0,_m(),nt=t,De=a=rr(t.current,null),ke=r,$e=0,In=null,is=!1,fo=ei(t,r),fm=!1,mo=xn=dm=da=rs=gt=0,mn=Fl=null,mm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-_t(l),d=1<<f;r|=t[f],l&=~d}return gr=r,Tc(),a}function Rv(t,r){Ie=null,H.H=Pl,r===ro||r===xc?(r=qy(),$e=3):r===bd?(r=qy(),$e=4):$e=r===Xd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,De===null&&(gt=1,Hc(t,Bn(r,t.current)))}function Cv(){var t=Rn.current;return t===null?!0:(ke&4194048)===ke?Gn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Gn:!1}function Iv(){var t=H.H;return H.H=Pl,t===null?Pl:t}function xv(){var t=H.A;return H.A=PS,t}function th(){gt=4,is||(ke&4194048)!==ke&&Rn.current!==null||(fo=!0),(rs&134217727)===0&&(da&134217727)===0||nt===null||os(nt,ke,xn,!1)}function vm(t,r,a){var l=Ge;Ge|=2;var f=Iv(),d=xv();(nt!==t||ke!==r)&&(Zc=null,go(t,r)),r=!1;var _=gt;e:do try{if($e!==0&&De!==null){var b=De,D=In;switch($e){case 8:_m(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var G=$e;if($e=0,In=null,yo(t,b,D,G),a&&fo){_=0;break e}break;default:G=$e,$e=0,In=null,yo(t,b,D,G)}}jS(),_=gt;break}catch(W){Rv(t,W)}while(!0);return r&&t.shellSuspendCounter++,ar=ra=null,Ge=l,H.H=f,H.A=d,De===null&&(nt=null,ke=0,Tc()),_}function jS(){for(;De!==null;)Nv(De)}function zS(t,r){var a=Ge;Ge|=2;var l=Iv(),f=xv();nt!==t||ke!==r?(Zc=null,Jc=rn()+500,go(t,r)):fo=ei(t,r);e:do try{if($e!==0&&De!==null){r=De;var d=In;t:switch($e){case 1:$e=0,In=null,yo(t,r,d,1);break;case 2:case 9:if(zy(d)){$e=0,In=null,Dv(r);break}r=function(){$e!==2&&$e!==9||nt!==t||($e=7),ji(t)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:zy(d)?($e=0,In=null,Dv(r)):($e=0,In=null,yo(t,r,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var b=De;if(_?gE(_):b.stateNode.complete){$e=0,In=null;var D=b.sibling;if(D!==null)De=D;else{var G=b.return;G!==null?(De=G,nh(G)):De=null}break t}}$e=0,In=null,yo(t,r,d,5);break;case 6:$e=0,In=null,yo(t,r,d,6);break;case 8:_m(),gt=6;break e;default:throw Error(s(462))}}BS();break}catch(W){Rv(t,W)}while(!0);return ar=ra=null,H.H=l,H.A=f,Ge=a,De!==null?0:(nt=null,ke=0,Tc(),gt)}function BS(){for(;De!==null&&!$f();)Nv(De)}function Nv(t){var r=ev(t.alternate,t,gr);t.memoizedProps=t.pendingProps,r===null?nh(t):De=r}function Dv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Y_(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=Y_(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:Md(r);default:nv(a,r),r=De=xy(r,gr),r=ev(a,r,gr)}t.memoizedProps=t.pendingProps,r===null?nh(t):De=r}function yo(t,r,a,l){ar=ra=null,Md(r),so=null,Il=0;var f=r.return;try{if(xS(t,f,r,a,ke)){gt=1,Hc(t,Bn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;gt=1,Hc(t,Bn(a,t.current)),De=null;return}r.flags&32768?(Ue||l===1?t=!0:fo||(ke&536870912)!==0?t=!1:(is=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ov(r,t)):nh(r)}function nh(t){var r=t;do{if((r.flags&32768)!==0){Ov(r,is);return}t=r.return;var a=OS(r.alternate,r,gr);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);gt===0&&(gt=5)}function Ov(t,r){do{var a=kS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);gt=6,De=null}function kv(t,r,a,l,f,d,_,b,D){t.cancelPendingCommit=null;do ih();while(Lt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=od,Jf(t,a,d,_,b,D),t===nt&&(De=nt=null,ke=0),po=r,as=t,yr=a,pm=d,gm=f,bv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,GS(Lr,function(){return Uv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,f=re.p,re.p=2,_=Ge,Ge|=4;try{MS(t,r,a)}finally{Ge=_,re.p=f,H.T=l}}Lt=1,Mv(),Vv(),Pv()}}function Mv(){if(Lt===1){Lt=0;var t=as,r=po,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=re.p;re.p=2;var f=Ge;Ge|=4;try{mv(r,t);var d=Dm,_=Ey(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&vy(b.ownerDocument.documentElement,b)){if(D!==null&&nd(b)){var G=D.start,W=D.end;if(W===void 0&&(W=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(W,b.value.length);else{var te=b.ownerDocument||document,K=te&&te.defaultView||window;if(K.getSelection){var Y=K.getSelection(),fe=b.textContent.length,_e=Math.min(D.start,fe),et=D.end===void 0?_e:Math.min(D.end,fe);!Y.extend&&_e>et&&(_=et,et=_e,_e=_);var B=_y(b,_e),V=_y(b,et);if(B&&V&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var F=te.createRange();F.setStart(B.node,B.offset),Y.removeAllRanges(),_e>et?(Y.addRange(F),Y.extend(V.node,V.offset)):(F.setEnd(V.node,V.offset),Y.addRange(F))}}}}for(te=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var J=te[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ph=!!Nm,Dm=Nm=null}finally{Ge=f,re.p=l,H.T=a}}t.current=r,Lt=2}}function Vv(){if(Lt===2){Lt=0;var t=as,r=po,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=re.p;re.p=2;var f=Ge;Ge|=4;try{uv(t,r.alternate,r)}finally{Ge=f,re.p=l,H.T=a}}Lt=3}}function Pv(){if(Lt===4||Lt===3){Lt=0,Qu();var t=as,r=po,a=yr,l=bv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Lt=5:(Lt=0,po=as=null,Lv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ss=null),er(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=H.T,f=re.p,re.p=2,H.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{H.T=r,re.p=f}}(yr&3)!==0&&ih(),ji(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===ym?Gl++:(Gl=0,ym=t):Gl=0,Kl(0)}}function Lv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Rl(r)))}function ih(){return Mv(),Vv(),Pv(),Uv()}function Uv(){if(Lt!==5)return!1;var t=as,r=pm;pm=0;var a=er(yr),l=H.T,f=re.p;try{re.p=32>a?32:a,H.T=null,a=gm,gm=null;var d=as,_=yr;if(Lt=0,po=as=null,yr=0,(Ge&6)!==0)throw Error(s(331));var b=Ge;if(Ge|=4,vv(d.current),gv(d,d.current,_,a),Ge=b,Kl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Zn,d)}catch{}return!0}finally{re.p=f,H.T=l,Lv(t,r)}}function jv(t,r,a){r=Bn(a,r),r=$d(t.stateNode,r,2),t=Zr(t,r,2),t!==null&&(Bs(t,2),ji(t))}function Xe(t,r,a){if(t.tag===3)jv(t,t,a);else for(;r!==null;){if(r.tag===3){jv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ss===null||!ss.has(l))){t=Bn(a,t),a=z_(2),l=Zr(r,a,2),l!==null&&(B_(a,l,r,t),Bs(l,2),ji(l));break}}r=r.return}}function Em(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new LS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(fm=!0,f.add(a),t=qS.bind(null,t,r,a),r.then(t,t))}function qS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(ke&a)===a&&(gt===4||gt===3&&(ke&62914560)===ke&&300>rn()-Wc?(Ge&2)===0&&go(t,0):dm|=a,mo===ke&&(mo=0)),ji(t)}function zv(t,r){r===0&&(r=Zu()),t=ta(t,r),t!==null&&(Bs(t,r),ji(t))}function HS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),zv(t,a)}function FS(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),zv(t,a)}function GS(t,r){return Pt(t,r)}var rh=null,_o=null,Tm=!1,sh=!1,bm=!1,ls=0;function ji(t){t!==_o&&t.next===null&&(_o===null?rh=_o=t:_o=_o.next=t),sh=!0,Tm||(Tm=!0,QS())}function Kl(t,r){if(!bm&&sh){bm=!0;do for(var a=!1,l=rh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-_t(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Fv(l,d))}else d=ke,d=Ti(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ei(l,d)||(a=!0,Fv(l,d));l=l.next}while(a);bm=!1}}function KS(){Bv()}function Bv(){sh=Tm=!1;var t=0;ls!==0&&iR()&&(t=ls);for(var r=rn(),a=null,l=rh;l!==null;){var f=l.next,d=qv(l,r);d===0?(l.next=null,a===null?rh=f:a.next=f,f===null&&(_o=a)):(a=l,(t!==0||(d&3)!==0)&&(sh=!0)),l=f}Lt!==0&&Lt!==5||Kl(t),ls!==0&&(ls=0)}function qv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-_t(d),b=1<<_,D=f[_];D===-1?((b&a)===0||(b&l)!==0)&&(f[_]=Wf(b,r)):D<=r&&(t.expiredLanes|=b),d&=~b}if(r=nt,a=ke,a=Ti(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Pr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ei(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Pr(l),er(a)){case 2:case 8:a=nl;break;case 32:a=Lr;break;case 268435456:a=Yu;break;default:a=Lr}return l=Hv.bind(null,t),a=Pt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Pr(l),t.callbackPriority=2,t.callbackNode=null,2}function Hv(t,r){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ih()&&t.callbackNode!==a)return null;var l=ke;return l=Ti(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Av(t,l,r),qv(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Hv.bind(null,t):null)}function Fv(t,r){if(ih())return null;Av(t,r,!0)}function QS(){sR(function(){(Ge&6)!==0?Pt(tl,KS):Bv()})}function wm(){if(ls===0){var t=no;t===0&&(t=vi,vi<<=1,(vi&261888)===0&&(vi=256)),ls=t}return ls}function Gv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ba(""+t)}function Kv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function YS(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Gv((f[jt]||null).action),_=l.submitter;_&&(r=(r=_[jt]||null)?Gv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new Oi("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var D=_?Kv(f,_):new FormData(f);Hd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?Kv(f,_):new FormData(f),Hd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Am=0;Am<ad.length;Am++){var Sm=ad[Am],$S=Sm.toLowerCase(),XS=Sm[0].toUpperCase()+Sm.slice(1);li($S,"on"+XS)}li(wy,"onAnimationEnd"),li(Ay,"onAnimationIteration"),li(Sy,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(fS,"onTransitionRun"),li(dS,"onTransitionStart"),li(mS,"onTransitionCancel"),li(Ry,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function Qv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,G=b.currentTarget;if(b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=G;try{d(f)}catch(W){Ec(W)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,G=b.currentTarget,b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=G;try{d(f)}catch(W){Ec(W)}f.currentTarget=null,d=D}}}}function Oe(t,r){var a=r[Pa];a===void 0&&(a=r[Pa]=new Set);var l=t+"__bubble";a.has(l)||(Yv(r,t,2,!1),a.add(l))}function Rm(t,r,a){var l=0;r&&(l|=4),Yv(a,t,l,r)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Cm(t){if(!t[ah]){t[ah]=!0,sl.forEach(function(a){a!=="selectionchange"&&(WS.has(a)||Rm(a,!1,t),Rm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ah]||(r[ah]=!0,Rm("selectionchange",!1,r))}}function Yv(t,r,a,l){switch(wE(r)){case 2:var f=SR;break;case 8:f=RR;break;default:f=qm}a=f.bind(null,r,a,t),f=void 0,!Qs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Im(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=Si(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Hr(function(){var G=d,W=Ln(a),te=[];e:{var K=Cy.get(t);if(K!==void 0){var Y=Oi,fe=t;switch(t){case"keypress":if($s(a)===0)break e;case"keydown":case"keyup":Y=yc;break;case"focusin":fe="focus",Y=Ws;break;case"focusout":fe="blur",Y=Ws;break;case"beforeblur":case"afterblur":Y=Ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case wy:case Ay:case Sy:Y=cc;break;case Ry:Y=A;break;case"scroll":case"scrollend":Y=yl;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ir;break;case"toggle":case"beforetoggle":Y=Ce}var _e=(r&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),B=_e?K!==null?K+"Capture":null:K;_e=[];for(var V=G,F;V!==null;){var J=V;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||B===null||(J=ri(V,B),J!=null&&_e.push(Yl(V,J,F))),et)break;V=V.return}0<_e.length&&(K=new Y(K,fe,null,a,W),te.push({event:K,listeners:_e}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==ml&&(fe=a.relatedTarget||a.fromElement)&&(Si(fe)||fe[wi]))break e;if((Y||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=G,fe=fe?Si(fe):null,fe!==null&&(et=u(fe),_e=fe.tag,fe!==et||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Y=null,fe=G),Y!==fe)){if(_e=_l,J="onMouseLeave",B="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ir,J="onPointerLeave",B="onPointerEnter",V="pointer"),et=Y==null?K:bn(Y),F=fe==null?K:bn(fe),K=new _e(J,V+"leave",Y,a,W),K.target=et,K.relatedTarget=F,J=null,Si(W)===G&&(_e=new _e(B,V+"enter",fe,a,W),_e.target=F,_e.relatedTarget=et,J=_e),et=J,Y&&fe)t:{for(_e=JS,B=Y,V=fe,F=0,J=B;J;J=_e(J))F++;J=0;for(var ge=V;ge;ge=_e(ge))J++;for(;0<F-J;)B=_e(B),F--;for(;0<J-F;)V=_e(V),J--;for(;F--;){if(B===V||V!==null&&B===V.alternate){_e=B;break t}B=_e(B),V=_e(V)}_e=null}else _e=null;Y!==null&&$v(te,K,Y,_e,!1),fe!==null&&et!==null&&$v(te,et,fe,_e,!0)}}e:{if(K=G?bn(G):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var qe=fy;else if(cy(K))if(dy)qe=uS;else{qe=oS;var de=aS}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&za(G.elementType)&&(qe=fy):qe=lS;if(qe&&(qe=qe(t,G))){hy(te,qe,a,W);break e}de&&de(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&hl(K,"number",K.value)}switch(de=G?bn(G):window,t){case"focusin":(cy(de)||de.contentEditable==="true")&&(Ya=de,id=G,wl=null);break;case"focusout":wl=id=Ya=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Ty(te,a,W);break;case"selectionchange":if(hS)break;case"keydown":case"keyup":Ty(te,a,W)}var Ne;if(Fe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Qa?Js(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Vi&&a.locale!=="ko"&&(Qa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Qa&&(Ne=gl()):(Di=W,pl="value"in Di?Di.value:Di.textContent,Qa=!0)),de=oh(G,Me),0<de.length&&(Me=new Mi(Me,t,null,a,W),te.push({event:Me,listeners:de}),Ne?Me.data=Ne:(Ne=Ka(a),Ne!==null&&(Me.data=Ne)))),(Ne=jn?nS(t,a):iS(t,a))&&(Me=oh(G,"onBeforeInput"),0<Me.length&&(de=new Mi("onBeforeInput","beforeinput",null,a,W),te.push({event:de,listeners:Me}),de.data=Ne)),YS(te,t,G,a,W)}Qv(te,r)})}function Yl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function oh(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ri(t,a),f!=null&&l.unshift(Yl(t,f,d)),f=ri(t,r),f!=null&&l.push(Yl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function JS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $v(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,D=b.alternate,G=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||G===null||(D=G,f?(G=ri(a,d),G!=null&&_.unshift(Yl(a,G,D))):f||(G=ri(a,d),G!=null&&_.push(Yl(a,G,D)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var ZS=/\r\n?/g,eR=/\u0000|\uFFFD/g;function Xv(t){return(typeof t=="string"?t:""+t).replace(ZS,`
`).replace(eR,"")}function Wv(t,r){return r=Xv(r),Xv(t)===r}function Ze(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&cn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":dl(t,l,d);break;case"data":if(r!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ze(t,r,"name",f.name,f,null),Ze(t,r,"formEncType",f.formEncType,f,null),Ze(t,r,"formMethod",f.formMethod,f,null),Ze(t,r,"formTarget",f.formTarget,f,null)):(Ze(t,r,"encType",f.encType,f,null),Ze(t,r,"method",f.method,f,null),Ze(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ii);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Ua(t,"popover",l);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=oc.get(a)||a,Ua(t,a,l))}}function xm(t,r,a,l,f,d){switch(a){case"style":dl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ua(t,a,l)}}}function Yt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,d,_,a,null)}}f&&Ze(t,r,"srcSet",a.srcSet,a,null),l&&Ze(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=d=_=f=null,D=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":G=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Ze(t,r,l,W,a,null)}}rc(t,d,b,D,G,_,f,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Ze(t,r,f,b,a,null)}r=d,a=_,t.multiple=!!l,r!=null?jr(t,!!l,r,!1):a!=null&&jr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(t,r,_,b,a,null)}zr(t,l,f,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(t,r,D,l,a,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Oe(Ql[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,G,l,a,null)}return;default:if(za(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&xm(t,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(t,r,b,l,a,null))}function tR(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,D=null,G=null,W=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(Y)||Ze(t,r,Y,null,l,te)}}for(var K in l){var Y=l[K];if(te=a[K],l.hasOwnProperty(K)&&(Y!=null||te!=null))switch(K){case"type":d=Y;break;case"name":f=Y;break;case"checked":G=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&Ze(t,r,K,Y,l,te)}}ja(t,_,b,D,G,W,d,f);return;case"select":Y=_=b=K=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||Ze(t,r,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&Ze(t,r,f,d,l,D)}r=b,a=_,l=Y,K!=null?jr(t,!!a,K,!1):!!l!=!!a&&(r!=null?jr(t,!!a,r,!0):jr(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(t,r,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":K=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,r,_,f,l,d)}sc(t,K,Y);return;case"option":for(var fe in a)K=a[fe],a.hasOwnProperty(fe)&&K!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:Ze(t,r,fe,null,l,K));for(D in l)K=l[D],Y=a[D],l.hasOwnProperty(D)&&K!==Y&&(K!=null||Y!=null)&&(D==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":Ze(t,r,D,K,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e)&&Ze(t,r,_e,null,l,K);for(G in l)if(K=l[G],Y=a[G],l.hasOwnProperty(G)&&K!==Y&&(K!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Ze(t,r,G,K,l,Y)}return;default:if(za(r)){for(var et in a)K=a[et],a.hasOwnProperty(et)&&K!==void 0&&!l.hasOwnProperty(et)&&xm(t,r,et,void 0,l,K);for(W in l)K=l[W],Y=a[W],!l.hasOwnProperty(W)||K===Y||K===void 0&&Y===void 0||xm(t,r,W,K,l,Y);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&Ze(t,r,B,null,l,K);for(te in l)K=l[te],Y=a[te],!l.hasOwnProperty(te)||K===Y||K==null&&Y==null||Ze(t,r,te,K,l,Y)}function Jv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&Jv(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],G=D.startTime;if(G>b)break;var W=D.transferSize,te=D.initiatorType;W&&Jv(te)&&(D=D.responseEnd,_+=W*(D<b?1:(b-G)/(D-G)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nm=null,Dm=null;function lh(t){return t.nodeType===9?t:t.ownerDocument}function Zv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eE(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Om(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var km=null;function iR(){var t=window.event;return t&&t.type==="popstate"?t===km?!1:(km=t,!0):(km=null,!1)}var tE=typeof setTimeout=="function"?setTimeout:void 0,rR=typeof clearTimeout=="function"?clearTimeout:void 0,nE=typeof Promise=="function"?Promise:void 0,sR=typeof queueMicrotask=="function"?queueMicrotask:typeof nE<"u"?function(t){return nE.resolve(null).then(t).catch(aR)}:tE;function aR(t){setTimeout(function(){throw t})}function us(t){return t==="head"}function iE(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),bo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")$l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,$l(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[Ai]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&$l(t.ownerDocument.body);a=f}while(a);bo(r)}function rE(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Mm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mm(a),La(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function oR(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ai])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function lR(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function sE(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kn(t.nextSibling),t===null))return null;return t}function Vm(t){return t.data==="$?"||t.data==="$~"}function Pm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function uR(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Lm=null;function aE(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Kn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function oE(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function lE(t,r,a){switch(r=lh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function $l(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);La(t)}var Qn=new Map,uE=new Set;function uh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _r=re.d;re.d={f:cR,r:hR,D:fR,C:dR,L:mR,m:pR,X:yR,S:gR,M:_R};function cR(){var t=_r.f(),r=eh();return t||r}function hR(t){var r=Pn(t);r!==null&&r.tag===5&&r.type==="form"?R_(r):_r.r(t)}var vo=typeof document>"u"?null:document;function cE(t,r,a){var l=vo;if(l&&typeof r=="string"&&r){var f=un(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),uE.has(f)||(uE.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Yt(r,"link",t),Rt(r),l.head.appendChild(r)))}}function fR(t){_r.D(t),cE("dns-prefetch",t,null)}function dR(t,r){_r.C(t,r),cE("preconnect",t,r)}function mR(t,r,a){_r.L(t,r,a);var l=vo;if(l&&t&&r){var f='link[rel="preload"][as="'+un(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var d=f;switch(r){case"style":d=Eo(t);break;case"script":d=To(t)}Qn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Qn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Xl(d))||r==="script"&&l.querySelector(Wl(d))||(r=l.createElement("link"),Yt(r,"link",t),Rt(r),l.head.appendChild(r)))}}function pR(t,r){_r.m(t,r);var a=vo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=To(t)}if(!Qn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Qn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wl(d)))return}l=a.createElement("link"),Yt(l,"link",t),Rt(l),a.head.appendChild(l)}}}function gR(t,r,a){_r.S(t,r,a);var l=vo;if(l&&t){var f=Ri(l).hoistableStyles,d=Eo(t);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Xl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Qn.get(d))&&Um(t,a);var D=_=l.createElement("link");Rt(D),Yt(D,"link",t),D._p=new Promise(function(G,W){D.onload=G,D.onerror=W}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ch(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function yR(t,r){_r.X(t,r);var a=vo;if(a&&t){var l=Ri(a).hoistableScripts,f=To(t),d=l.get(f);d||(d=a.querySelector(Wl(f)),d||(t=T({src:t,async:!0},r),(r=Qn.get(f))&&jm(t,r),d=a.createElement("script"),Rt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function _R(t,r){_r.M(t,r);var a=vo;if(a&&t){var l=Ri(a).hoistableScripts,f=To(t),d=l.get(f);d||(d=a.querySelector(Wl(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Qn.get(f))&&jm(t,r),d=a.createElement("script"),Rt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function hE(t,r,a,l){var f=(f=xe.current)?uh(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Eo(a.href),a=Ri(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Eo(a.href);var d=Ri(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Xl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),d||vR(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=To(a),a=Ri(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Eo(t){return'href="'+un(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function fE(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function vR(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",a),Rt(r),t.head.appendChild(r))}function To(t){return'[src="'+un(t)+'"]'}function Wl(t){return"script[async]"+t}function dE(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return r.instance=l,Rt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Rt(l),Yt(l,"style",f),ch(l,a.precedence,t),r.instance=l;case"stylesheet":f=Eo(a.href);var d=t.querySelector(Xl(f));if(d)return r.state.loading|=4,r.instance=d,Rt(d),d;l=fE(a),(f=Qn.get(f))&&Um(l,f),d=(t.ownerDocument||t).createElement("link"),Rt(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Yt(d,"link",l),r.state.loading|=4,ch(d,a.precedence,t),r.instance=d;case"script":return d=To(a.src),(f=t.querySelector(Wl(d)))?(r.instance=f,Rt(f),f):(l=a,(f=Qn.get(d))&&(l=T({},a),jm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Rt(f),Yt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ch(l,a.precedence,t));return r.instance}function ch(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Um(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function jm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var hh=null;function mE(t,r,a){if(hh===null){var l=new Map,f=hh=new Map;f.set(a,l)}else f=hh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ai]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function pE(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function ER(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function gE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function TR(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Eo(l.href),d=r.querySelector(Xl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=fh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Rt(d);return}d=r.ownerDocument||r,l=fE(l),(f=Qn.get(f))&&Um(l,f),d=d.createElement("link"),Rt(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Yt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=fh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var zm=0;function bR(t,r){return t.stylesheets&&t.count===0&&mh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&mh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&zm===0&&(zm=62500*nR());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&mh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>zm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dh=null;function mh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dh=new Map,r.forEach(wR,t),dh=null,fh.call(t))}function wR(t,r){if(!(r.state.loading&4)){var a=dh.get(t);if(a)var l=a.get(null);else{a=new Map,dh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=fh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Jl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function AR(t,r,a,l,f,d,_,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function yE(t,r,a,l,f,d,_,b,D,G,W,te){return t=new AR(t,r,a,_,D,G,W,te,b),r=1,d===!0&&(r|=24),d=Sn(3,null,null,r),t.current=d,d.stateNode=t,r=vd(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},wd(d),t}function _E(t){return t?(t=Wa,t):Wa}function vE(t,r,a,l,f,d){f=_E(f),l.context===null?l.context=f:l.pendingContext=f,l=Jr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Zr(t,l,r),a!==null&&(pn(a,t,r),Nl(a,t,r))}function EE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Bm(t,r){EE(t,r),(t=t.alternate)&&EE(t,r)}function TE(t){if(t.tag===13||t.tag===31){var r=ta(t,67108864);r!==null&&pn(r,t,67108864),Bm(t,67108864)}}function bE(t){if(t.tag===13||t.tag===31){var r=Nn();r=Hs(r);var a=ta(t,r);a!==null&&pn(a,t,r),Bm(t,r)}}var ph=!0;function SR(t,r,a,l){var f=H.T;H.T=null;var d=re.p;try{re.p=2,qm(t,r,a,l)}finally{re.p=d,H.T=f}}function RR(t,r,a,l){var f=H.T;H.T=null;var d=re.p;try{re.p=8,qm(t,r,a,l)}finally{re.p=d,H.T=f}}function qm(t,r,a,l){if(ph){var f=Hm(l);if(f===null)Im(t,r,l,gh,a),AE(t,l);else if(IR(f,t,r,a,l))l.stopPropagation();else if(AE(t,l),r&4&&-1<CR.indexOf(t)){for(;f!==null;){var d=Pn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ei(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-_t(_);b.entanglements[1]|=D,_&=~D}ji(d),(Ge&6)===0&&(Jc=rn()+500,Kl(0))}}break;case 31:case 13:b=ta(d,2),b!==null&&pn(b,d,2),eh(),Bm(d,2)}if(d=Hm(l),d===null&&Im(t,r,l,gh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Im(t,r,l,null,a)}}function Hm(t){return t=Ln(t),Fm(t)}var gh=null;function Fm(t){if(gh=null,t=Si(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return gh=t,null}function wE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case tl:return 2;case nl:return 8;case Lr:case Xf:return 32;case Yu:return 268435456;default:return 32}default:return 32}}var Gm=!1,cs=null,hs=null,fs=null,Zl=new Map,eu=new Map,ds=[],CR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AE(t,r){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(r.pointerId)}}function tu(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Pn(r),r!==null&&TE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function IR(t,r,a,l,f){switch(r){case"focusin":return cs=tu(cs,t,r,a,l,f),!0;case"dragenter":return hs=tu(hs,t,r,a,l,f),!0;case"mouseover":return fs=tu(fs,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Zl.set(d,tu(Zl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,eu.set(d,tu(eu.get(d)||null,t,r,a,l,f)),!0}return!1}function SE(t){var r=Si(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,ti(t.priority,function(){bE(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,ti(t.priority,function(){bE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ml=l,a.target.dispatchEvent(l),ml=null}else return r=Pn(a),r!==null&&TE(r),t.blockedOn=a,!1;r.shift()}return!0}function RE(t,r,a){yh(t)&&a.delete(r)}function xR(){Gm=!1,cs!==null&&yh(cs)&&(cs=null),hs!==null&&yh(hs)&&(hs=null),fs!==null&&yh(fs)&&(fs=null),Zl.forEach(RE),eu.forEach(RE)}function _h(t,r){t.blockedOn===r&&(t.blockedOn=null,Gm||(Gm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xR)))}var vh=null;function CE(t){vh!==t&&(vh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){vh===t&&(vh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Fm(l||a)===null)continue;break}var d=Pn(a);d!==null&&(t.splice(r,3),r-=3,Hd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function bo(t){function r(D){return _h(D,t)}cs!==null&&_h(cs,t),hs!==null&&_h(hs,t),fs!==null&&_h(fs,t),Zl.forEach(r),eu.forEach(r);for(var a=0;a<ds.length;a++){var l=ds[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ds.length&&(a=ds[0],a.blockedOn===null);)SE(a),a.blockedOn===null&&ds.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[jt]||null;if(typeof d=="function")_||CE(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[jt]||null)b=_.formAction;else if(Fm(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),CE(a)}}}function IE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Km(t){this._internalRoot=t}Eh.prototype.render=Km.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Nn();vE(a,l,t,r,null,null)},Eh.prototype.unmount=Km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;vE(t.current,2,null,t,null,null),eh(),r[wi]=null}};function Eh(t){this._internalRoot=t}Eh.prototype.unstable_scheduleHydration=function(t){if(t){var r=ec();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ds.length&&r!==0&&r<ds[a].priority;a++);ds.splice(a,0,t),a===0&&SE(t)}};var xE=e.version;if(xE!=="19.2.3")throw Error(s(527,xE,"19.2.3"));re.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var NR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Zn=Th.inject(NR),Ht=Th}catch{}}return iu.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=P_,d=L_,_=U_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=yE(t,1,!1,null,null,a,l,null,f,d,_,IE),t[wi]=r.current,Cm(t),new Km(r)},iu.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=P_,_=L_,b=U_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=yE(t,1,!0,r,a??null,l,f,D,d,_,b,IE),r.context=_E(null),a=r.current,l=Nn(),l=Hs(l),f=Jr(l),f.callback=null,Zr(a,f,l),a=l,r.current.lanes=a,Bs(r,a),ji(r),t[wi]=r.current,Cm(t),new Eh(r)},iu.version="19.2.3",iu}var jE;function zR(){if(jE)return $m.exports;jE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$m.exports=jR(),$m.exports}var BR=zR();const qR="modulepreload",HR=function(i){return"/"+i},zE={},Xi=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");o=p(n.map(g=>{if(g=HR(g),g in zE)return;zE[g]=!0;const E=g.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":qR,E||(S.as="script"),S.crossOrigin="",S.href=g,m&&S.setAttribute("nonce",m),document.head.appendChild(S),E)return new Promise((x,j)=>{S.addEventListener("load",x),S.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};var BE="popstate";function FR(i={}){function e(s,o){let{pathname:u,search:c,hash:m}=s.location;return _p("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:vu(o)}return KR(e,n,null,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Wn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GR(){return Math.random().toString(36).substring(2,10)}function qE(i,e){return{usr:i.state,key:i.key,idx:e}}function _p(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ho(e):e,state:n,key:e&&e.key||s||GR()}}function vu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ho(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function KR(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m="POP",p=null,g=E();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function E(){return(c.state||{idx:null}).idx}function T(){m="POP";let U=E(),$=U==null?null:U-g;g=U,p&&p({action:m,location:z.location,delta:$})}function S(U,$){m="PUSH";let X=_p(z.location,U,$);g=E()+1;let ee=qE(X,g),ae=z.createHref(X);try{c.pushState(ee,"",ae)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(ae)}u&&p&&p({action:m,location:z.location,delta:1})}function x(U,$){m="REPLACE";let X=_p(z.location,U,$);g=E();let ee=qE(X,g),ae=z.createHref(X);c.replaceState(ee,"",ae),u&&p&&p({action:m,location:z.location,delta:0})}function j(U){return QR(U)}let z={get action(){return m},get location(){return i(o,c)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(BE,T),p=U,()=>{o.removeEventListener(BE,T),p=null}},createHref(U){return e(o,U)},createURL:j,encodeLocation(U){let $=j(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:x,go(U){return c.go(U)}};return z}function QR(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:vu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function jb(i,e,n="/"){return YR(i,e,n,!1)}function YR(i,e,n,s){let o=typeof e=="string"?Ho(e):e,u=Sr(o.pathname||"/",n);if(u==null)return null;let c=zb(i);$R(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=a1(u);m=r1(c[p],g,s)}return m}function zb(i,e=[],n=[],s="",o=!1){let u=(c,m,p=o,g)=>{let E={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ft(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Tr([s,E.relativePath]),S=n.concat(E);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),zb(c.children,e,S,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:n1(T,c.index),routesMeta:S})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of Bb(c.path))u(c,m,!0,p)}),e}function Bb(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=Bb(s.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function $R(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:i1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var XR=/^:[\w-]+$/,WR=3,JR=2,ZR=1,e1=10,t1=-2,HE=i=>i==="*";function n1(i,e){let n=i.split("/"),s=n.length;return n.some(HE)&&(s+=t1),e&&(s+=JR),n.filter(o=>!HE(o)).reduce((o,u)=>o+(XR.test(u)?WR:u===""?ZR:e1),s)}function i1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function r1(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Tr([u,T.pathname]),pathnameBase:c1(Tr([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Tr([u,T.pathnameBase]))}return c}function Fh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=s1(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},S)=>{if(E==="*"){let j=m[S]||"";c=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const x=m[S];return T&&!x?g[E]=void 0:g[E]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function s1(i,e=!1,n=!0){Wn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function a1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Sr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o1=i=>qb.test(i);function l1(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ho(i):i,u;if(n)if(o1(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=FE(n.substring(1),"/"):u=FE(n,e)}else u=e;return{pathname:u,search:h1(s),hash:f1(o)}}function FE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Zm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xp(i){let e=u1(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Wp(i,e,n,s=!1){let o;typeof i=="string"?o=Ho(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),Zm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Zm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Zm("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let p=l1(o,m),g=c&&c!=="/"&&c.endsWith("/"),E=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Tr=i=>i.join("/").replace(/\/\/+/g,"/"),c1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),h1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,f1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,d1=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function m1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function p1(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fb(i,e){let n=i;if(typeof n!="string"||!qb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(Hb)try{let u=new URL(window.location.href),c=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Sr(c.pathname,e);c.origin===u.origin&&m!=null?n=m+c.search+c.hash:o=!0}catch{Wn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gb=["POST","PUT","PATCH","DELETE"];new Set(Gb);var g1=["GET",...Gb];new Set(g1);var Fo=L.createContext(null);Fo.displayName="DataRouter";var pf=L.createContext(null);pf.displayName="DataRouterState";var y1=L.createContext(!1),Kb=L.createContext({isTransitioning:!1});Kb.displayName="ViewTransition";var _1=L.createContext(new Map);_1.displayName="Fetchers";var v1=L.createContext(null);v1.displayName="Await";var Mn=L.createContext(null);Mn.displayName="Navigation";var Du=L.createContext(null);Du.displayName="Location";var Jn=L.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Jp=L.createContext(null);Jp.displayName="RouteError";var Qb="REACT_ROUTER_ERROR",E1="REDIRECT",T1="ROUTE_ERROR_RESPONSE";function b1(i){if(i.startsWith(`${Qb}:${E1}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function w1(i){if(i.startsWith(`${Qb}:${T1}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new d1(e.status,e.statusText,e.data)}catch{}}function A1(i,{relative:e}={}){ft(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Mn),{hash:o,pathname:u,search:c}=Ou(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Tr([n,u])),s.createHref({pathname:m,search:c,hash:o})}function Go(){return L.useContext(Du)!=null}function Wi(){return ft(Go(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Du).location}var Yb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $b(i){L.useContext(Mn).static||L.useLayoutEffect(i)}function gf(){let{isDataRoute:i}=L.useContext(Jn);return i?j1():S1()}function S1(){ft(Go(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Fo),{basename:e,navigator:n}=L.useContext(Mn),{matches:s}=L.useContext(Jn),{pathname:o}=Wi(),u=JSON.stringify(Xp(s)),c=L.useRef(!1);return $b(()=>{c.current=!0}),L.useCallback((p,g={})=>{if(Wn(c.current,Yb),!c.current)return;if(typeof p=="number"){n.go(p);return}let E=Wp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Tr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}var R1=L.createContext(null);function C1(i){let e=L.useContext(Jn).outlet;return L.useMemo(()=>e&&L.createElement(R1.Provider,{value:i},e),[e,i])}function JV(){let{matches:i}=L.useContext(Jn),e=i[i.length-1];return e?e.params:{}}function Ou(i,{relative:e}={}){let{matches:n}=L.useContext(Jn),{pathname:s}=Wi(),o=JSON.stringify(Xp(n));return L.useMemo(()=>Wp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function I1(i,e){return Xb(i,e)}function Xb(i,e,n,s,o){ft(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Mn),{matches:c}=L.useContext(Jn),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let X=T&&T.path||"";Jb(g,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=Wi(),x;if(e){let X=typeof e=="string"?Ho(e):e;ft(E==="/"||X.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),x=X}else x=S;let j=x.pathname||"/",z=j;if(E!=="/"){let X=E.replace(/^\//,"").split("/");z="/"+j.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=jb(i,{pathname:z});Wn(T||U!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Wn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=k1(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Tr([E,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Tr([E,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),c,n,s,o);return e&&$?L.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},$):$}function x1(){let i=U1(),e=m1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,c)}var N1=L.createElement(x1,null),Wb=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=w1(i.digest);n&&(i=n)}let e=i!==void 0?L.createElement(Jn.Provider,{value:this.props.routeContext},L.createElement(Jp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?L.createElement(D1,{error:i},e):e}};Wb.contextType=y1;var ep=new WeakMap;function D1({children:i,error:e}){let{basename:n}=L.useContext(Mn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=b1(e.digest);if(s){let o=ep.get(e);if(o)throw o;let u=Fb(s.location,n);if(Hb&&!ep.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw ep.set(e,c),c}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function O1({routeContext:i,match:e,children:n}){let s=L.useContext(Fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Jn.Provider,{value:i},n)}function k1(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,c=n?.errors;if(c!=null){let E=u.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);ft(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:S,errors:x}=n,j=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!x||x[T.route.id]===void 0);if(T.route.lazy||j){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:p1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,S)=>{let x,j=!1,z=null,U=null;n&&(x=c&&T.route.id?c[T.route.id]:void 0,z=T.route.errorElement||N1,m&&(p<0&&S===0?(Jb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,U=null):p===S&&(j=!0,U=T.route.hydrateFallbackElement||null)));let $=e.concat(u.slice(0,S+1)),X=()=>{let ee;return x?ee=z:j?ee=U:T.route.Component?ee=L.createElement(T.route.Component,null):T.route.element?ee=T.route.element:ee=E,L.createElement(O1,{match:T,routeContext:{outlet:E,matches:$,isDataRoute:n!=null},children:ee})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?L.createElement(Wb,{location:n.location,revalidation:n.revalidation,component:z,error:x,children:X(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:g}):X()},null)}function Zp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M1(i){let e=L.useContext(Fo);return ft(e,Zp(i)),e}function V1(i){let e=L.useContext(pf);return ft(e,Zp(i)),e}function P1(i){let e=L.useContext(Jn);return ft(e,Zp(i)),e}function eg(i){let e=P1(i),n=e.matches[e.matches.length-1];return ft(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function L1(){return eg("useRouteId")}function U1(){let i=L.useContext(Jp),e=V1("useRouteError"),n=eg("useRouteError");return i!==void 0?i:e.errors?.[n]}function j1(){let{router:i}=M1("useNavigate"),e=eg("useNavigate"),n=L.useRef(!1);return $b(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{Wn(n.current,Yb),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var GE={};function Jb(i,e,n){!e&&!GE[i]&&(GE[i]=!0,Wn(!1,n))}L.memo(z1);function z1({routes:i,future:e,state:n,onError:s}){return Xb(i,void 0,n,s,e)}function B1({to:i,replace:e,state:n,relative:s}){ft(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Mn);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(Jn),{pathname:c}=Wi(),m=gf(),p=Wp(i,Xp(u),c,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function q1(i){return C1(i.context)}function gn(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){ft(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof n=="string"&&(n=Ho(n));let{pathname:g="/",search:E="",hash:T="",state:S=null,key:x="default"}=n,j=L.useMemo(()=>{let z=Sr(g,m);return z==null?null:{location:{pathname:z,search:E,hash:T,state:S,key:x},navigationType:s}},[m,g,E,T,S,x,s]);return Wn(j!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:L.createElement(Mn.Provider,{value:p},L.createElement(Du.Provider,{children:e,value:j}))}function F1({children:i,location:e}){return I1(vp(i),e)}function vp(i,e=[]){let n=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,vp(s.props.children,u));return}ft(s.type===gn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=vp(s.props.children,u)),n.push(c)}),n}var Oh="get",kh="application/x-www-form-urlencoded";function yf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function G1(i){return yf(i)&&i.tagName.toLowerCase()==="button"}function K1(i){return yf(i)&&i.tagName.toLowerCase()==="form"}function Q1(i){return yf(i)&&i.tagName.toLowerCase()==="input"}function Y1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function $1(i,e){return i.button===0&&(!e||e==="_self")&&!Y1(i)}var bh=null;function X1(){if(bh===null)try{new FormData(document.createElement("form"),0),bh=!1}catch{bh=!0}return bh}var W1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tp(i){return i!=null&&!W1.has(i)?(Wn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kh}"`),null):i}function J1(i,e){let n,s,o,u,c;if(K1(i)){let m=i.getAttribute("action");s=m?Sr(m,e):null,n=i.getAttribute("method")||Oh,o=tp(i.getAttribute("enctype"))||kh,u=new FormData(i)}else if(G1(i)||Q1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Sr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Oh,o=tp(i.getAttribute("formenctype"))||tp(m.getAttribute("enctype"))||kh,u=new FormData(m,i),!X1()){let{name:g,type:E,value:T}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(yf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oh,s=null,o=kh,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Z1(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Sr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function eC(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function nC(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await eC(u,n);return c.links?c.links():[]}return[]}));return aC(s.flat(1).filter(tC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function KE(i,e,n,s,o,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function iC(i,e,{includeHydrateFallback:n}={}){return rC(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function rC(i){return[...new Set(i)]}function sC(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function aC(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(sC(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Zb(){let i=L.useContext(Fo);return tg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function oC(){let i=L.useContext(pf);return tg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ng=L.createContext(void 0);ng.displayName="FrameworkContext";function e0(){let i=L.useContext(ng);return tg(i,"You must render this element inside a <HydratedRouter> element"),i}function lC(i,e){let n=L.useContext(ng),[s,o]=L.useState(!1),[u,c]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,S=L.useRef(null);L.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let z=$=>{$.forEach(X=>{c(X.isIntersecting)})},U=new IntersectionObserver(z,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[i]),L.useEffect(()=>{if(s){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[s]);let x=()=>{o(!0)},j=()=>{o(!1),c(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:ru(m,x),onBlur:ru(p,j),onMouseEnter:ru(g,x),onMouseLeave:ru(E,j),onTouchStart:ru(T,x)}]:[!1,S,{}]}function ru(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function uC({page:i,...e}){let{router:n}=Zb(),s=L.useMemo(()=>jb(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?L.createElement(hC,{page:i,matches:s,...e}):null}function cC(i){let{manifest:e,routeModules:n}=e0(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return nC(i,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,n]),s}function hC({page:i,matches:e,...n}){let s=Wi(),{manifest:o,routeModules:u}=e0(),{basename:c}=Zb(),{loaderData:m,matches:p}=oC(),g=L.useMemo(()=>KE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=L.useMemo(()=>KE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let j=new Set,z=!1;if(e.forEach($=>{let X=o.routes[$.route.id];!X||!X.hasLoader||(!g.some(ee=>ee.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||X.hasClientLoader?z=!0:j.add($.route.id))}),j.size===0)return[];let U=Z1(i,c,"data");return z&&j.size>0&&U.searchParams.set("_routes",e.filter($=>j.has($.route.id)).map($=>$.route.id).join(",")),[U.pathname+U.search]},[c,m,s,o,g,e,i,u]),S=L.useMemo(()=>iC(E,o),[E,o]),x=cC(E);return L.createElement(L.Fragment,null,T.map(j=>L.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),S.map(j=>L.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),x.map(({key:j,link:z})=>L.createElement("link",{key:j,nonce:n.nonce,...z})))}function fC(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dC&&(window.__reactRouterVersion="7.11.0")}catch{}function mC({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=FR({window:s,v5Compat:!0}));let u=o.current,[c,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(H1,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n})}var t0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eu=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...x},j){let{basename:z,unstable_useTransitions:U}=L.useContext(Mn),$=typeof g=="string"&&t0.test(g),X=Fb(g,z);g=X.to;let ee=A1(g,{relative:o}),[ae,me,pe]=lC(s,x),N=yC(g,{replace:c,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:U});function R(k){e&&e(k),k.defaultPrevented||N(k)}let I=L.createElement("a",{...x,...pe,href:X.absoluteURL||ee,onClick:X.isExternal||u?e:R,ref:fC(j,me),target:p,"data-discover":!$&&n==="render"?"true":void 0});return ae&&!$?L.createElement(L.Fragment,null,I,L.createElement(uC,{page:ee})):I});Eu.displayName="Link";var n0=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},E){let T=Ou(c,{relative:g.relative}),S=Wi(),x=L.useContext(pf),{navigator:j,basename:z}=L.useContext(Mn),U=x!=null&&bC(T)&&m===!0,$=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,X=S.pathname,ee=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(X=X.toLowerCase(),ee=ee?ee.toLowerCase():null,$=$.toLowerCase()),ee&&z&&(ee=Sr(ee,z)||ee);const ae=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let me=X===$||!o&&X.startsWith($)&&X.charAt(ae)==="/",pe=ee!=null&&(ee===$||!o&&ee.startsWith($)&&ee.charAt($.length)==="/"),N={isActive:me,isPending:pe,isTransitioning:U},R=me?e:void 0,I;typeof s=="function"?I=s(N):I=[s,me?"active":null,pe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(N):u;return L.createElement(Eu,{...g,"aria-current":R,className:I,ref:E,style:k,to:c,viewTransition:m},typeof p=="function"?p(N):p)});n0.displayName="NavLink";var pC=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:c=Oh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...x},j)=>{let{unstable_useTransitions:z}=L.useContext(Mn),U=EC(),$=TC(m,{relative:g}),X=c.toLowerCase()==="get"?"get":"post",ee=typeof m=="string"&&t0.test(m),ae=me=>{if(p&&p(me),me.defaultPrevented)return;me.preventDefault();let pe=me.nativeEvent.submitter,N=pe?.getAttribute("formmethod")||c,R=()=>U(pe||me.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S});z&&n!==!1?L.startTransition(()=>R()):R()};return L.createElement("form",{ref:j,method:X,action:$,onSubmit:s?p:ae,...x,"data-discover":!ee&&i==="render"?"true":void 0})});pC.displayName="Form";function gC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i0(i){let e=L.useContext(Fo);return ft(e,gC(i)),e}function yC(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=gf(),E=Wi(),T=Ou(i,{relative:u});return L.useCallback(S=>{if($1(S,e)){S.preventDefault();let x=n!==void 0?n:vu(E)===vu(T),j=()=>g(i,{replace:x,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m});p?L.startTransition(()=>j()):j()}},[E,g,T,n,s,e,i,o,u,c,m,p])}var _C=0,vC=()=>`__${String(++_C)}__`;function EC(){let{router:i}=i0("useSubmit"),{basename:e}=L.useContext(Mn),n=L1(),s=i.fetch,o=i.navigate;return L.useCallback(async(u,c={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=J1(u,e);if(c.navigate===!1){let S=c.fetcherKey||vC();await s(S,n,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:E,body:T,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:E,body:T,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function TC(i,{relative:e}={}){let{basename:n}=L.useContext(Mn),s=L.useContext(Jn);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ou(i||".",{relative:e})},c=Wi();if(i==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Tr([n,u.pathname])),vu(u)}function bC(i,{relative:e}={}){let n=L.useContext(Kb);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=i0("useViewTransitionState"),o=Ou(i,{relative:e});if(!n.isTransitioning)return!1;let u=Sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Fh(o.pathname,c)!=null||Fh(o.pathname,u)!=null}const r0=L.createContext();function wC({children:i}){const[e,n]=L.useState(()=>localStorage.getItem("dacapo-theme")==="dark");L.useEffect(()=>{e?(document.body.classList.add("dark"),localStorage.setItem("dacapo-theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("dacapo-theme","light"))},[e]);const s=L.useCallback(()=>{n(c=>!c)},[]),o=L.useCallback(c=>{n(c==="dark")},[]),u=L.useCallback(()=>e?"dark":"light",[e]);return w.jsx(r0.Provider,{value:{isDarkMode:e,toggleTheme:s,setThemeFromPreference:o,getThemePreference:u},children:i})}function ig(){const i=L.useContext(r0);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i}const AC=()=>{};var QE={};const s0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},SC=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},a0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,x=g&63;p||(x=64,c||(S=64)),s.push(n[E],n[T],n[S],n[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(s0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):SC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new RC;const S=u<<2|m>>4;if(s.push(S),g!==64){const x=m<<4&240|g>>2;if(s.push(x),T!==64){const j=g<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class RC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CC=function(i){const e=s0(i);return a0.encodeByteArray(e,!0)},Gh=function(i){return CC(i).replace(/\./g,"")},o0=function(i){try{return a0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xC=()=>IC().__FIREBASE_DEFAULTS__,NC=()=>{if(typeof process>"u"||typeof QE>"u")return;const i=QE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},DC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&o0(i[1]);return e&&JSON.parse(e)},_f=()=>{try{return AC()||xC()||NC()||DC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},l0=i=>_f()?.emulatorHosts?.[i],rg=i=>{const e=l0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},u0=()=>_f()?.config,c0=i=>_f()?.[`_${i}`];class OC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ji(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vf(i){return(await fetch(i,{credentials:"include"})).ok}function h0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Gh(JSON.stringify(n)),Gh(JSON.stringify(c)),""].join(".")}const fu={};function kC(){const i={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?i.emulator.push(e):i.prod.push(e);return i}function MC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let YE=!1;function Ef(i,e){if(typeof window>"u"||typeof document>"u"||!Ji(window.location.host)||fu[i]===e||fu[i]||YE)return;fu[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=kC().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,x){S.setAttribute("width","24"),S.setAttribute("id",x),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{YE=!0,c()},S}function E(S,x){S.setAttribute("id",x),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=MC(s),x=n("text"),j=document.getElementById(x)||document.createElement("span"),z=n("learnmore"),U=document.getElementById(z)||document.createElement("a"),$=n("preprendIcon"),X=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ee=S.element;m(ee),E(U,z);const ae=g();p(X,$),ee.append(X,j,U,ae),document.body.appendChild(ee)}u?(j.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function PC(){const i=_f()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function jC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zC(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function BC(){return!PC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qC(){try{return typeof indexedDB=="object"}catch{return!1}}function HC(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const FC="FirebaseError";class yi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=FC,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?GC(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new yi(o,m,s)}}function GC(i,e){return i.replace(KC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const KC=/\{\$([^}]+)}/g;function QC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Rr(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],c=e[o];if($E(u)&&$E(c)){if(!Rr(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function $E(i){return i!==null&&typeof i=="object"}function Mu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function au(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ou(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function YC(i,e){const n=new $C(i,e);return n.subscribe.bind(n)}class $C{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");XC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=np),o.error===void 0&&(o.error=np),o.complete===void 0&&(o.complete=np);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function np(){}function tt(i){return i&&i._delegate?i._delegate:i}class Cr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ma="[DEFAULT]";class WC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new OC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZC(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JC(i){return i===ma?void 0:i}function ZC(i){return i.instantiationMode==="EAGER"}class eI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const tI={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},nI=Ve.INFO,iI={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},rI=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=iI[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=nI,this._logHandler=rI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const sI=(i,e)=>e.some(n=>i instanceof n);let XE,WE;function aI(){return XE||(XE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oI(){return WE||(WE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f0=new WeakMap,Ep=new WeakMap,d0=new WeakMap,ip=new WeakMap,ag=new WeakMap;function lI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(ws(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&f0.set(n,i)}).catch(()=>{}),ag.set(e,i),e}function uI(i){if(Ep.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Ep.set(i,e)}let Tp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Ep.get(i);if(e==="objectStoreNames")return i.objectStoreNames||d0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function cI(i){Tp=i(Tp)}function hI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(rp(this),e,...n);return d0.set(s,e.sort?e.sort():[e]),ws(s)}:oI().includes(i)?function(...e){return i.apply(rp(this),e),ws(f0.get(this))}:function(...e){return ws(i.apply(rp(this),e))}}function fI(i){return typeof i=="function"?hI(i):(i instanceof IDBTransaction&&uI(i),sI(i,aI())?new Proxy(i,Tp):i)}function ws(i){if(i instanceof IDBRequest)return lI(i);if(ip.has(i))return ip.get(i);const e=fI(i);return e!==i&&(ip.set(i,e),ag.set(e,i)),e}const rp=i=>ag.get(i);function dI(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),m=ws(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ws(c.result),p.oldVersion,p.newVersion,ws(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const mI=["get","getKey","getAll","getAllKeys","count"],pI=["put","add","delete","clear"],sp=new Map;function JE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(sp.get(e))return sp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=pI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||mI.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return sp.set(e,u),u}cI(i=>({...i,get:(e,n,s)=>JE(e,n)||i.get(e,n,s),has:(e,n)=>!!JE(e,n)||i.has(e,n)}));class gI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function yI(i){return i.getComponent()?.type==="VERSION"}const bp="@firebase/app",ZE="0.14.6";const Ir=new sg("@firebase/app"),_I="@firebase/app-compat",vI="@firebase/analytics-compat",EI="@firebase/analytics",TI="@firebase/app-check-compat",bI="@firebase/app-check",wI="@firebase/auth",AI="@firebase/auth-compat",SI="@firebase/database",RI="@firebase/data-connect",CI="@firebase/database-compat",II="@firebase/functions",xI="@firebase/functions-compat",NI="@firebase/installations",DI="@firebase/installations-compat",OI="@firebase/messaging",kI="@firebase/messaging-compat",MI="@firebase/performance",VI="@firebase/performance-compat",PI="@firebase/remote-config",LI="@firebase/remote-config-compat",UI="@firebase/storage",jI="@firebase/storage-compat",zI="@firebase/firestore",BI="@firebase/ai",qI="@firebase/firestore-compat",HI="firebase",FI="12.6.0";const wp="[DEFAULT]",GI={[bp]:"fire-core",[_I]:"fire-core-compat",[EI]:"fire-analytics",[vI]:"fire-analytics-compat",[bI]:"fire-app-check",[TI]:"fire-app-check-compat",[wI]:"fire-auth",[AI]:"fire-auth-compat",[SI]:"fire-rtdb",[RI]:"fire-data-connect",[CI]:"fire-rtdb-compat",[II]:"fire-fn",[xI]:"fire-fn-compat",[NI]:"fire-iid",[DI]:"fire-iid-compat",[OI]:"fire-fcm",[kI]:"fire-fcm-compat",[MI]:"fire-perf",[VI]:"fire-perf-compat",[PI]:"fire-rc",[LI]:"fire-rc-compat",[UI]:"fire-gcs",[jI]:"fire-gcs-compat",[zI]:"fire-fst",[qI]:"fire-fst-compat",[BI]:"fire-vertex","fire-js":"fire-js",[HI]:"fire-js-all"};const Kh=new Map,KI=new Map,Ap=new Map;function eT(i,e){try{i.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Cs(i){const e=i.name;if(Ap.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;Ap.set(e,i);for(const n of Kh.values())eT(n,i);for(const n of KI.values())eT(n,i);return!0}function Vu(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function vn(i){return i==null?!1:i.settings!==void 0}const QI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new ku("app","Firebase",QI);class YI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}const Sa=FI;function m0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:wp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw As.create("bad-app-name",{appName:String(o)});if(n||(n=u0()),!n)throw As.create("no-options");const u=Kh.get(o);if(u){if(Rr(n,u.options)&&Rr(s,u.config))return u;throw As.create("duplicate-app",{appName:o})}const c=new eI(o);for(const p of Ap.values())c.addComponent(p);const m=new YI(n,s,c);return Kh.set(o,m),m}function Tf(i=wp){const e=Kh.get(i);if(!e&&i===wp&&u0())return m0();if(!e)throw As.create("no-app",{appName:i});return e}function $n(i,e,n){let s=GI[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(c.join(" "));return}Cs(new Cr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const $I="firebase-heartbeat-database",XI=1,Tu="firebase-heartbeat-store";let ap=null;function p0(){return ap||(ap=dI($I,XI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(i=>{throw As.create("idb-open",{originalErrorMessage:i.message})})),ap}async function WI(i){try{const n=(await p0()).transaction(Tu),s=await n.objectStore(Tu).get(g0(i));return await n.done,s}catch(e){if(e instanceof yi)Ir.warn(e.message);else{const n=As.create("idb-get",{originalErrorMessage:e?.message});Ir.warn(n.message)}}}async function tT(i,e){try{const s=(await p0()).transaction(Tu,"readwrite");await s.objectStore(Tu).put(e,g0(i)),await s.done}catch(n){if(n instanceof yi)Ir.warn(n.message);else{const s=As.create("idb-set",{originalErrorMessage:n?.message});Ir.warn(s.message)}}}function g0(i){return`${i.name}!${i.options.appId}`}const JI=1024,ZI=30;class ex{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>ZI){const o=ix(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ir.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nT(),{heartbeatsToSend:n,unsentEntries:s}=tx(this._heartbeatsCache.heartbeats),o=Gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ir.warn(e),""}}}function nT(){return new Date().toISOString().substring(0,10)}function tx(i,e=JI){const n=[];let s=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),iT(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),iT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qC()?HC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iT(i){return Gh(JSON.stringify({version:2,heartbeats:i})).length}function ix(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function rx(i){Cs(new Cr("platform-logger",e=>new gI(e),"PRIVATE")),Cs(new Cr("heartbeat",e=>new ex(e),"PRIVATE")),$n(bp,ZE,i),$n(bp,ZE,"esm2020"),$n("fire-js","")}rx("");function y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sx=y0,_0=new ku("auth","Firebase",y0());const Qh=new sg("@firebase/auth");function ax(i,...e){Qh.logLevel<=Ve.WARN&&Qh.warn(`Auth (${Sa}): ${i}`,...e)}function Mh(i,...e){Qh.logLevel<=Ve.ERROR&&Qh.error(`Auth (${Sa}): ${i}`,...e)}function pi(i,...e){throw og(i,...e)}function Hi(i,...e){return og(i,...e)}function v0(i,e,n){const s={...sx(),[e]:n};return new ku("auth","Firebase",s).create(e,{appName:i.name})}function br(i){return v0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return _0.create(i,...e)}function ve(i,e,...n){if(!i)throw og(e,...n)}function vr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Mh(e),new Error(e)}function xr(i,e){i||vr(e)}function Sp(){return typeof self<"u"&&self.location?.href||""}function ox(){return rT()==="http:"||rT()==="https:"}function rT(){return typeof self<"u"&&self.location?.protocol||null}function lx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ox()||UC()||"connection"in navigator)?navigator.onLine:!0}function ux(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=VC()||jC()}get(){return lx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lg(i,e){xr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class E0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fx=new Pu(3e4,6e4);function kr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Mr(i,e,n,s,o={}){return T0(i,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const m=Mu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return LC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Ji(i.emulatorConfig.host)&&(g.credentials="include"),E0.fetch()(await b0(i,i.config.apiHost,n,m),g)})}async function T0(i,e,n){i._canInitEmulator=!1;const s={...cx,...e};try{const o=new mx(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw wh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw wh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw wh(i,"user-disabled",c);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw v0(i,E,g);pi(i,E)}}catch(o){if(o instanceof yi)throw o;pi(i,"network-request-failed",{message:String(o)})}}async function Lu(i,e,n,s,o={}){const u=await Mr(i,e,n,s,o);return"mfaPendingCredential"in u&&pi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function b0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,c=u.config.emulator?lg(i.config,o):`${i.config.apiScheme}://${o}`;return hx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function dx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hi(this.auth,"network-request-failed")),fx.get())})}}function wh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Hi(i,e,s);return o.customData._tokenResponse=n,o}function sT(i){return i!==void 0&&i.enterprise!==void 0}class px{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gx(i,e){return Mr(i,"GET","/v2/recaptchaConfig",kr(i,e))}async function yx(i,e){return Mr(i,"POST","/v1/accounts:delete",e)}async function Yh(i,e){return Mr(i,"POST","/v1/accounts:lookup",e)}function du(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rp(i,e=!1){const n=tt(i),s=await n.getIdToken(e),o=ug(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:du(op(o.auth_time)),issuedAtTime:du(op(o.iat)),expirationTime:du(op(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function op(i){return Number(i)*1e3}function ug(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=o0(n);return o?JSON.parse(o):(Mh("Failed to decode base64 JWT payload"),null)}catch(o){return Mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function aT(i){const e=ug(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof yi&&_x(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function _x({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class vx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $h(i){const e=i.auth,n=await i.getIdToken(),s=await bu(i,Yh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?w0(o.providerUserInfo):[],c=Tx(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function Ex(i){const e=tt(i);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function w0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function bx(i,e){const n=await T0(i,{},async()=>{const s=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await b0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ji(i.emulatorConfig.host)&&(p.credentials="include"),E0.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wx(i,e){return Mr(i,"POST","/v2/accounts:revokeToken",kr(i,e))}class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=aT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await bx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new No;return s&&(ve(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return vr("not implemented")}}function ps(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class mi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new vx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await bu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Rp(this,e)}reload(){return Ex(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await $h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await bu(this,yx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:x,providerData:j,stsTokenManager:z}=n;ve(T&&z,e,"internal-error");const U=No.fromJSON(this.name,z);ve(typeof T=="string",e,"internal-error"),ps(s,e.name),ps(o,e.name),ve(typeof S=="boolean",e,"internal-error"),ve(typeof x=="boolean",e,"internal-error"),ps(u,e.name),ps(c,e.name),ps(m,e.name),ps(p,e.name),ps(g,e.name),ps(E,e.name);const $=new mi({uid:T,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:x,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:E});return j&&Array.isArray(j)&&($.providerData=j.map(X=>({...X}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new No;o.updateFromServerResponse(n);const u=new mi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await $h(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?w0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new No;m.updateFromIdToken(s);const p=new mi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const oT=new Map;function Er(i){xr(i instanceof Function,"Expected a class definition");let e=oT.get(i);return e?(xr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,oT.set(i,e),e)}class A0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A0.type="NONE";const lT=A0;function Vh(i,e,n){return`firebase:${i}:${e}:${n}`}class Do{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yh(this.auth,{idToken:e}).catch(()=>{});return n?mi._fromGetAccountInfoResponse(this.auth,n,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Do(Er(lT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Er(lT);const c=Vh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(c);if(E){let T;if(typeof E=="string"){const S=await Yh(e,{idToken:E}).catch(()=>{});if(!S)break;T=await mi._fromGetAccountInfoResponse(e,S,E)}else T=mi._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Do(u,e,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Do(u,e,s))}}function uT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N0(e))return"Blackberry";if(D0(e))return"Webos";if(R0(e))return"Safari";if((e.includes("chrome/")||C0(e))&&!e.includes("edge/"))return"Chrome";if(x0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function S0(i=nn()){return/firefox\//i.test(i)}function R0(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C0(i=nn()){return/crios\//i.test(i)}function I0(i=nn()){return/iemobile/i.test(i)}function x0(i=nn()){return/android/i.test(i)}function N0(i=nn()){return/blackberry/i.test(i)}function D0(i=nn()){return/webos/i.test(i)}function cg(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Ax(i=nn()){return cg(i)&&!!window.navigator?.standalone}function Sx(){return zC()&&document.documentMode===10}function O0(i=nn()){return cg(i)||x0(i)||D0(i)||N0(i)||/windows phone/i.test(i)||I0(i)}function k0(i,e=[]){let n;switch(i){case"Browser":n=uT(nn());break;case"Worker":n=`${uT(nn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${s}`}class Rx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Cx(i,e={}){return Mr(i,"GET","/v2/passwordPolicy",kr(i,e))}const Ix=6;class xx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ix,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Nx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cT(this),this.idTokenSubscription=new cT(this),this.beforeStateQueue=new Rx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Er(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yh(this,{idToken:e}),s=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ux()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(br(this));const n=e?tt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Cx(this),n=new xx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Er(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ax(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ms(i){return tt(i)}class cT{constructor(e){this.auth=e,this.observer=null,this.addObserver=YC(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dx(i){bf=i}function M0(i){return bf.loadJS(i)}function Ox(){return bf.recaptchaEnterpriseScript}function kx(){return bf.gapiScript}function Mx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Vx{constructor(){this.enterprise=new Px}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Px{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Lx="recaptcha-enterprise",V0="NO_RECAPTCHA";class Ux{constructor(e){this.type=Lx,this.auth=Ms(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{gx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new px(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;sT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(V0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vx().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!n&&sT(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Ox();p.length!==0&&(p+=m),M0(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function hT(i,e,n,s=!1,o=!1){const u=new Ux(i);let c;if(o)c=V0;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Xh(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await hT(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await hT(i,e,n,n==="getOobCode");return s(i,c)}else return Promise.reject(u)})}function jx(i,e){const n=Vu(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Rr(u,e??{}))return o;pi(o,"already-initialized")}return n.initialize({options:e})}function zx(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Er);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function Bx(i,e,n){const s=Ms(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=P0(e),{host:c,port:m}=qx(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},E=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Rr(g,s.config.emulator)&&Rr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ji(c)?(vf(`${u}//${c}${p}`),Ef("Auth",!0)):Hx()}function P0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function qx(i){const e=P0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:fT(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:fT(c)}}}function fT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Hx(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class hg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}async function Fx(i,e){return Mr(i,"POST","/v1/accounts:signUp",e)}async function Gx(i,e){return Lu(i,"POST","/v1/accounts:signInWithPassword",kr(i,e))}async function L0(i,e){return Mr(i,"POST","/v1/accounts:sendOobCode",kr(i,e))}async function Kx(i,e){return L0(i,e)}async function Qx(i,e){return L0(i,e)}async function Yx(i,e){return Lu(i,"POST","/v1/accounts:signInWithEmailLink",kr(i,e))}async function $x(i,e){return Lu(i,"POST","/v1/accounts:signInWithEmailLink",kr(i,e))}class wu extends hg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new wu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xh(e,n,"signInWithPassword",Gx);case"emailLink":return Yx(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xh(e,s,"signUpPassword",Fx);case"emailLink":return $x(e,{idToken:n,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Oo(i,e){return Lu(i,"POST","/v1/accounts:signInWithIdp",kr(i,e))}const Xx="http://localhost";class Ea extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new Ea(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Oo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:Xx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mu(n)}return e}}function Wx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jx(i){const e=au(ou(i)).link,n=e?au(ou(e)).deep_link_id:null,s=au(ou(i)).deep_link_id;return(s?au(ou(s)).link:null)||s||n||e||i}class fg{constructor(e){const n=au(ou(e)),s=n.apiKey??null,o=n.oobCode??null,u=Wx(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Jx(e);try{return new fg(n)}catch{return null}}}class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=fg.parseLink(n);return ve(s,"argument-error"),wu._fromEmailAndCode(e,s.code,s.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class U0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uu extends U0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class gs extends Uu{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";class ys extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ea._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ys.credential(n,s)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";class _s extends Uu{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";class vs extends Uu{constructor(){super("twitter.com")}static credential(e,n){return Ea._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return vs.credential(n,s)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";async function Zx(i,e){return Lu(i,"POST","/v1/accounts:signUp",kr(i,e))}class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await mi._fromIdTokenResponse(e,s,o),c=dT(s);return new Ta({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=dT(s);return new Ta({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function dT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Wh extends yi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Wh(e,n,s,o)}}function j0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(i,u,e,s):u})}async function eN(i,e,n=!1){const s=await bu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ta._forOperation(i,"link",s)}async function tN(i,e,n=!1){const{auth:s}=i;if(vn(s.app))return Promise.reject(br(s));const o="reauthenticate";try{const u=await bu(i,j0(s,o,e,i),n);ve(u.idToken,s,"internal-error");const c=ug(u.idToken);ve(c,s,"internal-error");const{sub:m}=c;return ve(i.uid===m,s,"user-mismatch"),Ta._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&pi(s,"user-mismatch"),u}}async function z0(i,e,n=!1){if(vn(i.app))return Promise.reject(br(i));const s="signIn",o=await j0(i,s,e),u=await Ta._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function nN(i,e){return z0(Ms(i),e)}async function B0(i){const e=Ms(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iN(i,e,n){const s=Ms(i);await Xh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Qx)}async function rN(i,e,n){if(vn(i.app))return Promise.reject(br(i));const s=Ms(i),c=await Xh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&B0(i),p}),m=await Ta._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function sN(i,e,n){return vn(i.app)?Promise.reject(br(i)):nN(tt(i),Ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&B0(i),s})}async function mT(i,e){const n=tt(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await Kx(n.auth,o);u!==i.email&&await i.reload()}function aN(i,e,n,s){return tt(i).onIdTokenChanged(e,n,s)}function oN(i,e,n){return tt(i).beforeAuthStateChanged(e,n)}function lN(i,e,n,s){return tt(i).onAuthStateChanged(e,n,s)}function uN(i){return tt(i).signOut()}const Jh="__sak";class q0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cN=1e3,hN=10;class H0 extends q0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);Sx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}H0.type="LOCAL";const fN=H0;class F0 extends q0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F0.type="SESSION";const G0=F0;function dN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new wf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await dN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];function dg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class mN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=dg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Fi(){return window}function pN(i){Fi().location.href=i}function K0(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function gN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yN(){return navigator?.serviceWorker?.controller||null}function _N(){return K0()?self:null}const Q0="firebaseLocalStorageDb",vN=1,Zh="firebaseLocalStorage",Y0="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Af(i,e){return i.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function EN(){const i=indexedDB.deleteDatabase(Q0);return new ju(i).toPromise()}function Ip(){const i=indexedDB.open(Q0,vN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Zh,{keyPath:Y0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Zh)?e(s):(s.close(),await EN(),e(await Ip()))})})}async function pT(i,e,n){const s=Af(i,!0).put({[Y0]:e,value:n});return new ju(s).toPromise()}async function TN(i,e){const n=Af(i,!1).get(e),s=await new ju(n).toPromise();return s===void 0?null:s.value}function gT(i,e){const n=Af(i,!0).delete(e);return new ju(n).toPromise()}const bN=800,wN=3;class $0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>wN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(_N()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gN(),!this.activeServiceWorker)return;this.sender=new mN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ip();return await pT(e,Jh,"1"),await gT(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>pT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>TN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Af(o,!1).getAll();return new ju(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$0.type="LOCAL";const AN=$0;new Pu(3e4,6e4);function SN(i,e){return e?Er(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class mg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RN(i){return z0(i.auth,new mg(i),i.bypassAuthState)}function CN(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),tN(n,new mg(i),i.bypassAuthState)}async function IN(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),eN(n,new mg(i),i.bypassAuthState)}class X0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RN;case"linkViaPopup":case"linkViaRedirect":return IN;case"reauthViaPopup":case"reauthViaRedirect":return CN;default:pi(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xN=new Pu(2e3,1e4);class xo extends X0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xN.get())};e()}}xo.currentPopupAction=null;const NN="pendingRedirect",Ph=new Map;class DN extends X0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const s=await ON(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ON(i,e){const n=VN(e),s=MN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function kN(i,e){Ph.set(i._key(),e)}function MN(i){return Er(i._redirectPersistence)}function VN(i){return Vh(NN,i.config.apiKey,i.name)}async function PN(i,e,n=!1){if(vn(i.app))return Promise.reject(br(i));const s=Ms(i),o=SN(s,e),c=await new DN(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const LN=600*1e3;class UN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!W0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Hi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LN&&this.cachedEventUids.clear(),this.cachedEventUids.has(yT(e))}saveEventToCache(e){this.cachedEventUids.add(yT(e)),this.lastProcessedEventTime=Date.now()}}function yT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function W0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function jN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W0(i);default:return!1}}async function zN(i,e={}){return Mr(i,"GET","/v1/projects",e)}const BN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qN=/^https?/;async function HN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await zN(i);for(const n of e)try{if(FN(n))return}catch{}pi(i,"unauthorized-domain")}function FN(i){const e=Sp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!qN.test(n))return!1;if(BN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const GN=new Pu(3e4,6e4);function _T(){const i=Fi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function KN(i){return new Promise((e,n)=>{function s(){_T(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_T(),n(Hi(i,"network-request-failed"))},timeout:GN.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)s();else{const o=Mx("iframefcb");return Fi()[o]=()=>{gapi.load?s():n(Hi(i,"network-request-failed"))},M0(`${kx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function QN(i){return Lh=Lh||KN(i),Lh}const YN=new Pu(5e3,15e3),$N="__/auth/iframe",XN="emulator/auth/iframe",WN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZN(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?lg(e,XN):`https://${i.config.authDomain}/${$N}`,s={apiKey:e.apiKey,appName:i.name,v:Sa},o=JN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Mu(s).slice(1)}`}async function e2(i){const e=await QN(i),n=Fi().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:ZN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Hi(i,"network-request-failed"),m=Fi().setTimeout(()=>{u(c)},YN.get());function p(){Fi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const t2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n2=500,i2=600,r2="_blank",s2="http://localhost";class vT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a2(i,e,n,s=n2,o=i2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...t2,width:s.toString(),height:o.toString(),top:u,left:c},g=nn().toLowerCase();n&&(m=C0(g)?r2:n),S0(g)&&(e=e||s2,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[x,j])=>`${S}${x}=${j},`,"");if(Ax(g)&&m!=="_self")return o2(e||"",m),new vT(null);const T=window.open(e||"",m,E);ve(T,i,"popup-blocked");try{T.focus()}catch{}return new vT(T)}function o2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const l2="__/auth/handler",u2="emulator/auth/handler",c2=encodeURIComponent("fac");async function ET(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Sa,eventId:o};if(e instanceof U0){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",QC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))c[E]=T}if(e instanceof Uu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(c.scopes=E.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${c2}=${encodeURIComponent(p)}`:"";return`${h2(i)}?${Mu(m).slice(1)}${g}`}function h2({config:i}){return i.emulator?lg(i,u2):`https://${i.authDomain}/${l2}`}const lp="webStorageSupport";class f2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G0,this._completeRedirectFn=PN,this._overrideRedirectResult=kN}async _openPopup(e,n,s,o){xr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ET(e,n,s,Sp(),o);return a2(e,u,dg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await ET(e,n,s,Sp(),o);return pN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(xr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await e2(e),s=new UN(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lp,{type:lp},o=>{const u=o?.[0]?.[lp];u!==void 0&&n(!!u),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O0()||R0()||cg()}}const d2=f2;var TT="@firebase/auth",bT="1.12.0";class m2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g2(i){Cs(new Cr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;ve(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(i)},g=new Nx(s,o,u,p);return zx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Cs(new Cr("auth-internal",e=>{const n=Ms(e.getProvider("auth").getImmediate());return(s=>new m2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(TT,bT,p2(i)),$n(TT,bT,"esm2020")}const y2=300,_2=c0("authIdTokenMaxAge")||y2;let wT=null;const v2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_2)return;const o=n?.token;wT!==o&&(wT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function E2(i=Tf()){const e=Vu(i,"auth");if(e.isInitialized())return e.getImmediate();const n=jx(i,{popupRedirectResolver:d2,persistence:[AN,fN,G0]}),s=c0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=v2(u.toString());oN(n,c,()=>c(n.currentUser)),aN(n,m=>c(m))}}const o=l0("auth");return o&&Bx(n,`http://${o}`),n}function T2(){return document.getElementsByTagName("head")?.[0]??document}Dx({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",T2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g2("Browser");var AT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ss,J0;(function(){var i;function e(N,R){function I(){}I.prototype=R.prototype,N.F=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(k,O,M){for(var C=Array(arguments.length-2),be=2;be<arguments.length;be++)C[be-2]=arguments[be];return R.prototype[O].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,I){I||(I=0);const k=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)k[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)k[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],O=N.g[2];let M=N.g[3],C;C=R+(M^I&(O^M))+k[0]+3614090360&4294967295,R=I+(C<<7&4294967295|C>>>25),C=M+(O^R&(I^O))+k[1]+3905402710&4294967295,M=R+(C<<12&4294967295|C>>>20),C=O+(I^M&(R^I))+k[2]+606105819&4294967295,O=M+(C<<17&4294967295|C>>>15),C=I+(R^O&(M^R))+k[3]+3250441966&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(M^I&(O^M))+k[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=M+(O^R&(I^O))+k[5]+1200080426&4294967295,M=R+(C<<12&4294967295|C>>>20),C=O+(I^M&(R^I))+k[6]+2821735955&4294967295,O=M+(C<<17&4294967295|C>>>15),C=I+(R^O&(M^R))+k[7]+4249261313&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(M^I&(O^M))+k[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=M+(O^R&(I^O))+k[9]+2336552879&4294967295,M=R+(C<<12&4294967295|C>>>20),C=O+(I^M&(R^I))+k[10]+4294925233&4294967295,O=M+(C<<17&4294967295|C>>>15),C=I+(R^O&(M^R))+k[11]+2304563134&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(M^I&(O^M))+k[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=M+(O^R&(I^O))+k[13]+4254626195&4294967295,M=R+(C<<12&4294967295|C>>>20),C=O+(I^M&(R^I))+k[14]+2792965006&4294967295,O=M+(C<<17&4294967295|C>>>15),C=I+(R^O&(M^R))+k[15]+1236535329&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(O^M&(I^O))+k[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=M+(I^O&(R^I))+k[6]+3225465664&4294967295,M=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(M^R))+k[11]+643717713&4294967295,O=M+(C<<14&4294967295|C>>>18),C=I+(M^R&(O^M))+k[0]+3921069994&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(O^M&(I^O))+k[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=M+(I^O&(R^I))+k[10]+38016083&4294967295,M=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(M^R))+k[15]+3634488961&4294967295,O=M+(C<<14&4294967295|C>>>18),C=I+(M^R&(O^M))+k[4]+3889429448&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(O^M&(I^O))+k[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=M+(I^O&(R^I))+k[14]+3275163606&4294967295,M=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(M^R))+k[3]+4107603335&4294967295,O=M+(C<<14&4294967295|C>>>18),C=I+(M^R&(O^M))+k[8]+1163531501&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(O^M&(I^O))+k[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=M+(I^O&(R^I))+k[2]+4243563512&4294967295,M=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(M^R))+k[7]+1735328473&4294967295,O=M+(C<<14&4294967295|C>>>18),C=I+(M^R&(O^M))+k[12]+2368359562&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(I^O^M)+k[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=M+(R^I^O)+k[8]+2272392833&4294967295,M=R+(C<<11&4294967295|C>>>21),C=O+(M^R^I)+k[11]+1839030562&4294967295,O=M+(C<<16&4294967295|C>>>16),C=I+(O^M^R)+k[14]+4259657740&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(I^O^M)+k[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=M+(R^I^O)+k[4]+1272893353&4294967295,M=R+(C<<11&4294967295|C>>>21),C=O+(M^R^I)+k[7]+4139469664&4294967295,O=M+(C<<16&4294967295|C>>>16),C=I+(O^M^R)+k[10]+3200236656&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(I^O^M)+k[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=M+(R^I^O)+k[0]+3936430074&4294967295,M=R+(C<<11&4294967295|C>>>21),C=O+(M^R^I)+k[3]+3572445317&4294967295,O=M+(C<<16&4294967295|C>>>16),C=I+(O^M^R)+k[6]+76029189&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(I^O^M)+k[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=M+(R^I^O)+k[12]+3873151461&4294967295,M=R+(C<<11&4294967295|C>>>21),C=O+(M^R^I)+k[15]+530742520&4294967295,O=M+(C<<16&4294967295|C>>>16),C=I+(O^M^R)+k[2]+3299628645&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(O^(I|~M))+k[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=M+(I^(R|~O))+k[7]+1126891415&4294967295,M=R+(C<<10&4294967295|C>>>22),C=O+(R^(M|~I))+k[14]+2878612391&4294967295,O=M+(C<<15&4294967295|C>>>17),C=I+(M^(O|~R))+k[5]+4237533241&4294967295,I=O+(C<<21&4294967295|C>>>11),C=R+(O^(I|~M))+k[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=M+(I^(R|~O))+k[3]+2399980690&4294967295,M=R+(C<<10&4294967295|C>>>22),C=O+(R^(M|~I))+k[10]+4293915773&4294967295,O=M+(C<<15&4294967295|C>>>17),C=I+(M^(O|~R))+k[1]+2240044497&4294967295,I=O+(C<<21&4294967295|C>>>11),C=R+(O^(I|~M))+k[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=M+(I^(R|~O))+k[15]+4264355552&4294967295,M=R+(C<<10&4294967295|C>>>22),C=O+(R^(M|~I))+k[6]+2734768916&4294967295,O=M+(C<<15&4294967295|C>>>17),C=I+(M^(O|~R))+k[13]+1309151649&4294967295,I=O+(C<<21&4294967295|C>>>11),C=R+(O^(I|~M))+k[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=M+(I^(R|~O))+k[11]+3174756917&4294967295,M=R+(C<<10&4294967295|C>>>22),C=O+(R^(M|~I))+k[2]+718787259&4294967295,O=M+(C<<15&4294967295|C>>>17),C=I+(M^(O|~R))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const I=R-this.blockSize,k=this.C;let O=this.h,M=0;for(;M<R;){if(O==0)for(;M<=I;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<R;)if(k[O++]=N.charCodeAt(M++),O==this.blockSize){o(this,k),O=0;break}}else for(;M<R;)if(k[O++]=N[M++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)N[R++]=this.g[I]>>>k&255;return N};function u(N,R){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function c(N,R){this.h=R;const I=[];let k=!0;for(let O=N.length-1;O>=0;O--){const M=N[O]|0;k&&M==R||(I[O]=M,k=!1)}this.g=I}var m={};function p(N){return-128<=N&&N<128?u(N,function(R){return new c([R|0],R<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return U(g(-N));const R=[];let I=1;for(let k=0;N>=I;k++)R[k]=N/I|0,I*=4294967296;return new c(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return U(E(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let k=T;for(let M=0;M<N.length;M+=8){var O=Math.min(8,N.length-M);const C=parseInt(N.substring(M,M+O),R);O<8?(O=g(Math.pow(R,O)),k=k.j(O).add(g(C))):(k=k.j(I),k=k.add(g(C)))}return k}var T=p(0),S=p(1),x=p(16777216);i=c.prototype,i.m=function(){if(z(this))return-U(this).m();let N=0,R=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);N+=(k>=0?k:4294967296+k)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(z(this))return"-"+U(this).toString(N);const R=g(Math.pow(N,6));var I=this;let k="";for(;;){const O=ae(I,R).g;I=$(I,O.j(R));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=O,j(I))return M+k;for(;M.length<6;)M="0"+M;k=M+k}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function z(N){return N.h==-1}i.l=function(N){return N=$(this,N),z(N)?-1:j(N)?0:1};function U(N){const R=N.g.length,I=[];for(let k=0;k<R;k++)I[k]=~N.g[k];return new c(I,~N.h).add(S)}i.abs=function(){return z(this)?U(this):this},i.add=function(N){const R=Math.max(this.g.length,N.g.length),I=[];let k=0;for(let O=0;O<=R;O++){let M=k+(this.i(O)&65535)+(N.i(O)&65535),C=(M>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);k=C>>>16,M&=65535,C&=65535,I[O]=C<<16|M}return new c(I,I[I.length-1]&-2147483648?-1:0)};function $(N,R){return N.add(U(R))}i.j=function(N){if(j(this)||j(N))return T;if(z(this))return z(N)?U(this).j(U(N)):U(U(this).j(N));if(z(N))return U(this.j(U(N)));if(this.l(x)<0&&N.l(x)<0)return g(this.m()*N.m());const R=this.g.length+N.g.length,I=[];for(var k=0;k<2*R;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<N.g.length;O++){const M=this.i(k)>>>16,C=this.i(k)&65535,be=N.i(O)>>>16,Te=N.i(O)&65535;I[2*k+2*O]+=C*Te,X(I,2*k+2*O),I[2*k+2*O+1]+=M*Te,X(I,2*k+2*O+1),I[2*k+2*O+1]+=C*be,X(I,2*k+2*O+1),I[2*k+2*O+2]+=M*be,X(I,2*k+2*O+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new c(I,0)};function X(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function ee(N,R){this.g=N,this.h=R}function ae(N,R){if(j(R))throw Error("division by zero");if(j(N))return new ee(T,T);if(z(N))return R=ae(U(N),R),new ee(U(R.g),U(R.h));if(z(R))return R=ae(N,U(R)),new ee(U(R.g),R.h);if(N.g.length>30){if(z(N)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,k=R;k.l(N)<=0;)I=me(I),k=me(k);var O=pe(I,1),M=pe(k,1);for(k=pe(k,2),I=pe(I,2);!j(k);){var C=M.add(k);C.l(N)<=0&&(O=O.add(I),M=C),k=pe(k,1),I=pe(I,1)}return R=$(N,O.j(R)),new ee(O,R)}for(O=T;N.l(R)>=0;){for(I=Math.max(1,Math.floor(N.m()/R.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),M=g(I),C=M.j(R);z(C)||C.l(N)>0;)I-=k,M=g(I),C=M.j(R);j(M)&&(M=S),O=O.add(M),N=$(N,C)}return new ee(O,N)}i.B=function(N){return ae(this,N).h},i.and=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)&N.i(k);return new c(I,this.h&N.h)},i.or=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)|N.i(k);return new c(I,this.h|N.h)},i.xor=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)^N.i(k);return new c(I,this.h^N.h)};function me(N){const R=N.g.length+1,I=[];for(let k=0;k<R;k++)I[k]=N.i(k)<<1|N.i(k-1)>>>31;return new c(I,N.h)}function pe(N,R){const I=R>>5;R%=32;const k=N.g.length-I,O=[];for(let M=0;M<k;M++)O[M]=R>0?N.i(M+I)>>>R|N.i(M+I+1)<<32-R:N.i(M+I);return new c(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,J0=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=E,Ss=c}).apply(typeof AT<"u"?AT:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z0,lu,ew,Uh,xp,tw,nw,iw;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)e:{var v=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in v))break e;v=v[q]}h=h[h.length-1],A=v[h],y=y(A),y!=A&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,v){return h.call.apply(h.bind,arguments)}function g(h,y,v){return g=p,g.apply(null,arguments)}function E(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(A,q,Q){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return y.prototype[q].apply(A,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const y=h.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=h[A];return v}return[]}function j(h,y){for(let A=1;A<arguments.length;A++){const q=arguments[A];var v=typeof q;if(v=v!="object"?v:q?Array.isArray(q)?"array":v:"null",v=="array"||v=="object"&&typeof q.length=="number"){v=h.length||0;const Q=q.length||0;h.length=v+Q;for(let se=0;se<Q;se++)h[v+se]=q[se]}else h.push(q)}}class z{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function $(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,v){const A=ee.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ee=new z(()=>new ae,h=>h.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,pe=!1,N=new X,R=()=>{const h=Promise.resolve(void 0);me=()=>{h.then(I)}};function I(){for(var h;h=$();){try{h.h.call(h.g)}catch(v){U(v)}var y=ee;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}pe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function be(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(be,O),be.prototype.init=function(h,y){const v=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),H=0;function re(h,y,v,A,q){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=q,this.key=++H,this.da=this.fa=!1}function ue(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Be(h,y,v){for(const A in h)y.call(v,h[A],A,h)}function Qe(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function P(h){const y={};for(const v in h)y[v]=h[v];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,y){let v,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(v in A)h[v]=A[v];for(let Q=0;Q<ne.length;Q++)v=ne[Q],Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,y,v,A,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const se=xe(h,y,A,q);return se>-1?(y=h[se],v||(y.fa=!1)):(y=new re(y,this.src,Q,!!A,q),y.fa=v,h.push(y)),y};function we(h,y){const v=y.type;if(v in h.g){var A=h.g[v],q=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(A,q,1),Q&&(ue(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function xe(h,y,v,A){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return q}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Vt={};function lt(h,y,v,A,q){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)lt(h,y[Q],v,A,q);return null}return v=el(v),h&&h[Te]?h.J(y,v,m(A)?!!A.capture:!1,q):Ls(h,y,v,!1,A,q)}function Ls(h,y,v,A,q,Q){if(!y)throw Error("Invalid event type");const se=m(q)?!!q.capture:!!q;let Ce=Us(h);if(Ce||(h[je]=Ce=new he(h)),v=Ce.add(y,v,A,se,Q),v.proxy)return v;if(A=Oa(),v.proxy=A,A.src=h,A.listener=v,h.addEventListener)M||(q=se),q===void 0&&(q=!1),h.addEventListener(y.toString(),A,q);else if(h.attachEvent)h.attachEvent(_i(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Oa(){function h(v){return y.call(h.src,h.listener,v)}const y=Jo;return h}function ka(h,y,v,A,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ka(h,y[Q],v,A,q);else A=m(A)?!!A.capture:!!A,v=el(v),h&&h[Te]?(h=h.i,Q=String(y).toString(),Q in h.g&&(y=h.g[Q],v=xe(y,v,A,q),v>-1&&(ue(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Us(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xe(y,v,A,q)),(v=h>-1?y[h]:null)&&Ma(v))}function Ma(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Te])we(y.i,h);else{var v=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(v,A,h.capture):y.detachEvent?y.detachEvent(_i(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Us(y))?(we(v,h),v.h==0&&(v.src=null,y[je]=null)):ue(h)}}}function _i(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function Jo(h,y){if(h.da)h=!0;else{y=new be(y,this);const v=h.listener,A=h.ha||h.src;h.fa&&Ma(h),h=v.call(A,y)}return h}function Us(h){return h=h[je],h instanceof he?h:null}var Zo="__closure_events_fn_"+(Math.random()*1e9>>>0);function el(h){return typeof h=="function"?h:(h[Zo]||(h[Zo]=function(y){return h.handleEvent(y)}),h[Zo])}function wt(){k.call(this),this.i=new he(this),this.M=this,this.G=null}T(wt,k),wt.prototype[Te]=!0,wt.prototype.removeEventListener=function(h,y,v,A){ka(this,h,y,v,A)};function Pt(h,y){var v,A=h.G;if(A)for(v=[];A;A=A.G)v.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var q=y;y=new O(A,h),oe(y,q)}q=!0;let Q,se;if(v)for(se=v.length-1;se>=0;se--)Q=y.g=v[se],q=Pr(Q,A,!0,y)&&q;if(Q=y.g=h,q=Pr(Q,A,!0,y)&&q,q=Pr(Q,A,!1,y)&&q,v)for(se=0;se<v.length;se++)Q=y.g=v[se],q=Pr(Q,A,!1,y)&&q}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let A=0;A<v.length;A++)ue(v[A]);delete h.g[y],h.h--}}this.G=null},wt.prototype.J=function(h,y,v,A){return this.i.add(String(h),y,!1,v,A)},wt.prototype.K=function(h,y,v,A){return this.i.add(String(h),y,!0,v,A)};function Pr(h,y,v,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Q=0;Q<y.length;++Q){const se=y[Q];if(se&&!se.da&&se.capture==v){const Ce=se.listener,vt=se.ha||se.src;se.fa&&we(h.i,se),q=Ce.call(vt,A)!==!1&&q}}return q&&!A.defaultPrevented}function $f(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Qu(h){h.g=$f(()=>{h.g=null,h.i&&(h.i=!1,Qu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rn extends k{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(h){k.call(this),this.h=h,this.g={}}T(js,k);var tl=[];function nl(h){Be(h.g,function(y,v){this.g.hasOwnProperty(v)&&Ma(y)},h),h.g={}}js.prototype.N=function(){js.Z.N.call(this),nl(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lr=c.JSON.stringify,Xf=c.JSON.parse,Yu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function $u(){}function Xu(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){O.call(this,"d")}T(Ht,O);function Vn(){O.call(this,"c")}T(Vn,O);var _t={},Wu=null;function Va(){return Wu=Wu||new wt}_t.Ia="serverreachability";function Ju(h){O.call(this,_t.Ia,h)}T(Ju,O);function vi(h){const y=Va();Pt(y,new Ju(y))}_t.STAT_EVENT="statevent";function zs(h,y){O.call(this,_t.STAT_EVENT,h),this.stat=y}T(zs,O);function At(h){const y=Va();Pt(y,new zs(y,h))}_t.Ja="timingevent";function Ei(h,y){O.call(this,_t.Ja,h),this.size=y}T(Ei,O);function Ti(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Wf(h,y,v,A,q,Q){h.info(function(){if(h.g)if(Q){var se="",Ce=Q.split("&");for(let Fe=0;Fe<Ce.length;Fe++){var vt=Ce[Fe].split("=");if(vt.length>1){const ut=vt[0];vt=vt[1];const jn=ut.split("_");se=jn.length>=2&&jn[1]=="type"?se+(ut+"="+vt+"&"):se+(ut+"=redacted&")}}}else se=null;else se=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+v+`
`+se})}function Zu(h,y,v,A,q,Q,se){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+v+`
`+Q+" "+se})}function bi(h,y,v,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Jf(h,v)+(A?" "+A:"")})}function Bs(h,y){h.info(function(){return"TIMEOUT: "+y})}ei.prototype.info=function(){};function Jf(h,y){if(!h.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var v=Q[h];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return Lr(Q)}catch{return y}}var qs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rl;function Hs(){}T(Hs,$u),Hs.prototype.g=function(){return new XMLHttpRequest},rl=new Hs;function er(h){return encodeURIComponent(String(h))}function ec(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function ti(h,y,v,A){this.j=h,this.i=y,this.l=v,this.S=A||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var St={},jt={};function wi(h,y,v){h.M=1,h.A=Fs(Ct(y)),h.u=v,h.R=!0,Pa(h,null)}function Pa(h,y){h.F=Date.now(),Ai(h),h.B=Ct(h.A);var v=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),za(v.i,"t",A),h.C=0,v=h.j.L,h.h=new ni,h.g=pc(h.j,v?y:null,!h.u),h.P>0&&(h.O=new rn(g(h.Y,h,h.g),h.P)),y=h.V,v=h.g,A=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(tl[0]=q.toString()),q=tl);for(let Q=0;Q<q.length;Q++){const se=lt(v,q[Q],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),vi(),Wf(h.i,h.v,h.B,h.l,h.S,h.u)}ti.prototype.ba=function(h){h=h.target;const y=this.O;y&&si(h)==3?y.j():this.Y(h)},ti.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=si(this.g),vt=this.g.ya(),Fe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ce!=4||vt==7||(vt==8||Fe<=0?vi(3):vi(2)),Si(this);var y=this.g.ca();this.X=y;var v=Zf(this);if(this.o=y==200,Zu(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var Q=A;break t}}Q=null}if(h=Q)bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,h);else{this.o=!1,this.m=3,At(12),bn(this),Pn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=nc(this,v),ut==jt){Ce==4&&(this.m=4,At(14),h=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==St){this.m=4,At(15),bi(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else bi(this.i,this.l,ut,null),Ri(this,ut);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)bi(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),Pn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),vl(se),se.P=!0,At(11))}}else bi(this.i,this.l,v,null),Ri(this,v);Ce==4&&bn(this),this.o&&!this.K&&(Ce==4?hc(this.j,this):(this.o=!1,Ai(this)))}else nr(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),bn(this),Pn(this)}}}catch{}};function Zf(h){if(!tc(h))return h.g.la();const y=Ft(h.g);if(y==="")return"";let v="";const A=y.length,q=si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Pn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,v+=h.h.i.decode(y[Q],{stream:!(q&&Q==A-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function tc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function nc(h,y){var v=h.C,A=y.indexOf(`
`,v);return A==-1?jt:(v=Number(y.substring(v,A)),isNaN(v)?St:(A+=1,A+v>y.length?jt:(y=y.slice(A,A+v),h.C=A+v,y)))}ti.prototype.cancel=function(){this.K=!0,bn(this)};function Ai(h){h.T=Date.now()+h.H,La(h,h.H)}function La(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ti(g(h.aa,h),y)}function Si(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ti.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Bs(this.i,this.B),this.M!=2&&(vi(),At(17)),bn(this),this.m=2,Pn(this)):La(this,this.T-h)};function Pn(h){h.j.I==0||h.K||hc(h.j,h)}function bn(h){Si(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,nl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ri(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Ii(v.h,h))){if(!h.L&&Ii(v.h,h)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)Ga(v),Gr(v);else break e;Ws(v),At(18)}}else v.xa=q[1],0<v.xa-v.K&&q[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ti(g(v.Va,v),6e3));Ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((h.L||v.g==h)&&Ga(v),!C(y))for(q=v.Ba.g.parse(y),y=0;y<q.length;y++){let Fe=q[y];const ut=Fe[0];if(!(ut<=v.K))if(v.K=ut,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const jn=Fe[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Vi=Fe[4];Vi!=null&&(v.za=Vi,v.j.info("SVER="+v.za));const ai=Fe[5];ai!=null&&typeof ai=="number"&&ai>0&&(A=1.5*ai,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const oi=h.g;if(oi){const Js=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Js){var Q=A.h;Q.g||Js.indexOf("spdy")==-1&&Js.indexOf("quic")==-1&&Js.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ol(Q,Q.h),Q.h=null))}if(A.G){const Ka=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(A.wa=Ka,Ye(A.J,A.G,Ka))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var se=h;if(A.na=mc(A,A.L?A.ba:null,A.W),se.L){ll(A.h,se);var Ce=se,vt=A.O;vt&&(Ce.H=vt),Ce.D&&(Si(Ce),Ai(Ce)),A.g=se}else uc(A);v.i.length>0&&ki(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Mi(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Mi(v,7):yl(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}vi(4)}catch{}}var Rt=class{constructor(h,y){this.g=h,this.map=y}};function sl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function al(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ci(h){return h.h?1:h.g?h.g.size:0}function Ii(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ol(h,y){h.g?h.g.add(y):h.h=y}function ll(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}sl.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ul(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return x(h.i)}var ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const A=h[v].indexOf("=");let q,Q=null;A>=0?(q=h[v].substring(0,A),Q=h[v].substring(A+1)):q=h[v],y(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof wn?(this.l=h.l,zt(this,h.j),this.o=h.o,this.g=h.g,Ur(this,h.u),this.h=h.h,cl(this,oc(h.i)),this.m=h.m):h&&(y=String(h).match(ic))?(this.l=!1,zt(this,y[1]||"",!0),this.o=xi(y[2]||""),this.g=xi(y[3]||"",!0),Ur(this,y[4]),this.h=xi(y[5]||"",!0),cl(this,y[6]||"",!0),this.m=xi(y[7]||"")):(this.l=!1,this.i=new zr(null,this.l))}wn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Gs(y,ja,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Gs(y,ja,!0),"@"),h.push(er(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Gs(v,v.charAt(0)=="/"?hl:rc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Gs(v,sc)),h.join("")},wn.prototype.resolve=function(h){const y=Ct(this);let v=!!h.j;v?zt(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var A=h.h;if(v)Ur(y,h.u);else if(v=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=y.h.lastIndexOf("/");q!=-1&&(A=y.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let se=0;se<q.length;){const Ce=q[se++];Ce=="."?A&&se==q.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&se==q.length&&Q.push("")):(Q.push(Ce),A=!0)}A=Q.join("/")}else A=q}return v?y.h=A:v=h.i.toString()!=="",v?cl(y,oc(h.i)):v=!!h.m,v&&(y.m=h.m),y};function Ct(h){return new wn(h)}function zt(h,y,v){h.j=v?xi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ur(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function cl(h,y,v){y instanceof zr?(h.i=y,Ba(h.i,h.l)):(v||(y=Gs(y,jr)),h.i=new zr(y,h.l))}function Ye(h,y,v){h.i.set(y,v)}function Fs(h){return Ye(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function xi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Gs(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,un),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function un(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ja=/[#\/\?@]/g,rc=/[#\?:]/g,hl=/[#\?]/g,jr=/[#\?@]/g,sc=/#/g;function zr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function cn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ua(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=zr.prototype,i.add=function(h,y){cn(this),this.i=null,h=Br(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function ac(h,y){cn(h),y=Br(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function fl(h,y){return cn(h),y=Br(h,y),h.g.has(y)}i.forEach=function(h,y){cn(this),this.g.forEach(function(v,A){v.forEach(function(q){h.call(y,q,A,this)},this)},this)};function dl(h,y){cn(h);let v=[];if(typeof y=="string")fl(h,y)&&(v=v.concat(h.g.get(Br(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}i.set=function(h,y){return cn(this),this.i=null,h=Br(this,h),fl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=dl(this,h),h.length>0?String(h[0]):y):y};function za(h,y,v){ac(h,y),v.length>0&&(h.i=null,h.g.set(Br(h,y),x(v)),h.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const q=er(v);v=dl(this,v);for(let Q=0;Q<v.length;Q++){let se=q;v[Q]!==""&&(se+="="+er(v[Q])),h.push(se)}}return this.i=h.join("&")};function oc(h){const y=new zr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Br(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ba(h,y){y&&!h.j&&(cn(h),h.i=null,h.g.forEach(function(v,A){const q=A.toLowerCase();A!=q&&(ac(this,A),za(this,q,v))},h)),h.j=y}function ii(h,y){const v=new ei;if(c.Image){const A=new Image;A.onload=E(Ln,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Ln,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Ln,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Ln,v,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function ml(h,y){const v=new ei,A=new AbortController,q=setTimeout(()=>{A.abort(),Ln(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?Ln(v,"TestPingServer: ok",!0,y):Ln(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Ln(v,"TestPingServer: error",!1,y)})}function Ln(h,y,v,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(v)}catch{}}function qr(){this.g=new Yu}function Ni(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ni,$u),Ni.prototype.g=function(){return new Ks(this.i,this.h)};function Ks(h,y){wt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ks,wt),i=Ks.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ri(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function qa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Hr(this):ri(this),this.readyState==3&&qa(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Hr(this))},i.Na=function(h){this.g&&(this.response=h,Hr(this))},i.ga=function(){this.g&&Hr(this)};function Hr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ri(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Un(h){let y="";return Be(h,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Qs(h,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Un(v),typeof h=="string"?v!=null&&er(v):Ye(h,y,v))}function We(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,wt);var Di=/^https?$/i,pl=["POST","PUT"];i=We.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){Ys(this,Q);return}if(h=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)v.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(pl,y,void 0)>=0)||A||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of v)this.g.setRequestHeader(Q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Ys(this,Q)}};function Ys(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,gl(h),tr(h)}function gl(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pt(this,"complete"),Pt(this,"abort"),tr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),We.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?$s(this):this.Xa())},i.Xa=function(){$s(this)};function $s(h){if(h.h&&typeof u<"u"){if(h.v&&si(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pt(h,"readystatechange"),si(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=Q===0){let se=String(h.D).match(ic)[1]||null;!se&&c.self&&c.self.location&&(se=c.self.location.protocol.slice(0,-1)),A=!Di.test(se?se.toLowerCase():"")}v=A}if(v)Pt(h,"complete"),Pt(h,"success");else{h.o=6;try{var q=si(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",gl(h)}}finally{tr(h)}}}}function tr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Pt(h,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}i.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Xf(y)}};function Ft(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function nr(h){const y={};h=(h.g&&si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(C(h[A]))continue;var v=ec(h[A]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[q]||[];y[q]=Q,Q.push(v)}Qe(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Fr(h){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,h),this.Za=Oi("retryDelaySeedMs",1e4,h),this.Ta=Oi("forwardChannelMaxRetries",2,h),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new sl(h&&h.concurrentRequestLimit),this.Ba=new qr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Fr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,v,A){At(0),this.W=h,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=mc(this,null,this.W),ki(this)};function yl(h){if(Ha(h),h.I==3){var y=h.V++,v=Ct(h.J);if(Ye(v,"SID",h.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),Xs(h,v),y=new ti(h,h.j,y),y.M=2,y.A=Fs(Ct(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=pc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ai(y)}dc(h)}function Gr(h){h.g&&(vl(h),h.g.cancel(),h.g=null)}function Ha(h){Gr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ga(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ki(h){if(!al(h.h)&&!h.m){h.m=!0;var y=h.Ea;me||R(),pe||(me(),pe=!0),N.add(y,h),h.D=0}}function Fa(h,y){return Ci(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ti(g(h.Ea,h,y),fc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ti(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=P(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=lc(this,q,y),v=Ct(this.J),Ye(v,"RID",h),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Xs(this,v),Q&&(this.R?y="headers="+er(Un(Q))+"&"+y:this.u&&Qs(v,this.u,Q)),ol(this.h,q),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),q.U=!0,wi(q,v,null)):wi(q,v,y),this.I=2}}else this.I==3&&(h?_l(this,h):this.i.length==0||al(this.h)||_l(this))};function _l(h,y){var v;y?v=y.l:v=h.V++;const A=Ct(h.J);Ye(A,"SID",h.M),Ye(A,"RID",v),Ye(A,"AID",h.K),Xs(h,A),h.u&&h.o&&Qs(A,h.u,h.o),v=new ti(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=lc(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ol(h.h,v),wi(v,A,y)}function Xs(h,y){h.H&&Be(h.H,function(v,A){Ye(y,A,v)}),h.l&&Be({},function(v,A){Ye(y,A,v)})}function lc(h,y,v){v=Math.min(h.i.length,v);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ce=-1;for(;;){const vt=["count="+v];Ce==-1?v>0?(Ce=q[0].g,vt.push("ofs="+Ce)):Ce=0:vt.push("ofs="+Ce);let Fe=!0;for(let ut=0;ut<v;ut++){var Q=q[ut].g;const jn=q[ut].map;if(Q-=Ce,Q<0)Ce=Math.max(0,q[ut].g-100),Fe=!1;else try{Q="req"+Q+"_"||"";try{var se=jn instanceof Map?jn:Object.entries(jn);for(const[Vi,ai]of se){let oi=ai;m(ai)&&(oi=Lr(ai)),vt.push(Q+Vi+"="+encodeURIComponent(oi))}}catch(Vi){throw vt.push(Q+"type="+encodeURIComponent("_badmap")),Vi}}catch{A&&A(jn)}}if(Fe){se=vt.join("&");break e}}se=void 0}return h=h.i.splice(0,v),y.G=h,se}function uc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;me||R(),pe||(me(),pe=!0),N.add(y,h),h.A=0}}function Ws(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ti(g(h.Da,h),fc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ti(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Gr(this),cc(this))};function vl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function cc(h){h.g=new ti(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ct(h.na);Ye(y,"RID","rpc"),Ye(y,"SID",h.M),Ye(y,"AID",h.K),Ye(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ye(y,"TO",h.ia),Ye(y,"TYPE","xmlhttp"),Xs(h,y),h.u&&h.o&&Qs(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Fs(Ct(y)),v.u=null,v.R=!0,Pa(v,h)}i.Va=function(){this.C!=null&&(this.C=null,Gr(this),Ws(this),At(19))};function Ga(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function hc(h,y){var v=null;if(h.g==y){Ga(h),vl(h),h.g=null;var A=2}else if(Ii(h.h,y))v=y.G,ll(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;A=Va(),Pt(A,new Ei(A,v)),ki(h)}else uc(h);else if(q=y.m,q==3||q==0&&y.X>0||!(A==1&&Fa(h,y)||A==2&&Ws(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),q){case 1:Mi(h,5);break;case 4:Mi(h,10);break;case 3:Mi(h,6);break;default:Mi(h,2)}}}function fc(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Mi(h,y){if(h.j.info("Error code "+y),y==2){var v=g(h.bb,h),A=h.Ua;const q=!A;A=new wn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zt(A,"https"),Fs(A),q?ii(A.toString(),v):ml(A.toString(),v)}else At(2);h.I=0,h.l&&h.l.pa(y),dc(h),Ha(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function dc(h){if(h.I=0,h.ja=[],h.l){const y=ul(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function mc(h,y,v){var A=v instanceof wn?Ct(v):new wn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Ur(A,A.u);else{var q=c.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Q=new wn(null);A&&zt(Q,A),y&&(Q.g=y),q&&Ur(Q,q),v&&(Q.h=v),A=Q}return v=h.G,y=h.wa,v&&y&&Ye(A,v,y),Ye(A,"VER",h.ka),Xs(h,A),A}function pc(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new We(new Ni({ab:v})):new We(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}i=gc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Kr(){}Kr.prototype.g=function(h,y){return new sn(h,y)};function sn(h,y){wt.call(this),this.g=new Fr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!C(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ir(this)}T(sn,wt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){yl(this.g)},sn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=Lr(h),h=v);y.i.push(new Rt(y.Ya++,h)),y.I==3&&ki(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,sn.Z.N.call(this)};function yc(h){Ht.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(yc,Ht);function _c(){Vn.call(this),this.status=1}T(_c,Vn);function ir(h){this.g=h}T(ir,gc),ir.prototype.ra=function(){Pt(this.g,"a")},ir.prototype.qa=function(h){Pt(this.g,new yc(h))},ir.prototype.pa=function(h){Pt(this.g,new _c)},ir.prototype.oa=function(){Pt(this.g,"b")},Kr.prototype.createWebChannel=Kr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,iw=function(){return new Kr},nw=function(){return Va()},tw=_t,xp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,Uh=qs,il.COMPLETE="complete",ew=il,Xu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,lu=Xu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,Z0=We}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});const ST="@firebase/firestore",RT="4.9.3";class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Qo="12.7.0";const ba=new sg("@firebase/firestore");function So(){return ba.logLevel}function ce(i,...e){if(ba.logLevel<=Ve.DEBUG){const n=e.map(pg);ba.debug(`Firestore (${Qo}): ${i}`,...n)}}function Nr(i,...e){if(ba.logLevel<=Ve.ERROR){const n=e.map(pg);ba.error(`Firestore (${Qo}): ${i}`,...n)}}function Mo(i,...e){if(ba.logLevel<=Ve.WARN){const n=e.map(pg);ba.warn(`Firestore (${Qo}): ${i}`,...n)}}function pg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,rw(i,s,n)}function rw(i,e,n){let s=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Nr(s),new Error(s)}function Ke(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||rw(e,o,s)}function Re(i,e){return i}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class sw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class w2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class A2{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new sw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class S2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new S2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class gg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=I2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function Np(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return up(o)===up(u)?Pe(o,u):up(o)?1:-1}return Pe(i.length,e.length)}const x2=55296,N2=57343;function up(i){const e=i.charCodeAt(0);return e>=x2&&e<=N2}function Vo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const IT="__name__";class zi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=zi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=zi.isNumericId(e),o=zi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?zi.extractNumericId(e).compare(zi.extractNumericId(n)):Np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class it extends zi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends zi{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return D2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IT}static keyField(){return new Xt([IT])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}function yg(i,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function O2(i,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function xT(i){if(!ye.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function NT(i){if(ye.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function aw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Sf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function ln(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sf(i);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Mt(i,e){const n={typeString:i};return e&&(n.value=e),n}function zu(i,e){if(!aw(i))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const DT=-62135596800,OT=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*OT);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DT)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OT}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Mt("string",at._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new at(0,0))}static max(){return new Ae(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Au=-1;function k2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new Is(o,ye.empty(),e)}function M2(i){return new Is(i.readTime,i.key,Au)}class Is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Is(Ae.min(),ye.empty(),Au)}static max(){return new Is(Ae.max(),ye.empty(),Au)}}function V2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}const P2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yo(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==P2)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{c[g]=E,++m,m===u&&s(c)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function U2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(i){return i.name==="IndexedDbTransactionError"}class Rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rf.ce=-1;const _g=-1;function Cf(i){return i==null}function ef(i){return i===0&&1/i==-1/0}function j2(i){return typeof i=="number"&&Number.isInteger(i)&&!ef(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ow="";function z2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=kT(e)),e=B2(i.get(n),e);return kT(e)}function B2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ow:n+="";break;default:n+=u}}return n}function kT(i){return i+ow+""}function MT(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Vs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function lw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VT(this.data.getIterator())}getIteratorFrom(e){return new VT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class VT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Ut(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class uw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new uw("Invalid base64 string: "+u):u}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const n=q2.exec(i);if(Ke(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ns(i){return typeof i=="string"?Wt.fromBase64String(i):Wt.fromUint8Array(i)}const cw="server_timestamp",hw="__type__",fw="__previous_value__",dw="__local_write_time__";function vg(i){return(i?.mapValue?.fields||{})[hw]?.stringValue===cw}function If(i){const e=i.mapValue.fields[fw];return vg(e)?If(e):e}function Su(i){const e=xs(i.mapValue.fields[dw].timestampValue);return new at(e.seconds,e.nanos)}class H2{constructor(e,n,s,o,u,c,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const tf="(default)";class Ru{constructor(e,n){this.projectId=e,this.database=n||tf}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===tf}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}const mw="__type__",F2="__max__",Rh={mapValue:{}},pw="__vector__",nf="value";function Ds(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vg(i)?4:K2(i)?9007199254740991:G2(i)?10:11:Ee(28295,{value:i})}function $i(i,e){if(i===e)return!0;const n=Ds(i);if(n!==Ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Su(i).isEqual(Su(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=xs(o.timestampValue),m=xs(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Ns(o.bytesValue).isEqual(Ns(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=bt(o.doubleValue),m=bt(u.doubleValue);return c===m?ef(c)===ef(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return Vo(i.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(MT(c)!==MT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!$i(c[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function Cu(i,e){return(i.values||[]).find((n=>$i(n,e)))!==void 0}function Po(i,e){if(i===e)return 0;const n=Ds(i),s=Ds(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=bt(u.integerValue||u.doubleValue),p=bt(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return PT(i.timestampValue,e.timestampValue);case 4:return PT(Su(i),Su(e));case 5:return Np(i.stringValue,e.stringValue);case 6:return(function(u,c){const m=Ns(u),p=Ns(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pe(m[g],p[g]);if(E!==0)return E}return Pe(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Pe(bt(u.latitude),bt(c.latitude));return m!==0?m:Pe(bt(u.longitude),bt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return LT(i.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[nf]?.arrayValue,E=p[nf]?.arrayValue,T=Pe(g?.values?.length||0,E?.values?.length||0);return T!==0?T:LT(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Rh.mapValue&&c===Rh.mapValue)return 0;if(u===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const S=Np(p[T],E[T]);if(S!==0)return S;const x=Po(m[p[T]],g[E[T]]);if(x!==0)return x}return Pe(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function PT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=xs(i),s=xs(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function LT(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Po(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function Lo(i){return Dp(i)}function Dp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=xs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ns(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Dp(n.fields[c])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function jh(i){switch(Ds(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=If(i);return e?16+jh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ns(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+jh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Vs(s.fields,((u,c)=>{o+=u.length+jh(c)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function UT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Op(i){return!!i&&"integerValue"in i}function Eg(i){return!!i&&"arrayValue"in i}function jT(i){return!!i&&"nullValue"in i}function zT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zh(i){return!!i&&"mapValue"in i}function G2(i){return(i?.mapValue?.fields||{})[mw]?.stringValue===pw}function mu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Vs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=mu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(i.arrayValue.values[n]);return e}return{...i}}function K2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===F2}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=mu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Vs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(mu(this.value))}}function gw(i){const e=[];return Vs(i.fields,((n,s)=>{const o=new Xt([n]);if(zh(s)){const u=gw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new On(e)}class tn{constructor(e,n,s,o,u,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,Ae.min(),Ae.min(),Ae.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Ae.min(),Ae.min(),En.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Ae.min(),Ae.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rf{constructor(e,n){this.position=e,this.inclusive=n}}function BT(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),n.key):s=Po(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function qT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!$i(i.position[n],e.position[n]))return!1;return!0}class Iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Q2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class yw{}class kt extends yw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $2(e,n,s):n==="array-contains"?new J2(e,s):n==="in"?new Z2(e,s):n==="not-in"?new eD(e,s):n==="array-contains-any"?new tD(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new X2(e,s):new W2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&Ds(this.value)===Ds(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends yw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gi(e,n)}matches(e){return _w(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _w(i){return i.op==="and"}function vw(i){return Y2(i)&&_w(i)}function Y2(i){for(const e of i.filters)if(e instanceof gi)return!1;return!0}function kp(i){if(i instanceof kt)return i.field.canonicalString()+i.op.toString()+Lo(i.value);if(vw(i))return i.filters.map((e=>kp(e))).join(",");{const e=i.filters.map((n=>kp(n))).join(",");return`${i.op}(${e})`}}function Ew(i,e){return i instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&$i(s.value,o.value)})(i,e):i instanceof gi?(function(s,o){return o instanceof gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&Ew(c,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function Tw(i){return i instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(i):i instanceof gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Tw).join(" ,")+"}"})(i):"Filter"}class $2 extends kt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class X2 extends kt{constructor(e,n){super(e,"in",n),this.keys=bw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class W2 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=bw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bw(i,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class J2 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Eg(n)&&Cu(n.arrayValue,this.value)}}class Z2 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class eD extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cu(this.value.arrayValue,n)}}class tD extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Cu(this.value.arrayValue,s)))}}class nD{constructor(e,n=null,s=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function HT(i,e=null,n=[],s=[],o=null,u=null,c=null){return new nD(i,e,n,s,o,u,c)}function Tg(i){const e=Re(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>kp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Lo(s))).join(",")),e.Te=n}return e.Te}function bg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Q2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ew(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!qT(i.startAt,e.startAt)&&qT(i.endAt,e.endAt)}function Mp(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Ra{constructor(e,n=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iD(i,e,n,s,o,u,c,m){return new Ra(i,e,n,s,o,u,c,m)}function xf(i){return new Ra(i)}function FT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ww(i){return i.collectionGroup!==null}function pu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ut(Xt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Iu(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Iu(Xt.keyField(),s))}return e.Ie}function Gi(i){const e=Re(i);return e.Ee||(e.Ee=rD(e,pu(i))),e.Ee}function rD(i,e){if(i.limitType==="F")return HT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Iu(o.field,u)}));const n=i.endAt?new rf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new rf(i.startAt.position,i.startAt.inclusive):null;return HT(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Vp(i,e){const n=i.filters.concat([e]);return new Ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Pp(i,e,n){return new Ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Nf(i,e){return bg(Gi(i),Gi(e))&&i.limitType===e.limitType}function Aw(i){return`${Tg(Gi(i))}|lt:${i.limitType}`}function Ro(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Tw(o))).join(", ")}]`),Cf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${s})`})(Gi(i))}; limitType=${i.limitType})`}function Df(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of pu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=BT(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,pu(s),o)||s.endAt&&!(function(c,m,p){const g=BT(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,pu(s),o))})(i,e)}function sD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Sw(i){return(e,n)=>{let s=!1;for(const o of pu(i)){const u=aD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function aD(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Po(p,g):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}class Ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return lw(this.inner)}size(){return this.innerSize}}const oD=new dt(ye.comparator);function Dr(){return oD}const Rw=new dt(ye.comparator);function uu(...i){let e=Rw;for(const n of i)e=e.insert(n.key,n);return e}function Cw(i){let e=Rw;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ga(){return gu()}function Iw(){return gu()}function gu(){return new Ca((i=>i.toString()),((i,e)=>i.isEqual(e)))}const lD=new dt(ye.comparator),uD=new Ut(ye.comparator);function Le(...i){let e=uD;for(const n of i)e=e.add(n);return e}const cD=new Ut(Pe);function hD(){return cD}function wg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function xw(i){return{integerValue:""+i}}function Nw(i,e){return j2(e)?xw(e):wg(i,e)}class Of{constructor(){this._=void 0}}function fD(i,e,n){return i instanceof xu?(function(o,u){const c={fields:{[hw]:{stringValue:cw},[dw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vg(u)&&(u=If(u)),u&&(c.fields[fw]=u),{mapValue:c}})(n,e):i instanceof Uo?Ow(i,e):i instanceof jo?kw(i,e):(function(o,u){const c=Dw(o,u),m=GT(c)+GT(o.Ae);return Op(c)&&Op(o.Ae)?xw(m):wg(o.serializer,m)})(i,e)}function dD(i,e,n){return i instanceof Uo?Ow(i,e):i instanceof jo?kw(i,e):n}function Dw(i,e){return i instanceof Nu?(function(s){return Op(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class xu extends Of{}class Uo extends Of{constructor(e){super(),this.elements=e}}function Ow(i,e){const n=Mw(e);for(const s of i.elements)n.some((o=>$i(o,s)))||n.push(s);return{arrayValue:{values:n}}}class jo extends Of{constructor(e){super(),this.elements=e}}function kw(i,e){let n=Mw(e);for(const s of i.elements)n=n.filter((o=>!$i(o,s)));return{arrayValue:{values:n}}}class Nu extends Of{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GT(i){return bt(i.integerValue||i.doubleValue)}function Mw(i){return Eg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class kf{constructor(e,n){this.field=e,this.transform=n}}function mD(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Uo&&o instanceof Uo||s instanceof jo&&o instanceof jo?Vo(s.elements,o.elements,$i):s instanceof Nu&&o instanceof Nu?$i(s.Ae,o.Ae):s instanceof xu&&o instanceof xu})(i.transform,e.transform)}class pD{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Mf{}function Vw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ag(i.key,Xn.none()):new Bu(i.key,i.data,Xn.none());{const n=i.data,s=En.empty();let o=new Ut(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Ps(i.key,s,new On(o.toArray()),Xn.none())}}function gD(i,e,n){i instanceof Bu?(function(o,u,c){const m=o.value.clone(),p=QT(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ps?(function(o,u,c){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=QT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Pw(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function yu(i,e,n,s){return i instanceof Bu?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=u.value.clone(),E=YT(u.fieldTransforms,p,c);return g.setAll(E),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ps?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=YT(u.fieldTransforms,p,c),E=c.data;return E.setAll(Pw(u)),E.setAll(g),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,c,m){return Bh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,n)}function yD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Dw(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function KT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Vo(s,o,((u,c)=>mD(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Bu extends Mf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ps extends Mf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Pw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function QT(i,e,n){const s=new Map;Ke(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,m=e.data.field(u.field);s.set(u.field,dD(c,m,n[o]))}return s}function YT(i,e,n){const s=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);s.set(o.field,fD(u,c,e))}return s}class Ag extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _D extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&gD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=yu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=yu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Iw();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=Vw(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,((n,s)=>KT(n,s)))&&Vo(this.baseMutations,e.baseMutations,((n,s)=>KT(n,s)))}}class Sg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return lD})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new Sg(e,n,s,o)}}class ED{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,ze;function bD(i){switch(i){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function Lw(i){if(i===void 0)return Nr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Ot.OK:return Z.OK;case Ot.CANCELLED:return Z.CANCELLED;case Ot.UNKNOWN:return Z.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return Z.INTERNAL;case Ot.UNAVAILABLE:return Z.UNAVAILABLE;case Ot.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ot.NOT_FOUND:return Z.NOT_FOUND;case Ot.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ot.ABORTED:return Z.ABORTED;case Ot.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ot.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:i})}}(ze=Ot||(Ot={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function wD(){return new TextEncoder}const AD=new Ss([4294967295,4294967295],0);function $T(i){const e=wD().encode(i),n=new J0;return n.update(e),new Uint8Array(n.digest())}function XT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ss([n,s],0),new Ss([o,u],0)]}class Rg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(s<0)throw new cu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ss.fromNumber(s)));return o.compare(AD)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$T(e),[s,o]=XT(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Rg(u,o,n);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=$T(e),[s,o]=XT(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Vf(Ae.min(),o,new dt(Pe),Dr(),Le())}}class qu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new qu(s,n,Le(),Le(),Le())}}class qh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Uw{constructor(e,n){this.targetId=e,this.Ce=n}}class jw{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class WT{constructor(){this.ve=0,this.Fe=JT(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new qu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=JT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dr(),this.Je=Ch(),this.He=Ch(),this.Ye=new dt(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Mp(u))if(s===0){const c=new ye(u.path);this.et(n,c,tn.newNoDocument(c,Ae.min()))}else Ke(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=Ns(s).toUint8Array()}catch(p){if(p instanceof uw)return Mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Rg(c,o,u)}catch(p){return Mo(p instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Mp(m.target)){const p=new ye(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,tn.newNoDocument(p,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Vf(e,n,this.Ye,this.je,s);return this.je=Dr(),this.Je=Ch(),this.He=Ch(),this.Ye=new dt(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new WT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ch(){return new dt(ye.comparator)}function JT(){return new dt(ye.comparator)}const RD={asc:"ASCENDING",desc:"DESCENDING"},CD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ID={and:"AND",or:"OR"};class xD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lp(i,e){return i.useProto3Json||Cf(e)?e:{value:e}}function sf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ND(i,e){return sf(i,e.toTimestamp())}function Ki(i){return Ke(!!i,49232),Ae.fromTimestamp((function(n){const s=xs(n);return new at(s.seconds,s.nanos)})(i))}function Cg(i,e){return Up(i,e).canonicalString()}function Up(i,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Bw(i){const e=it.fromString(i);return Ke(Kw(e),10190,{key:e.toString()}),e}function jp(i,e){return Cg(i.databaseId,e.path)}function cp(i,e){const n=Bw(e);if(n.get(1)!==i.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(Hw(n))}function qw(i,e){return Cg(i.databaseId,e)}function DD(i){const e=Bw(i);return e.length===4?it.emptyPath():Hw(e)}function zp(i){return new it(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hw(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ZT(i,e,n){return{name:jp(i,e),fields:n.value.mapValue.fields}}function OD(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Wt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Wt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const E=g.code===void 0?Z.UNKNOWN:Lw(g.code);return new le(E,g.message||"")})(c);n=new jw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=cp(i,s.document.name),u=Ki(s.document.updateTime),c=s.document.createTime?Ki(s.document.createTime):Ae.min(),m=new En({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,c,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new qh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=cp(i,s.document),u=s.readTime?Ki(s.readTime):Ae.min(),c=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new qh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=cp(i,s.document),u=s.removedTargetIds||[];n=new qh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new TD(o,u),m=s.targetId;n=new Uw(m,c)}}return n}function kD(i,e){let n;if(e instanceof Bu)n={update:ZT(i,e.key,e.value)};else if(e instanceof Ag)n={delete:jp(i,e.key)};else if(e instanceof Ps)n={update:ZT(i,e.key,e.data),updateMask:qD(e.fieldMask)};else{if(!(e instanceof _D))return Ee(16599,{Vt:e.type});n={verify:jp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Uo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof jo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nu)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ND(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function MD(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?Ki(o.updateTime):Ki(u);return c.isEqual(Ae.min())&&(c=Ki(u)),new pD(c,o.transformResults||[])})(n,e)))):[]}function VD(i,e){return{documents:[qw(i,e.path)]}}function PD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qw(i,o);const u=(function(g){if(g.length!==0)return Gw(gi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((E=>(function(S){return{field:Co(S.field),direction:jD(S.dir)}})(E)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Lp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function LD(i){let e=DD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const S=Fw(T);return S instanceof gi&&vw(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((S=>(function(j){return new Iu(Io(j.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,Cf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,x=T.values||[];return new rf(x,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,x=T.values||[];return new rf(x,S)})(n.endAt)),iD(e,o,c,u,m,"F",p,g)}function UD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Io(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Io(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Io(n.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Io(n.unaryFilter.field);return kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return kt.create(Io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return gi.create(n.compositeFilter.filters.map((s=>Fw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function jD(i){return RD[i]}function zD(i){return CD[i]}function BD(i){return ID[i]}function Co(i){return{fieldPath:i.canonicalString()}}function Io(i){return Xt.fromServerFormat(i.fieldPath)}function Gw(i){return i instanceof kt?(function(n){if(n.op==="=="){if(zT(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NAN"}};if(jT(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zT(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NAN"}};if(jT(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(n.field),op:zD(n.op),value:n.value}}})(i):i instanceof gi?(function(n){const s=n.getFilters().map((o=>Gw(o)));return s.length===1?s[0]:{compositeFilter:{op:BD(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function qD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Kw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Ts{constructor(e,n,s,o,u=Ae.min(),c=Ae.min(),m=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HD{constructor(e){this.yt=e}}function FD(i){const e=LD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Pp(e,e.limit,"L"):e}class GD{constructor(){this.Cn=new KD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Is.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class KD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(it.comparator)).toArray()}}const eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qw=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Qw,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}const tb="LruGarbageCollector",QD=1048576;function nb([i,e],[n,s]){const o=Pe(i,n);return o===0?Pe(e,s):o}class YD{constructor(e){this.Ir=e,this.buffer=new Ut(nb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $D{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(tb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?ce(tb,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Vr(3e5)}))}}class XD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Rf.ce);const s=new YD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(eb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,c,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),So()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-E}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function WD(i,e){return new XD(i,e)}class JD{constructor(){this.changes=new Ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class eO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&yu(s.mutation,o,On.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=ga();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let c=uu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=ga();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,s,o){let u=Dr();const c=gu(),m=(function(){return gu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ps)?u=u.insert(g.key,g):E!==void 0?(c.set(g.key,E.mutation.getFieldMask()),yu(E.mutation,g,E.mutation.getFieldMask(),at.now())):c.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>c.set(g,E))),n.forEach(((g,E)=>m.set(g,new ZD(E,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=gu();let o=new dt(((c,m)=>c-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||On.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=Iw();E.forEach((S=>{if(!u.has(S)){const x=Vw(n.get(S),s.get(S));x!==null&&T.set(S,x),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ww(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(ga());let m=Au,p=u;return c.next((g=>ie.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Le()))).next((E=>({batchId:m,changes:Cw(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=uu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let c=uu();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,S){return new Ra(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const E=g.getKey();c.get(E)===null&&(c=c.insert(E,tn.newInvalidDocument(E)))}));let m=uu();return c.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&yu(E.mutation,g,On.empty(),at.now()),Df(n,g)&&(m=m.insert(p,g))})),m}))}}class tO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ki(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:FD(o.bundledQuery),readTime:Ki(o.readTime)}})(n)),ie.resolve()}}class nO{constructor(){this.overlays=new dt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ga();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=ga(),u=n.length+1,c=new ye(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt(((g,E)=>g-E));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ga(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ga(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new ED(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class iO{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Ig{constructor(){this.Qr=new Ut(qt.$r),this.Ur=new Ut(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new it([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new it([])),s=new qt(n,e),o=new qt(n,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class rO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(qt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vD(u,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?_g:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Pe);return n.forEach((o=>{const u=new qt(o,0),c=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const c=new qt(new ye(u),0);let m=new Ut(Pe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sO{constructor(e){this.ri=e,this.docs=(function(){return new dt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=Dr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Dr();const c=n.path,m=new ye(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||V2(M2(E),s)<=0||(o.has(E.key)||Df(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new aO(this)}getSize(e){return ie.resolve(this.size)}}class aO extends JD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class oO{constructor(e){this.persistence=e,this.si=new Ca((n=>Tg(n)),bg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Ig,this.targetCount=0,this.ai=zo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class Yw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Rf(0),this.li=!1,this.li=!0,this.hi=new iO,this.referenceDelegate=e(this),this.Pi=new oO(this),this.indexManager=new GD,this.remoteDocumentCache=(function(o){return new sO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new HD(n),this.Ii=new tO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new rO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new lO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class lO extends L2{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Ri=new Ig,this.Vi=null}static mi(e){return new xg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class af{constructor(e,n){this.persistence=e,this.pi=new Ca((s=>z2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=WD(this,n)}static mi(e,n){return new af(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(s++,u.removeEntry(c,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ng{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ng(e,n.fromCache,s,o)}}class uO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BC()?8:U2(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new uO;return this.Ss(e,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(So()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(So()<=Ve.DEBUG&&ce("QueryEngine","Query:",Ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(So()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(n))):ie.resolve())}ys(e,n){if(FT(n))return ie.resolve(null);let s=Gi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Pp(n,null,"F"),s=Gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=Le(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(e,Pp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return FT(n)||o.isEqual(Ae.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?ie.resolve(null):(So()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(n)),this.vs(e,c,n,k2(o,Au)).next((m=>m)))}))}Ds(e,n){let s=new Ut(Sw(e));return n.forEach(((o,u)=>{Df(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return So()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.ps.getDocumentsMatchingQuery(e,n,Is.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Dg="LocalStore",hO=3e8;class fO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(Pe),this.xs=new Ca((u=>Tg(u)),bg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function dO(i,e,n,s){return new fO(i,e,n,s)}async function $w(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=Le();for(const g of o){c.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function mO(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,S=T.keys();let x=ie.resolve();return S.forEach((j=>{x=x.next((()=>E.getEntry(p,j))).next((z=>{const U=g.docVersions.get(j);Ke(U!==null,48541),z.version.compareTo(U)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Xw(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function pO(i,e){const n=Re(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const S=o.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let x=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(Wt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(T,x),(function(z,U,$){return z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=hO?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(S,x,E)&&m.push(n.Pi.updateTargetData(u,x))}));let p=Dr(),g=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(gO(u,c,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function gO(i,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=Dr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):ce(Dg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function yO(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_g),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function _O(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new Ts(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Bp(i,e,n){const s=Re(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!$o(c))throw c;ce(Dg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ib(i,e,n){const s=Re(i);let o=Ae.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,E){const T=Re(p),S=T.xs.get(E);return S!==void 0?ie.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,E)})(s,c,Gi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:Ae.min(),n?u:Le()))).next((m=>(vO(s,sD(e),m),{documents:m,Qs:u})))))}function vO(i,e,n){let s=i.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class rb{constructor(){this.activeTargetIds=hD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EO{constructor(){this.Mo=new rb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TO{Oo(e){}shutdown(){}}const sb="ConnectivityMonitor";class ab{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(sb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(sb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ih=null;function qp(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}const hp="RestConnection",bO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===tf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const c=qp(),m=this.zo(e,n.toUriEncodedString());ce(hp,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Ji(g);return this.Jo(e,m,p,s,E).then((T=>(ce(hp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Mo(hp,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,c){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=bO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class AO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class SO extends wO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const c=qp();return new Promise(((m,p)=>{const g=new Z0;g.setWithCredentials(!0),g.listenOnce(ew.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const T=g.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case Uh.TIMEOUT:ce(Zt,`RPC '${e}' ${c} timed out`),p(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const S=g.getStatus();if(ce(Zt,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const j=x?.error;if(j&&j.status&&j.message){const z=(function($){const X=$.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(X)>=0?X:Z.UNKNOWN})(j.status);p(new le(z,j.message))}else p(new le(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Zt,`RPC '${e}' ${c} completed.`)}}));const E=JSON.stringify(o);ce(Zt,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=qp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=iw(),m=nw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=c.createWebChannel(E,p);this.I_(T);let S=!1,x=!1;const j=new AO({Yo:U=>{x?ce(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(S||(ce(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ce(Zt,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),z=(U,$,X)=>{U.listen($,(ee=>{try{X(ee)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return z(T,lu.EventType.OPEN,(()=>{x||(ce(Zt,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),z(T,lu.EventType.CLOSE,(()=>{x||(x=!0,ce(Zt,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(T))})),z(T,lu.EventType.ERROR,(U=>{x||(x=!0,Mo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),j.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),z(T,lu.EventType.MESSAGE,(U=>{if(!x){const $=U.data[0];Ke(!!$,16349);const X=$,ee=X?.error||X[0]?.error;if(ee){ce(Zt,`RPC '${e}' stream ${o} received error:`,ee);const ae=ee.status;let me=(function(R){const I=Ot[R];if(I!==void 0)return Lw(I)})(ae),pe=ee.message;me===void 0&&(me=Z.INTERNAL,pe="Unknown error status: "+ae+" with message "+ee.message),x=!0,j.a_(new le(me,pe)),T.close()}else ce(Zt,`RPC '${e}' stream ${o} received:`,$),j.u_($)}})),z(m,tw.STAT_EVENT,(U=>{U.stat===xp.PROXY?ce(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===xp.NOPROXY&&ce(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function fp(){return typeof document<"u"?document:null}function Pf(i){return new xD(i,!0)}class Ww{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ob="PersistentStream";class Jw{constructor(e,n,s,o,u,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ww(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(ob,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(ob,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RO extends Jw{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=OD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Ki(c.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=zp(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=Mp(p)?{documents:VD(u,p)}:{query:PD(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=zw(u,c.resumeToken);const g=Lp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ae.min())>0){m.readTime=sf(u,c.snapshotVersion.toTimestamp());const g=Lp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=UD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=zp(this.serializer),n.removeTarget=e,this.q_(n)}}class CO extends Jw{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=MD(e.writeResults,e.commitTime),s=Ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=zp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>kD(this.serializer,s)))};this.q_(n)}}class IO{}class xO extends IO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Up(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,Up(n,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(Z.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wa="RemoteStore";class DO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ia(this)&&(ce(wa,"Restarting streams for network reachability change."),await(async function(p){const g=Re(p);g.Ea.add(4),await Hu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Lf(g)})(this))}))})),this.Ra=new NO(s,o)}}async function Lf(i){if(Ia(i))for(const e of i.da)await e(!0)}async function Hu(i){for(const e of i.da)await e(!1)}function Zw(i,e){const n=Re(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vg(n)?Mg(n):Xo(n).O_()&&kg(n,e))}function Og(i,e){const n=Re(i),s=Xo(n);n.Ia.delete(e),s.O_()&&eA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ia(n)&&n.Ra.set("Unknown"))}function kg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(i).Y_(e)}function eA(i,e){i.Va.Ue(e),Xo(i).Z_(e)}function Mg(i){i.Va=new SD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Xo(i).start(),i.Ra.ua()}function Vg(i){return Ia(i)&&!Xo(i).x_()&&i.Ia.size>0}function Ia(i){return Re(i).Ea.size===0}function tA(i){i.Va=void 0}async function OO(i){i.Ra.set("Online")}async function kO(i){i.Ia.forEach(((e,n)=>{kg(i,e)}))}async function MO(i,e){tA(i),Vg(i)?(i.Ra.ha(e),Mg(i)):i.Ra.set("Unknown")}async function VO(i,e,n){if(i.Ra.set("Online"),e instanceof jw&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ce(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await of(i,s)}else if(e instanceof qh?i.Va.Ze(e):e instanceof Uw?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Xw(i.localStore);n.compareTo(s)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),eA(u,p);const T=new Ts(E.target,p,g,E.sequenceNumber);kg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ce(wa,"Failed to raise snapshot:",s),await of(i,s)}}async function of(i,e,n){if(!$o(e))throw e;i.Ea.add(1),await Hu(i),i.Ra.set("Offline"),n||(n=()=>Xw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(wa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Lf(i)}))}function nA(i,e){return e().catch((n=>of(i,n,e)))}async function Uf(i){const e=Re(i),n=Os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_g;for(;PO(e);)try{const o=await yO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,LO(e,o)}catch(o){await of(e,o)}iA(e)&&rA(e)}function PO(i){return Ia(i)&&i.Ta.length<10}function LO(i,e){i.Ta.push(e);const n=Os(i);n.O_()&&n.X_&&n.ea(e.mutations)}function iA(i){return Ia(i)&&!Os(i).x_()&&i.Ta.length>0}function rA(i){Os(i).start()}async function UO(i){Os(i).ra()}async function jO(i){const e=Os(i);for(const n of i.Ta)e.ea(n.mutations)}async function zO(i,e,n){const s=i.Ta.shift(),o=Sg.from(s,e,n);await nA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Uf(i)}async function BO(i,e){e&&Os(i).X_&&await(async function(s,o){if((function(c){return bD(c)&&c!==Z.ABORTED})(o.code)){const u=s.Ta.shift();Os(s).B_(),await nA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Uf(s)}})(i,e),iA(i)&&rA(i)}async function lb(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),ce(wa,"RemoteStore received new credentials");const s=Ia(n);n.Ea.add(3),await Hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lf(n)}async function qO(i,e){const n=Re(i);e?(n.Ea.delete(2),await Lf(n)):e||(n.Ea.add(2),await Hu(n),n.Ra.set("Unknown"))}function Xo(i){return i.ma||(i.ma=(function(n,s,o){const u=Re(n);return u.sa(),new RO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:OO.bind(null,i),t_:kO.bind(null,i),r_:MO.bind(null,i),H_:VO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Vg(i)?Mg(i):i.Ra.set("Unknown")):(await i.ma.stop(),tA(i))}))),i.ma}function Os(i){return i.fa||(i.fa=(function(n,s,o){const u=Re(n);return u.sa(),new CO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:UO.bind(null,i),r_:BO.bind(null,i),ta:jO.bind(null,i),na:zO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Uf(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(wa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Pg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,m=new Pg(e,n,c,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(i,e){if(Nr("AsyncQueue",`${e}: ${i}`),$o(i))return new le(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=uu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class ub{constructor(){this.ga=new dt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Bo{constructor(e,n,s,o,u,c,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Bo(e,n,ko.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class HO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FO{constructor(){this.queries=cb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=cb(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function cb(){return new Ca((i=>Aw(i)),Nf)}async function Ug(i,e){const n=Re(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new HO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=Lg(c,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&zg(n)}async function jg(i,e){const n=Re(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function GO(i,e){const n=Re(i);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&zg(n)}function KO(i,e,n){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function zg(i){i.Ca.forEach((e=>{e.next()}))}var Hp,hb;(hb=Hp||(Hp={})).Ma="default",hb.Cache="cache";class Bg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hp.Cache}}class sA{constructor(e){this.key=e}}class aA{constructor(e){this.key=e}}class QO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=Sw(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ub,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const S=o.get(E),x=Df(this.query,T)?T:null,j=!!S&&this.mutatedKeys.has(S.key),z=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let U=!1;S&&x?S.data.isEqual(x.data)?j!==z&&(s.track({type:3,doc:x}),U=!0):this.su(S,x)||(s.track({type:2,doc:x}),U=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(m=!0)):!S&&x?(s.track({type:0,doc:x}),U=!0):S&&!x&&(s.track({type:1,doc:S}),U=!0,(p||g)&&(m=!0)),U&&(x?(c=c.add(x),u=z?u.add(E):u.delete(E)):(c=c.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:c,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((E,T)=>(function(x,j){const z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:U})}};return z(x)-z(j)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Bo(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ub,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new aA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new sA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qg="SyncEngine";class YO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $O{constructor(e){this.key=e,this.hu=!1}}class XO{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ca((m=>Aw(m)),Nf),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ye.comparator),this.Au=new Map,this.Ru=new Ig,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WO(i,e,n=!0){const s=fA(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await oA(s,e,n,!0),o}async function JO(i,e){const n=fA(i);await oA(n,e,!0,!1)}async function oA(i,e,n,s){const o=await _O(i.localStore,Gi(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ZO(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&Zw(i.remoteStore,o),m}async function ZO(i,e,n,s,o){i.pu=(T,S,x)=>(async function(z,U,$,X){let ee=U.view.ru($);ee.Cs&&(ee=await ib(z.localStore,U.query,!1).then((({documents:N})=>U.view.ru(N,ee))));const ae=X&&X.targetChanges.get(U.targetId),me=X&&X.targetMismatches.get(U.targetId)!=null,pe=U.view.applyChanges(ee,z.isPrimaryClient,ae,me);return db(z,U.targetId,pe.au),pe.snapshot})(i,T,S,x);const u=await ib(i.localStore,e,!0),c=new QO(e,u.Qs),m=c.ru(u.documents),p=qu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);db(i,n,g.au);const E=new YO(e,n,c);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function ek(i,e,n){const s=Re(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Nf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Og(s.remoteStore,o.targetId),Fp(s,o.targetId)})).catch(Yo)):(Fp(s,o.targetId),await Bp(s.localStore,o.targetId,!0))}async function tk(i,e){const n=Re(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Og(n.remoteStore,s.targetId))}async function nk(i,e,n){const s=uk(i);try{const o=await(function(c,m){const p=Re(c),g=at.now(),E=m.reduce(((x,j)=>x.add(j.key)),Le());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let j=Dr(),z=Le();return p.Ns.getEntries(x,E).next((U=>{j=U,j.forEach((($,X)=>{X.isValidDocument()||(z=z.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,j))).next((U=>{T=U;const $=[];for(const X of m){const ee=yD(X,T.get(X.key).overlayedDocument);ee!=null&&$.push(new Ps(X.key,ee,gw(ee.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,$,m)})).next((U=>{S=U;const $=U.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(x,U.batchId,$)}))})).then((()=>({batchId:S.batchId,changes:Cw(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new dt(Pe)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Fu(s,o.changes),await Uf(s.remoteStore)}catch(o){const u=Lg(o,"Failed to persist write");n.reject(u)}}async function lA(i,e){const n=Re(i);try{const s=await pO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ke(c.hu,14607):o.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))})),await Fu(n,s,e)}catch(s){await Yo(s)}}function fb(i,e,n){const s=Re(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Re(c);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const S of T.Sa)S.va(m)&&(g=!0)})),g&&zg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ik(i,e,n){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new dt(ye.comparator);c=c.insert(u,tn.newNoDocument(u,Ae.min()));const m=Le().add(u),p=new Vf(Ae.min(),new Map,new dt(Pe),c,m);await lA(s,p),s.du=s.du.remove(u),s.Au.delete(e),Hg(s)}else await Bp(s.localStore,e,!1).then((()=>Fp(s,e,n))).catch(Yo)}async function rk(i,e){const n=Re(i),s=e.batch.batchId;try{const o=await mO(n.localStore,e);cA(n,s,null),uA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Fu(n,o)}catch(o){await Yo(o)}}async function sk(i,e,n){const s=Re(i);try{const o=await(function(c,m){const p=Re(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ke(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);cA(s,e,n),uA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Fu(s,o)}catch(o){await Yo(o)}}function uA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function cA(i,e,n){const s=Re(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Fp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||hA(i,s)}))}function hA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Og(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Hg(i))}function db(i,e,n){for(const s of n)s instanceof sA?(i.Ru.addReference(s.key,e),ak(i,s)):s instanceof aA?(ce(qg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||hA(i,s.key)):Ee(19791,{wu:s})}function ak(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ce(qg,"New document in limbo: "+n),i.Eu.add(s),Hg(i))}function Hg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(it.fromString(e)),s=i.fu.next();i.Au.set(s,new $O(n)),i.du=i.du.insert(n,s),Zw(i.remoteStore,new Ts(Gi(xf(n.path)),s,"TargetPurposeLimboResolution",Rf.ce))}}async function Fu(i,e,n){const s=Re(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Ng.As(p.targetId,g);u.push(E)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(S=>ie.forEach(S.Es,(x=>E.persistence.referenceDelegate.addReference(T,S.targetId,x))).next((()=>ie.forEach(S.ds,(x=>E.persistence.referenceDelegate.removeReference(T,S.targetId,x)))))))))}catch(T){if(!$o(T))throw T;ce(Dg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const x=E.Ms.get(S),j=x.snapshotVersion,z=x.withLastLimboFreeSnapshotVersion(j);E.Ms=E.Ms.insert(S,z)}}})(s.localStore,u))}async function ok(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){ce(qg,"User change. New user:",e.toKey());const s=await $w(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(Z.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fu(n,s.Ls)}}function lk(i,e){const n=Re(i),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function fA(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ik.bind(null,e),e.Pu.H_=GO.bind(null,e.eventManager),e.Pu.yu=KO.bind(null,e.eventManager),e}function uk(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sk.bind(null,e),e}class lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dO(this.persistence,new cO,e.initialUser,this.serializer)}Cu(e){return new Yw(xg.mi,this.serializer)}Du(e){return new EO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lf.provider={build:()=>new lf};class ck extends lf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof af,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $D(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Yw((s=>af.mi(s,n)),this.serializer)}}class Gp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,this.syncEngine),await qO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FO})()}createDatastore(e){const n=Pf(e.databaseInfo.databaseId),s=(function(u){return new SO(u)})(e.databaseInfo);return(function(u,c,m,p){return new xO(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,c,m){return new DO(s,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>fb(this.syncEngine,n,0)),(function(){return ab.v()?new ab:new TO})())}createSyncEngine(e,n){return(function(o,u,c,m,p,g,E){const T=new XO(o,u,c,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ce(wa,"RemoteStore shutting down."),s.Ea.add(5),await Hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gp.provider={build:()=>new Gp};class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ks="FirestoreClient";class hk{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ce(ks,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ce(ks,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Lg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function dp(i,e){i.asyncQueue.verifyOperationInProgress(),ce(ks,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await $w(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function mb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await fk(i);ce(ks,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>lb(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>lb(e.remoteStore,o))),i._onlineComponents=e}async function fk(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(ks,"Using user provided OfflineComponentProvider");try{await dp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await dp(i,new lf)}}else ce(ks,"Using default OfflineComponentProvider"),await dp(i,new ck(void 0));return i._offlineComponents}async function dA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(ks,"Using user provided OnlineComponentProvider"),await mb(i,i._uninitializedComponentsProvider._online)):(ce(ks,"Using default OnlineComponentProvider"),await mb(i,new Gp))),i._onlineComponents}function dk(i){return dA(i).then((e=>e.syncEngine))}async function uf(i){const e=await dA(i),n=e.eventManager;return n.onListen=WO.bind(null,e.syncEngine),n.onUnlisten=ek.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tk.bind(null,e.syncEngine),n}function mk(i,e,n={}){const s=new wr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const E=new Fg({next:S=>{E.Nu(),c.enqueueAndForget((()=>jg(u,T)));const x=S.docs.has(m);!x&&S.fromCache?g.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&p&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Bg(xf(m.path),E,{includeMetadataChanges:!0,qa:!0});return Ug(u,T)})(await uf(i),i.asyncQueue,e,n,s))),s.promise}function pk(i,e,n={}){const s=new wr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const E=new Fg({next:S=>{E.Nu(),c.enqueueAndForget((()=>jg(u,T))),S.fromCache&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new Bg(m,E,{includeMetadataChanges:!0,qa:!0});return Ug(u,T)})(await uf(i),i.asyncQueue,e,n,s))),s.promise}function mA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const pb=new Map;const pA="firestore.googleapis.com",gb=!0;class yb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pA,this.ssl=gb}else this.host=e.host,this.ssl=e.ssl??gb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QD)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gu{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new b2;switch(s.type){case"firstParty":return new R2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=pb.get(n);s&&(ce("ComponentProvider","Removing Datastore"),pb.delete(n),s.terminate())})(this),Promise.resolve()}}function gk(i,e,n,s={}){i=ln(i,Gu);const o=Ji(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(vf(`https://${m}`),Ef("Firestore",!0)),u.host!==pA&&u.host!==m&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Rr(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=en.MOCK_USER;else{g=h0(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(T)}i._authCredentials=new w2(new sw(g,E))}}class Vr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vr(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(zu(n,yt._jsonSchema))return new yt(e,s||null,new ye(it.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Mt("string",yt._jsonSchemaVersion),referencePath:Mt("string")};class Rs extends Vr{constructor(e,n,s){super(e,n,xf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ye(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function mp(i,e,...n){if(i=tt(i),yg("collection","path",e),i instanceof Gu){const s=it.fromString(e,...n);return NT(s),new Rs(i,null,s)}{if(!(i instanceof yt||i instanceof Rs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return NT(s),new Rs(i.firestore,null,s)}}function e4(i,e){if(i=ln(i,Gu),yg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vr(i,null,(function(s){return new Ra(it.emptyPath(),s)})(e))}function di(i,e,...n){if(i=tt(i),arguments.length===1&&(e=gg.newId()),yg("doc","path",e),i instanceof Gu){const s=it.fromString(e,...n);return xT(s),new yt(i,null,new ye(s))}{if(!(i instanceof yt||i instanceof Rs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return xT(s),new yt(i.firestore,i instanceof Rs?i.converter:null,new ye(s))}}const _b="AsyncQueue";class vb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ww(this,"async_queue_retry"),this._c=()=>{const s=fp();s&&ce(_b,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;ce(_b,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Nr("INTERNAL UNHANDLED ERROR: ",Eb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Pg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Eb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Eb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function Tb(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Or extends Gu{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new vb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vb(e),this._firestoreClient=void 0,await e}}}function yk(i,e){const n=typeof i=="object"?i:Tf(),s=typeof i=="string"?i:tf,o=Vu(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=rg("firestore");u&&gk(o,...u)}return o}function jf(i){if(i._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||_k(i),i._firestoreClient}function _k(i){const e=i._freezeSettings(),n=(function(o,u,c,m){return new H2(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,mA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new hk(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Wt.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Mt("string",Yn._jsonSchemaVersion),bytes:Mt("string")};class zf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xa{constructor(e){this._methodName=e}}class Qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(zu(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Mt("string",Qi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class Yi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Yi(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Mt("string",Yi._jsonSchemaVersion),vectorValues:Mt("object")};const vk=/^__.*__$/;class Ek{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class gA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Bf{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yA(this.Ac)&&vk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Tk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Pf(e)}Cc(e,n,s,o=!1){return new Bf({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qf(i){const e=i._freezeSettings(),n=Pf(i._databaseId);return new Tk(i._databaseId,!!e.ignoreUndefinedProperties,n)}function _A(i,e,n,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);$g("Data must be an object, but it was:",c,s);const m=EA(s,c);let p,g;if(u.merge)p=new On(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=Kp(e,T,n);if(!c.contains(S))throw new le(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);bA(E,S)||E.push(S)}p=new On(E),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new Ek(new En(m),p,g)}class Hf extends xa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hf}}function vA(i,e,n){return new Bf({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Gg extends xa{_toFieldTransform(e){return new kf(e.path,new xu)}isEqual(e){return e instanceof Gg}}class Kg extends xa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=vA(this,e,!0),s=this.vc.map((u=>Na(u,n))),o=new Uo(s);return new kf(e.path,o)}isEqual(e){return e instanceof Kg&&Rr(this.vc,e.vc)}}class Qg extends xa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=vA(this,e,!0),s=this.vc.map((u=>Na(u,n))),o=new jo(s);return new kf(e.path,o)}isEqual(e){return e instanceof Qg&&Rr(this.vc,e.vc)}}class Yg extends xa{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Nu(e.serializer,Nw(e.serializer,this.Fc));return new kf(e.path,n)}isEqual(e){return e instanceof Yg&&this.Fc===e.Fc}}function bk(i,e,n,s){const o=i.Cc(1,e,n);$g("Data must be an object, but it was:",o,s);const u=[],c=En.empty();Vs(s,((p,g)=>{const E=Xg(e,p,n);g=tt(g);const T=o.yc(E);if(g instanceof Hf)u.push(E);else{const S=Na(g,T);S!=null&&(u.push(E),c.set(E,S))}}));const m=new On(u);return new gA(c,m,o.fieldTransforms)}function wk(i,e,n,s,o,u){const c=i.Cc(1,e,n),m=[Kp(e,s,n)],p=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Kp(e,u[S])),p.push(u[S+1]);const g=[],E=En.empty();for(let S=m.length-1;S>=0;--S)if(!bA(g,m[S])){const x=m[S];let j=p[S];j=tt(j);const z=c.yc(x);if(j instanceof Hf)g.push(x);else{const U=Na(j,z);U!=null&&(g.push(x),E.set(x,U))}}const T=new On(g);return new gA(E,T,c.fieldTransforms)}function Ak(i,e,n,s=!1){return Na(n,i.Cc(s?4:3,e))}function Na(i,e){if(TA(i=tt(i)))return $g("Unsupported field value:",e,i),EA(i,e);if(i instanceof xa)return(function(s,o){if(!yA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=Na(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=tt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Nw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:sf(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sf(o.serializer,u)}}if(s instanceof Qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:zw(o.serializer,s._byteString)};if(s instanceof yt){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yi)return(function(c,m){return{mapValue:{fields:{[mw]:{stringValue:pw},[nf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return wg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Sf(s)}`)})(i,e)}function EA(i,e){const n={};return lw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(i,((s,o)=>{const u=Na(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function TA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Qi||i instanceof Yn||i instanceof yt||i instanceof xa||i instanceof Yi)}function $g(i,e,n){if(!TA(n)||!aw(n)){const s=Sf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Kp(i,e,n){if((e=tt(e))instanceof zf)return e._internalPath;if(typeof e=="string")return Xg(i,e);throw cf("Field path arguments must be of type string or ",i,!1,void 0,n)}const Sk=new RegExp("[~\\*/\\[\\]]");function Xg(i,e,n){if(e.search(Sk)>=0)throw cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new zf(...e.split("."))._internalPath}catch{throw cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function cf(i,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new le(Z.INVALID_ARGUMENT,m+i+p)}function bA(i,e){return i.some((n=>n.isEqual(e)))}class wA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ff("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Rk extends wA{data(){return super.data()}}function Ff(i,e){return typeof e=="string"?Xg(i,e):e instanceof zf?e._internalPath:e._delegate._internalPath}function AA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wg{}class SA extends Wg{}function Ck(i,e,...n){let s=[];e instanceof Wg&&s.push(e),s=s.concat(n),(function(u){const c=u.filter((p=>p instanceof Jg)).length,m=u.filter((p=>p instanceof Gf)).length;if(c>1||c>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Gf extends SA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Gf(e,n,s)}_apply(e){const n=this._parse(e);return RA(e._query,n),new Vr(e.firestore,e.converter,Vp(e._query,n))}_parse(e){const n=qf(e.firestore);return(function(u,c,m,p,g,E,T){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){wb(T,E);const j=[];for(const z of T)j.push(bb(p,u,z));S={arrayValue:{values:j}}}else S=bb(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||wb(T,E),S=Ak(m,c,T,E==="in"||E==="not-in");return kt.create(g,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function t4(i,e,n){const s=e,o=Ff("where",i);return Gf._create(o,s,n)}class Jg extends Wg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)RA(c,p),c=Vp(c,p)})(e._query,n),new Vr(e.firestore,e.converter,Vp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends SA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zg(e,n)}_apply(e){const n=(function(o,u,c){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(u,c)})(e._query,this._field,this._direction);return new Vr(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Ra(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Ik(i,e="asc"){const n=e,s=Ff("orderBy",i);return Zg._create(s,n)}function bb(i,e,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ww(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return UT(i,new ye(s))}if(n instanceof yt)return UT(i,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(n)}.`)}function wb(i,e){if(!Array.isArray(i)||i.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RA(i,e){const n=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xk{convertValue(e,n="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Vs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[nf].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new Yi(n)}convertGeoPoint(e){return new Qi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=If(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=xs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ke(Kw(s),9688,{name:e});const o=new Ru(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function CA(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends wA{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ff("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:Mt("string",ya._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Hh extends ya{data(e={}){return super.data(e)}}class _a{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new hu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Hh(this._firestore,this._userDataWriter,s.key,s,new hu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new hu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new hu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),E=c.indexOf(m.doc.key)),{type:Nk(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Nk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}function Ab(i){i=ln(i,yt);const e=ln(i.firestore,Or);return mk(jf(e),i._key).then((n=>IA(e,i,n)))}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:Mt("string",_a._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class ey extends xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function n4(i){i=ln(i,Vr);const e=ln(i.firestore,Or),n=jf(e),s=new ey(e);return AA(i._query),pk(n,i._query).then((o=>new _a(e,s,i,o)))}function Sb(i,e,n){i=ln(i,yt);const s=ln(i.firestore,Or),o=CA(i.converter,e,n);return Kf(s,[_A(qf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Xn.none())])}function bs(i,e,n,...s){i=ln(i,yt);const o=ln(i.firestore,Or),u=qf(o);let c;return c=typeof(e=tt(e))=="string"||e instanceof zf?wk(u,"updateDoc",i._key,e,n,s):bk(u,"updateDoc",i._key,e),Kf(o,[c.toMutation(i._key,Xn.exists(!0))])}function Dk(i){return Kf(ln(i.firestore,Or),[new Ag(i._key,Xn.none())])}function Rb(i,e){const n=ln(i.firestore,Or),s=di(i),o=CA(i.converter,e);return Kf(n,[_A(qf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then((()=>s))}function Ok(i,...e){i=tt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Tb(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Tb(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,c,m;if(i instanceof yt)c=ln(i.firestore,Or),m=xf(i._key.path),u={next:p=>{e[s]&&e[s](IA(c,i,p))},error:e[s+1],complete:e[s+2]};else{const p=ln(i,Vr);c=ln(p.firestore,Or),m=p._query;const g=new ey(c);u={next:E=>{e[s]&&e[s](new _a(c,g,p,E))},error:e[s+1],complete:e[s+2]},AA(i._query)}return(function(g,E,T,S){const x=new Fg(S),j=new Bg(E,x,T);return g.asyncQueue.enqueueAndForget((async()=>Ug(await uf(g),j))),()=>{x.Nu(),g.asyncQueue.enqueueAndForget((async()=>jg(await uf(g),j)))}})(jf(c),m,o,u)}function Kf(i,e){return(function(s,o){const u=new wr;return s.asyncQueue.enqueueAndForget((async()=>nk(await dk(s),o,u))),u.promise})(jf(i),e)}function IA(i,e,n){const s=n.docs.get(e._key),o=new ey(i);return new ya(i,o,e._key,s,new hu(n.hasPendingWrites,n.fromCache),e.converter)}function wo(){return new Gg("serverTimestamp")}function kk(...i){return new Kg("arrayUnion",i)}function Mk(...i){return new Qg("arrayRemove",i)}function Cb(i){return new Yg("increment",i)}(function(e,n=!0){(function(o){Qo=o})(Sa),Cs(new Cr("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new Or(new A2(s.getProvider("auth-internal")),new C2(c,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(g.options.projectId,E)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),$n(ST,RT,e),$n(ST,RT,"esm2020")})();var Vk="firebase",Pk="12.7.0";$n(Vk,Pk,"app");const xA="firebasestorage.googleapis.com",NA="storageBucket",Lk=120*1e3,Uk=600*1e3,jk=1e3;class mt extends yi{constructor(e,n,s=0){super(pp(e),`Firebase Storage: ${n} (${pp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ot;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ot||(ot={}));function pp(i){return"storage/"+i}function ty(){const i="An unknown error occurred, please check the error payload for server response.";return new mt(ot.UNKNOWN,i)}function zk(i){return new mt(ot.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function Bk(i){return new mt(ot.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qk(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(ot.UNAUTHENTICATED,i)}function Hk(){return new mt(ot.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Fk(i){return new mt(ot.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function DA(){return new mt(ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OA(){return new mt(ot.CANCELED,"User canceled the upload/download.")}function Gk(i){return new mt(ot.INVALID_URL,"Invalid URL '"+i+"'.")}function Kk(i){return new mt(ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function Qk(){return new mt(ot.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NA+"' property when initializing the app?")}function kA(){return new mt(ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yk(){return new mt(ot.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function $k(){return new mt(ot.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Xk(i){return new mt(ot.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qp(i){return new mt(ot.INVALID_ARGUMENT,i)}function MA(){return new mt(ot.APP_DELETED,"The Firebase app was deleted.")}function Wk(i){return new mt(ot.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _u(i,e){return new mt(ot.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function su(i){throw new mt(ot.INTERNAL_ERROR,"Internal error: "+i)}class kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=kn.makeFromUrl(e,n)}catch{return new kn(e,"")}if(s.path==="")return s;throw Kk(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(ae){ae.path_=decodeURIComponent(ae.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",x=new RegExp(`^https?://${T}/${E}/b/${o}/o${S}`,"i"),j={bucket:1,path:3},z=n===xA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",$=new RegExp(`^https?://${z}/${o}/${U}`,"i"),ee=[{regex:m,indices:p,postModify:u},{regex:x,indices:j,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let ae=0;ae<ee.length;ae++){const me=ee[ae],pe=me.regex.exec(e);if(pe){const N=pe[me.indices.bucket];let R=pe[me.indices.path];R||(R=""),s=new kn(N,R),me.postModify(s);break}}if(s==null)throw Gk(e);return s}}class Jk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Zk(i,e,n){let s=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function E(...U){g||(g=!0,e.apply(null,U))}function T(U){o=setTimeout(()=>{o=null,i(x,p())},U)}function S(){u&&clearTimeout(u)}function x(U,...$){if(g){S();return}if(U){S(),E.call(null,U,...$);return}if(p()||c){S(),E.call(null,U,...$);return}s<64&&(s*=2);let ee;m===1?(m=2,ee=0):ee=(s+Math.random())*1e3,T(ee)}let j=!1;function z(U){j||(j=!0,S(),!g&&(o!==null?(U||(m=2),clearTimeout(o),T(0)):U||(m=1)))}return T(0),u=setTimeout(()=>{c=!0,z(!0)},n),z}function eM(i){i(!1)}function tM(i){return i!==void 0}function nM(i){return typeof i=="function"}function iM(i){return typeof i=="object"&&!Array.isArray(i)}function Qf(i){return typeof i=="string"||i instanceof String}function Ib(i){return ny()&&i instanceof Blob}function ny(){return typeof Blob<"u"}function xb(i,e,n,s){if(s<e)throw Qp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Qp(`Invalid value for '${i}'. Expected ${n} or less.`)}function Wo(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function VA(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var va;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(va||(va={}));function PA(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class rM{constructor(e,n,s,o,u,c,m,p,g,E,T,S=!0,x=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,z)=>{this.resolve_=j,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new xh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===va.NO_ERROR,p=u.getStatus();if(!m||PA(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===va.ABORT;s(!1,new xh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new xh(g,u))})},n=(s,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());tM(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=ty();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?MA():OA();c(p)}else{const p=DA();c(p)}};this.canceled_?n(!1,new xh(!1,null,!0)):this.backoffId_=Zk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function sM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function aM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function lM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function uM(i,e,n,s,o,u,c=!0,m=!1){const p=VA(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return oM(E,e),sM(E,n),aM(E,u),lM(E,s),new rM(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,c,m)}function cM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hM(...i){const e=cM();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(ny())return new Blob(i);throw new mt(ot.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fM(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}function dM(i){if(typeof atob>"u")throw Xk("base-64");return atob(i)}const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gp{constructor(e,n){this.data=e,this.contentType=n||null}}function mM(i,e){switch(i){case qi.RAW:return new gp(LA(e));case qi.BASE64:case qi.BASE64URL:return new gp(UA(i,e));case qi.DATA_URL:return new gp(gM(e),yM(e))}throw ty()}function LA(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,c=i.charCodeAt(++n);s=65536|(u&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function pM(i){let e;try{e=decodeURIComponent(i)}catch{throw _u(qi.DATA_URL,"Malformed data URL.")}return LA(e)}function UA(i,e){switch(i){case qi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw _u(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw _u(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dM(e)}catch(o){throw o.message.includes("polyfill")?o:_u(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class jA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _u(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=_M(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function gM(i){const e=new jA(i);return e.base64?UA(qi.BASE64,e.rest):pM(e.rest)}function yM(i){return new jA(i).contentType}function _M(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class Es{constructor(e,n){let s=0,o="";Ib(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ib(this.data_)){const s=this.data_,o=fM(s,e,n);return o===null?null:new Es(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Es(s,!0)}}static getBlob(...e){if(ny()){const n=e.map(s=>s instanceof Es?s.data_:s);return new Es(hM.apply(null,n))}else{const n=e.map(c=>Qf(c)?mM(qi.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(c=>{for(let m=0;m<c.length;m++)o[u++]=c[m]}),new Es(o,!0)}}uploadData(){return this.data_}}function zA(i){let e;try{e=JSON.parse(i)}catch{return null}return iM(e)?e:null}function vM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function EM(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function BA(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function TM(i,e){return e}class on{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||TM}}let Nh=null;function bM(i){return!Qf(i)||i.length<2?i:BA(i)}function qA(){if(Nh)return Nh;const i=[];i.push(new on("bucket")),i.push(new on("generation")),i.push(new on("metageneration")),i.push(new on("name","fullPath",!0));function e(u,c){return bM(c)}const n=new on("name");n.xform=e,i.push(n);function s(u,c){return c!==void 0?Number(c):c}const o=new on("size");return o.xform=s,i.push(o),i.push(new on("timeCreated")),i.push(new on("updated")),i.push(new on("md5Hash",null,!0)),i.push(new on("cacheControl",null,!0)),i.push(new on("contentDisposition",null,!0)),i.push(new on("contentEncoding",null,!0)),i.push(new on("contentLanguage",null,!0)),i.push(new on("contentType",null,!0)),i.push(new on("metadata","customMetadata",!0)),Nh=i,Nh}function wM(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new kn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function AM(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const c=n[u];s[c.local]=c.xform(s,e[c.server])}return wM(s,i),s}function HA(i,e,n){const s=zA(e);return s===null?null:AM(i,s,n)}function SM(i,e,n,s){const o=zA(e);if(o===null||!Qf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,T=i.fullPath,S="/b/"+c(E)+"/o/"+c(T),x=Wo(S,n,s),j=VA({alt:"media",token:g});return x+j})[0]}function FA(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class Da{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ar(i){if(!i)throw ty()}function iy(i,e){function n(s,o){const u=HA(i,o,e);return Ar(u!==null),u}return n}function RM(i,e){function n(s,o){const u=HA(i,o,e);return Ar(u!==null),SM(u,o,i.host,i._protocol)}return n}function Ku(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=Hk():o=qk():n.getStatus()===402?o=Bk(i.bucket):n.getStatus()===403?o=Fk(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function ry(i){const e=Ku(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=zk(i.path)),u.serverResponse=o.serverResponse,u}return n}function CM(i,e,n){const s=e.fullServerUrl(),o=Wo(s,i.host,i._protocol),u="GET",c=i.maxOperationRetryTime,m=new Da(o,u,iy(i,n),c);return m.errorHandler=ry(e),m}function IM(i,e,n){const s=e.fullServerUrl(),o=Wo(s,i.host,i._protocol),u="GET",c=i.maxOperationRetryTime,m=new Da(o,u,RM(i,n),c);return m.errorHandler=ry(e),m}function xM(i,e){const n=e.fullServerUrl(),s=Wo(n,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function c(p,g){}const m=new Da(s,o,c,u);return m.successCodes=[200,204],m.errorHandler=ry(e),m}function NM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function GA(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=NM(null,e)),s}function DM(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let ee="";for(let ae=0;ae<2;ae++)ee=ee+Math.random().toString().slice(2);return ee}const p=m();c["Content-Type"]="multipart/related; boundary="+p;const g=GA(e,s,o),E=FA(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",x=Es.getBlob(T,s,S);if(x===null)throw kA();const j={name:g.fullPath},z=Wo(u,i.host,i._protocol),U="POST",$=i.maxUploadRetryTime,X=new Da(z,U,iy(i,n),$);return X.urlParams=j,X.headers=c,X.body=x.uploadData(),X.errorHandler=Ku(e),X}class hf{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function sy(i,e){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{Ar(!1)}return Ar(!!n&&(e||["active"]).indexOf(n)!==-1),n}function OM(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),c=GA(e,s,o),m={name:c.fullPath},p=Wo(u,i.host,i._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=FA(c,n),S=i.maxUploadRetryTime;function x(z){sy(z);let U;try{U=z.getResponseHeader("X-Goog-Upload-URL")}catch{Ar(!1)}return Ar(Qf(U)),U}const j=new Da(p,g,x,S);return j.urlParams=m,j.headers=E,j.body=T,j.errorHandler=Ku(e),j}function kM(i,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=sy(g,["active","final"]);let T=null;try{T=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ar(!1)}T||Ar(!1);const S=Number(T);return Ar(!isNaN(S)),new hf(S,s.size(),E==="final")}const c="POST",m=i.maxUploadRetryTime,p=new Da(n,c,u,m);return p.headers=o,p.errorHandler=Ku(e),p}const Nb=256*1024;function MM(i,e,n,s,o,u,c,m){const p=new hf(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw Yk();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const T=p.current,S=T+E;let x="";E===0?x="finalize":g===E?x="upload, finalize":x="upload";const j={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${p.current}`},z=s.slice(T,S);if(z===null)throw kA();function U(ae,me){const pe=sy(ae,["active","final"]),N=p.current+E,R=s.size();let I;return pe==="final"?I=iy(e,u)(ae,me):I=null,new hf(N,R,pe==="final",I)}const $="POST",X=e.maxUploadRetryTime,ee=new Da(n,$,U,X);return ee.headers=j,ee.body=z.uploadData(),ee.progressCallback=m||null,ee.errorHandler=Ku(i),ee}const _n={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yp(i){switch(i){case"running":case"pausing":case"canceling":return _n.RUNNING;case"paused":return _n.PAUSED;case"success":return _n.SUCCESS;case"canceled":return _n.CANCELED;case"error":return _n.ERROR;default:return _n.ERROR}}class VM{constructor(e,n,s){if(nM(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Ao(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class PM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=va.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=va.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=va.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw su("cannot .send() more than once");if(Ji(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw su("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw su("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw su("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw su("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class LM extends PM{initXhr(){this.xhr_.responseType="text"}}function pa(){return new LM}class UM{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=qA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(ot.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(PA(o.status,[]))if(u)o=DA();else{this.sleepTime=Math.max(this.sleepTime*2,jk),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(ot.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=OM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,pa,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=kM(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,pa,n,s);this._request=u,u.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Nb*this._chunkMultiplier,n=new hf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let c;try{c=MM(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(c,pa,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Nb*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=CM(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,pa,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=DM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,pa,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=OA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=yp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new VM(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(yp(this._state)){case _n.SUCCESS:Ao(this._resolve.bind(null,this.snapshot))();break;case _n.CANCELED:case _n.ERROR:const n=this._reject;Ao(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yp(this._state)){case _n.RUNNING:case _n.PAUSED:e.next&&Ao(e.next.bind(e,this.snapshot))();break;case _n.SUCCESS:e.complete&&Ao(e.complete.bind(e))();break;case _n.CANCELED:case _n.ERROR:e.error&&Ao(e.error.bind(e,this._error))();break;default:e.error&&Ao(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class Aa{constructor(e,n){this._service=e,n instanceof kn?this._location=n:this._location=kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Aa(e,n)}get root(){const e=new kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BA(this._location.path)}get storage(){return this._service}get parent(){const e=vM(this._location.path);if(e===null)return null;const n=new kn(this._location.bucket,e);return new Aa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Wk(e)}}function jM(i,e,n){return i._throwIfRoot("uploadBytesResumable"),new UM(i,new Es(e),n)}function zM(i){i._throwIfRoot("getDownloadURL");const e=IM(i.storage,i._location,qA());return i.storage.makeRequestWithTokens(e,pa).then(n=>{if(n===null)throw $k();return n})}function BM(i){i._throwIfRoot("deleteObject");const e=xM(i.storage,i._location);return i.storage.makeRequestWithTokens(e,pa)}function qM(i,e){const n=EM(i._location.path,e),s=new kn(i._location.bucket,n);return new Aa(i.storage,s)}function HM(i){return/^[A-Za-z]+:\/\//.test(i)}function FM(i,e){return new Aa(i,e)}function KA(i,e){if(i instanceof ay){const n=i;if(n._bucket==null)throw Qk();const s=new Aa(n,n._bucket);return e!=null?KA(s,e):s}else return e!==void 0?qM(i,e):i}function GM(i,e){if(e&&HM(e)){if(i instanceof ay)return FM(i,e);throw Qp("To use ref(service, url), the first argument must be a Storage instance.")}else return KA(i,e)}function Db(i,e){const n=e?.[NA];return n==null?null:kn.makeFromBucketSpec(n,i)}function KM(i,e,n,s={}){i.host=`${e}:${n}`;const o=Ji(e);o&&(vf(`https://${i.host}/b`),Ef("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:h0(u,i.app.options.projectId))}class ay{constructor(e,n,s,o,u,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=xA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Lk,this._maxUploadRetryTime=Uk,this._requests=new Set,o!=null?this._bucket=kn.makeFromBucketSpec(o,this._host):this._bucket=Db(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kn.makeFromBucketSpec(this._url,e):this._bucket=Db(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Aa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new Jk(MA());{const c=uM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const Ob="@firebase/storage",kb="0.14.0";const QA="storage";function i4(i,e,n){return i=tt(i),jM(i,e,n)}function r4(i){return i=tt(i),zM(i)}function s4(i){return i=tt(i),BM(i)}function a4(i,e){return i=tt(i),GM(i,e)}function QM(i=Tf(),e){i=tt(i);const s=Vu(i,QA).getImmediate({identifier:e}),o=rg("storage");return o&&YM(s,...o),s}function YM(i,e,n,s={}){KM(i,e,n,s)}function $M(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new ay(n,s,o,e,Sa)}function XM(){Cs(new Cr(QA,$M,"PUBLIC").setMultipleInstances(!0)),$n(Ob,kb,""),$n(Ob,kb,"esm2020")}XM();const WM="type.googleapis.com/google.protobuf.Int64Value",JM="type.googleapis.com/google.protobuf.UInt64Value";function YA(i,e){const n={};for(const s in i)i.hasOwnProperty(s)&&(n[s]=e(i[s]));return n}function ff(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>ff(e));if(typeof i=="function"||typeof i=="object")return YA(i,e=>ff(e));throw new Error("Data cannot be encoded in JSON: "+i)}function qo(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case WM:case JM:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>qo(e)):typeof i=="function"||typeof i=="object"?YA(i,e=>qo(e)):i}const oy="functions";const Mb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tn extends yi{constructor(e,n,s){super(`${oy}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,Tn.prototype)}}function ZM(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function df(i,e){let n=ZM(i),s=n,o;try{const u=e&&e.error;if(u){const c=u.status;if(typeof c=="string"){if(!Mb[c])return new Tn("internal","internal");n=Mb[c],s=c}const m=u.message;typeof m=="string"&&(s=m),o=u.details,o!==void 0&&(o=qo(o))}}catch{}return n==="ok"?null:new Tn(n,s,o)}class eV{constructor(e,n,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,vn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:o}}}const Yp="us-central1",tV=/^data: (.*?)(?:\n|$)/;function nV(i){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new Tn("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class iV{constructor(e,n,s,o,u=Yp,c=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new eV(e,n,s,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Yp}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function rV(i,e,n){const s=Ji(e);i.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(vf(i.emulatorOrigin+"/backends"),Ef("Functions",!0))}function sV(i,e,n){const s=o=>oV(i,e,o,{});return s.stream=(o,u)=>uV(i,e,o,u),s}function $A(i){return i.emulatorOrigin&&Ji(i.emulatorOrigin)?"include":void 0}async function aV(i,e,n,s,o){n["Content-Type"]="application/json";let u;try{u=await s(i,{method:"POST",body:JSON.stringify(e),headers:n,credentials:$A(o)})}catch{return{status:0,json:null}}let c=null;try{c=await u.json()}catch{}return{status:u.status,json:c}}async function XA(i,e){const n={},s=await i.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function oV(i,e,n,s){const o=i._url(e);return lV(i,o,n,s)}async function lV(i,e,n,s){n=ff(n);const o={data:n},u=await XA(i,s),c=s.timeout||7e4,m=nV(c),p=await Promise.race([aV(e,o,u,i.fetchImpl,i),m.promise,i.cancelAllRequests]);if(m.cancel(),!p)throw new Tn("cancelled","Firebase Functions instance was deleted.");const g=df(p.status,p.json);if(g)throw g;if(!p.json)throw new Tn("internal","Response is not valid JSON object.");let E=p.json.data;if(typeof E>"u"&&(E=p.json.result),typeof E>"u")throw new Tn("internal","Response is missing data field.");return{data:qo(E)}}function uV(i,e,n,s){const o=i._url(e);return cV(i,o,n,s||{})}async function cV(i,e,n,s){n=ff(n);const o={data:n},u=await XA(i,s);u["Content-Type"]="application/json",u.Accept="text/event-stream";let c;try{c=await i.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:u,signal:s?.signal,credentials:$A(i)})}catch(S){if(S instanceof Error&&S.name==="AbortError"){const j=new Tn("cancelled","Request was cancelled.");return{data:Promise.reject(j),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(j)}}}}}}const x=df(0,null);return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}let m,p;const g=new Promise((S,x)=>{m=S,p=x});s?.signal?.addEventListener("abort",()=>{const S=new Tn("cancelled","Request was cancelled.");p(S)});const E=c.body.getReader(),T=hV(E,m,p,s?.signal);return{stream:{[Symbol.asyncIterator](){const S=T.getReader();return{async next(){const{value:x,done:j}=await S.read();return{value:x,done:j}},async return(){return await S.cancel(),{done:!0,value:void 0}}}}},data:g}}function hV(i,e,n,s){const o=(c,m)=>{const p=c.match(tV);if(!p)return;const g=p[1];try{const E=JSON.parse(g);if("result"in E){e(qo(E.result));return}if("message"in E){m.enqueue(qo(E.message));return}if("error"in E){const T=df(0,E);m.error(T),n(T);return}}catch(E){if(E instanceof Tn){m.error(E),n(E);return}}},u=new TextDecoder;return new ReadableStream({start(c){let m="";return p();async function p(){if(s?.aborted){const g=new Tn("cancelled","Request was cancelled");return c.error(g),n(g),Promise.resolve()}try{const{value:g,done:E}=await i.read();if(E){m.trim()&&o(m.trim(),c),c.close();return}if(s?.aborted){const S=new Tn("cancelled","Request was cancelled");c.error(S),n(S),await i.cancel();return}m+=u.decode(g,{stream:!0});const T=m.split(`
`);m=T.pop()||"";for(const S of T)S.trim()&&o(S.trim(),c);return p()}catch(g){const E=g instanceof Tn?g:df(0,null);c.error(E),n(E)}}},cancel(){return i.cancel()}})}const Vb="@firebase/functions",Pb="0.13.1";const fV="auth-internal",dV="app-check-internal",mV="messaging-internal";function pV(i){const e=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(fV),c=n.getProvider(mV),m=n.getProvider(dV);return new iV(o,u,c,m,s)};Cs(new Cr(oy,e,"PUBLIC").setMultipleInstances(!0)),$n(Vb,Pb,i),$n(Vb,Pb,"esm2020")}function gV(i=Tf(),e=Yp){const s=Vu(tt(i),oy).getImmediate({identifier:e}),o=rg("functions");return o&&yV(s,...o),s}function yV(i,e,n){rV(tt(i),e,n)}function o4(i,e,n){return sV(tt(i),e)}pV();const _V={apiKey:"AIzaSyCoAdmx5m3jPuVg9VdQzBzhSv2GBQGdlyA",authDomain:"dacapo-toolbox.firebaseapp.com",projectId:"dacapo-toolbox",storageBucket:"dacapo-toolbox.firebasestorage.app",messagingSenderId:"544244716086",appId:"1:544244716086:web:1bff2cc13a3f95cf063e97"},Yf=m0(_V),hi=E2(Yf),Dn=yk(Yf),l4=QM(Yf),u4=gV(Yf,"europe-west1"),ht={USER:"user",ADMIN:"admin",SUPERVISOR:"supervisor"},vV={CREDITS_VIEW_OWN:[ht.USER,ht.ADMIN,ht.SUPERVISOR],CREDITS_VIEW_ALL:[ht.ADMIN,ht.SUPERVISOR],CREDITS_MODIFY:[ht.SUPERVISOR],ADMIN_DASHBOARD:[ht.ADMIN,ht.SUPERVISOR],MANAGE_TOOLS:[ht.ADMIN,ht.SUPERVISOR],MANAGE_LABELS:[ht.ADMIN,ht.SUPERVISOR],VIEW_STATS:[ht.ADMIN,ht.SUPERVISOR],ASSIGN_ROLES:[ht.SUPERVISOR],MANAGE_USERS:[ht.SUPERVISOR]},Bi="@stichtinglvo.nl";function mf(i){return i?i.toLowerCase().endsWith(Bi):!1}function EV(i,e){const n=vV[e];return n?n.includes(i):!1}function TV(i,e=null){return i===!0?ht.SUPERVISOR:e==="administrator"||e==="admin"?ht.ADMIN:ht.USER}function bV(i){return i===!0?ht.SUPERVISOR:ht.USER}const WA=L.createContext();function wV({children:i}){const[e,n]=L.useState(null),[s,o]=L.useState(null),[u,c]=L.useState(null),[m,p]=L.useState(!0),[g,E]=L.useState(null),{setThemeFromPreference:T,getThemePreference:S}=ig(),x=u?.supervisor===!0,j=bV(x),z=j,U=x,$=M=>EV(z,M),X=async M=>{if(x)return ht.SUPERVISOR;if(!e?.uid||!M)return ht.USER;try{const C=di(Dn,"apps",M,"users",e.uid),be=await Ab(C);if(be.exists()){const Te=be.data()?.role;return TV(x,Te)}}catch(C){console.error("[Auth] Error fetching app role:",C)}return ht.USER};L.useEffect(()=>{const M=lN(hi,async C=>{if(n(C),C){try{const H=await Rp(C);c(H.claims)}catch(H){console.error("[Auth] Error getting custom claims:",H),c({})}const be=di(Dn,"users",C.uid),Te=await Ab(be);if(Te.exists()){const H=Te.data();o(H),T(H.themePreference||"light"),await bs(be,{lastLogin:new Date})}else{const H={email:C.email,displayName:C.displayName||C.email?.split("@")[0]||"",photoURL:C.photoURL||"",favorites:[],createdAt:new Date,lastLogin:new Date};await Sb(be,H),o(H)}}else o(null),c(null);p(!1)});return()=>M()},[]);const ee=async(M,C)=>{try{return E(null),(await sN(hi,M,C)).user.emailVerified?{success:!0}:{success:!1,message:"Verifieer eerst je email voordat je inlogt.",needsVerification:!0}}catch(be){console.error("Error signing in with email:",be);const Te=Dh(be.code);return E(Te),{success:!1,message:Te}}},ae=async(M,C,be="")=>{try{if(E(null),!mf(M)){const ue=`Registratie is alleen mogelijk met een ${Bi} emailadres.`;return E(ue),{success:!1,message:ue}}const Te=await rN(hi,M,C);await mT(Te.user),console.log("[Auth] Verification email sent to:",M);const H=di(Dn,"users",Te.user.uid),re={email:Te.user.email,displayName:be||M.split("@")[0],photoURL:"",favorites:[],createdAt:new Date,lastLogin:new Date};return await Sb(H,re),{success:!0,message:"Account aangemaakt! Controleer je email voor de verificatielink."}}catch(Te){console.error("Error registering:",Te);const H=Dh(Te.code);return E(H),{success:!1,message:H}}},me=async M=>{try{return E(null),await iN(hi,M),{success:!0,message:"Wachtwoord reset link is verstuurd naar je email."}}catch(C){console.error("Error sending password reset:",C);const be=Dh(C.code);return E(be),{success:!1,message:be}}},pe=async()=>{try{return hi.currentUser&&!hi.currentUser.emailVerified?(await mT(hi.currentUser),{success:!0,message:"Verificatie email opnieuw verstuurd!"}):{success:!1,message:"Geen gebruiker om te verifiren."}}catch(M){return console.error("Error resending verification:",M),{success:!1,message:Dh(M.code)}}},N=async()=>{try{if(e){const M=di(Dn,"users",e.uid);await bs(M,{themePreference:S()})}await uN(hi)}catch(M){throw console.error("Error signing out:",M),M}},R=async M=>{if(!e)return;const C=di(Dn,"users",e.uid),be=s?.favorites?.includes(M);try{be?(await bs(C,{favorites:Mk(M)}),o(Te=>({...Te,favorites:Te.favorites.filter(H=>H!==M)}))):(await bs(C,{favorites:kk(M)}),o(Te=>({...Te,favorites:[...Te.favorites||[],M]})))}catch(Te){console.error("Error toggling favorite:",Te)}},I=M=>s?.favorites?.includes(M)||!1,k=async()=>{if(hi.currentUser)try{await hi.currentUser.getIdToken(!0);const M=await Rp(hi.currentUser);c(M.claims)}catch(M){console.error("[Auth] Error refreshing claims:",M)}},O=()=>E(null);return w.jsx(WA.Provider,{value:{user:e,userData:s,customClaims:u,loading:m,userRole:z,platformRole:j,isAdmin:U,isSupervisor:x,hasPermission:$,getAppRole:X,refreshClaims:k,authError:g,signInWithEmail:ee,registerWithEmail:ae,resetPassword:me,resendVerification:pe,signOut:N,toggleFavorite:R,isFavorite:I,clearError:O},children:i})}function Zi(){const i=L.useContext(WA);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}function Dh(i){return{"auth/email-already-in-use":"Dit emailadres is al in gebruik.","auth/invalid-email":"Ongeldig emailadres.","auth/operation-not-allowed":"Deze inlogmethode is niet toegestaan.","auth/weak-password":"Wachtwoord is te zwak. Gebruik minimaal 6 karakters.","auth/user-disabled":"Dit account is uitgeschakeld.","auth/user-not-found":"Geen account gevonden met dit emailadres.","auth/wrong-password":"Onjuist wachtwoord.","auth/invalid-credential":"Ongeldige inloggegevens.","auth/too-many-requests":"Te veel pogingen. Probeer het later opnieuw.","auth/network-request-failed":"Netwerkfout. Controleer je internetverbinding.","auth/popup-closed-by-user":"Login popup gesloten.","auth/cancelled-popup-request":"Login geannuleerd."}[i]||"Er ging iets mis. Probeer het opnieuw."}function ly(){const[i,e]=L.useState([]),[n,s]=L.useState(!0),[o,u]=L.useState(null);L.useEffect(()=>{const x=Ck(mp(Dn,"tools"),Ik("name")),j=Ok(x,z=>{const U=z.docs.map($=>({id:$.id,...$.data()}));e(U),s(!1)},z=>{console.error("Error fetching tools:",z),u(z),s(!1)});return()=>j()},[]);const c=i.filter(x=>x.isActive!==!1);return{tools:i,activeTools:c,loading:n,error:o,addTool:async x=>{try{return(await Rb(mp(Dn,"tools"),{...x,slug:x.slug||"",shortDescription:x.shortDescription||x.description||"",fullDescription:x.fullDescription||"",tags:x.tags||[],status:x.status||"draft",isActive:!0,clickCount:0,favoriteCount:0,createdAt:wo(),updatedAt:wo()})).id}catch(j){throw console.error("Error adding tool:",j),j}},updateTool:async(x,j)=>{try{const z=di(Dn,"tools",x);await bs(z,{...j,updatedAt:wo()})}catch(z){throw console.error("Error updating tool:",z),z}},deleteTool:async x=>{try{await Dk(di(Dn,"tools",x))}catch(j){throw console.error("Error deleting tool:",j),j}},updateFavoriteCount:async(x,j)=>{try{const z=di(Dn,"tools",x);await bs(z,{favoriteCount:Cb(j)})}catch(z){console.error("Error updating favorite count:",z)}},trackToolClick:async(x,j="anonymous")=>{try{const z=di(Dn,"tools",x);await bs(z,{clickCount:Cb(1),lastClickedAt:wo()}),await Rb(mp(Dn,"toolClicks"),{toolId:x,userId:j,clickedAt:wo()}),console.log("[Tools] Click tracked for tool:",x)}catch(z){console.error("Error tracking tool click:",z)}},toggleToolActive:async(x,j)=>{try{const z=di(Dn,"tools",x);await bs(z,{isActive:j,updatedAt:wo()})}catch(z){throw console.error("Error toggling tool active status:",z),z}}}}const JA=[{id:"lesgeven",name:"Lesgeven",icon:"school",color:"#2860E0"},{id:"toetsing",name:"Toetsing",icon:"quiz",color:"#22C55E"},{id:"leerlingbegeleiding",name:"Leerlingbegeleiding",icon:"support",color:"#A855F7"},{id:"administratie",name:"Administratie",icon:"folder",color:"#F97316"},{id:"planning",name:"Planning",icon:"calendar_month",color:"#14B8A6"},{id:"communicatie",name:"PR en communicatie",icon:"chat",color:"#EC4899"},{id:"ai-automatisering",name:"AI & Automatisering",icon:"smart_toy",color:"#6366F1"},{id:"overig",name:"Overig",icon:"more_horiz",color:"#6B7280"}],AV={id:"extern",name:"Extern",icon:"open_in_new",color:"#EF4444"},ZA=[...JA,AV];function SV(i){return ZA.find(e=>e.id===i)}function uy(i){return i?.includes("extern")||!1}function eS(i){return!i||i.length===0?null:i.find(e=>e!=="extern")||null}function tS(i){const e=eS(i);return e?SV(e):null}function c4(i){if(!i||i.length===0)return{valid:!1,error:"Een primair label is verplicht"};const e=eS(i);return e?JA.map(s=>s.id).includes(e)?i.length>2?{valid:!1,error:"Maximaal 2 labels toegestaan"}:i.length===2&&!i.includes("extern")?{valid:!1,error:"Alleen primair label + Extern toegestaan"}:{valid:!0}:{valid:!1,error:"Ongeldig primair label"}:{valid:!1,error:"Een primair label is verplicht (niet alleen Extern)"}}function RV(){return{labels:ZA,loading:!1,error:null,addLabel:async()=>{console.warn("Labels are now read-only")},updateLabel:async()=>{console.warn("Labels are now read-only")},deleteLabel:async()=>{console.warn("Labels are now read-only")}}}function CV({isOpen:i,onClose:e}){const{signInWithEmail:n,registerWithEmail:s,resetPassword:o,authError:u,clearError:c}=Zi(),[m,p]=L.useState("login"),[g,E]=L.useState(""),[T,S]=L.useState(""),[x,j]=L.useState(""),[z,U]=L.useState(""),[$,X]=L.useState(!1),[ee,ae]=L.useState(null);if(!i)return null;const me=()=>{p("login"),E(""),S(""),j(""),U(""),ae(null),c(),e()},pe=async k=>{if(k.preventDefault(),!g||!T){ae({type:"error",text:"Vul alle velden in."});return}X(!0),ae(null);const O=await n(g,T);X(!1),O.success?me():O.needsVerification?ae({type:"warning",text:O.message}):ae({type:"error",text:O.message})},N=async k=>{if(k.preventDefault(),!g||!T||!x){ae({type:"error",text:"Vul alle velden in."});return}if(T!==x){ae({type:"error",text:"Wachtwoorden komen niet overeen."});return}if(T.length<6){ae({type:"error",text:"Wachtwoord moet minimaal 6 karakters zijn."});return}X(!0),ae(null);const O=await s(g,T,z);X(!1),O.success?ae({type:"success",text:O.message}):ae({type:"error",text:O.message})},R=async k=>{if(k.preventDefault(),!g){ae({type:"error",text:"Voer je emailadres in."});return}X(!0),ae(null);const O=await o(g);X(!1),O.success?ae({type:"success",text:O.message}):ae({type:"error",text:O.message})},I=k=>{p(k),ae(null),c()};return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:w.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl border border-theme shadow-xl overflow-hidden",children:[w.jsx("button",{onClick:me,className:"absolute top-4 right-4 size-10 flex items-center justify-center rounded-full hover:bg-gray-500/10 transition-colors z-10",children:w.jsx("span",{className:"material-symbols-outlined",children:"close"})}),w.jsxs("div",{className:"p-6",children:[w.jsxs("div",{className:"flex flex-col items-center mb-6",children:[w.jsx("div",{className:"size-14 bg-[#2860E0] rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg mb-3",children:"DC"}),w.jsxs("h2",{className:"text-xl font-bold",children:[m==="login"&&"Inloggen",m==="register"&&"Account aanmaken",m==="forgot"&&"Wachtwoord vergeten"]})]}),(ee||u)&&w.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm ${ee?.type==="success"?"bg-green-500/10 border border-green-500 text-green-600 dark:text-green-400":ee?.type==="warning"?"bg-yellow-500/10 border border-yellow-500 text-yellow-600 dark:text-yellow-400":"bg-red-500/10 border border-red-500 text-red-600 dark:text-red-400"}`,children:ee?.text||u}),m==="login"&&w.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),w.jsx("input",{type:"email",id:"email",value:g,onChange:k=>E(k.target.value),placeholder:"naam@stichtinglvo.nl",className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Wachtwoord"}),w.jsx("input",{type:"password",id:"password",value:T,onChange:k=>S(k.target.value),placeholder:"",className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),w.jsx("button",{type:"button",onClick:()=>I("forgot"),className:"text-sm text-[#2860E0] hover:underline",children:"Wachtwoord vergeten?"}),w.jsx("button",{type:"submit",disabled:$,className:"w-full h-12 bg-[#2860E0] hover:bg-[#1C4DAB] text-white font-semibold rounded-lg transition-colors disabled:opacity-50",children:$?"Bezig...":"Inloggen"})]}),m==="register"&&w.jsxs("form",{onSubmit:N,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium mb-1",children:"Naam (optioneel)"}),w.jsx("input",{type:"text",id:"displayName",value:z,onChange:k=>U(k.target.value),placeholder:"Je naam",className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),w.jsxs("div",{children:[w.jsxs("label",{htmlFor:"regEmail",className:"block text-sm font-medium mb-1",children:["Email * ",w.jsxs("span",{className:"text-secondary font-normal",children:["(",Bi,")"]})]}),w.jsx("input",{type:"email",id:"regEmail",value:g,onChange:k=>E(k.target.value),placeholder:`naam${Bi}`,required:!0,className:`w-full h-12 px-4 rounded-lg border bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent ${g&&!mf(g)?"border-red-500":"border-theme"}`}),g&&!mf(g)&&w.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["Gebruik een ",Bi," emailadres"]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"regPassword",className:"block text-sm font-medium mb-1",children:"Wachtwoord *"}),w.jsx("input",{type:"password",id:"regPassword",value:T,onChange:k=>S(k.target.value),placeholder:"Minimaal 6 karakters",required:!0,className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-1",children:"Bevestig wachtwoord *"}),w.jsx("input",{type:"password",id:"confirmPassword",value:x,onChange:k=>j(k.target.value),placeholder:"Herhaal wachtwoord",required:!0,className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),w.jsx("button",{type:"submit",disabled:$,className:"w-full h-12 bg-[#2860E0] hover:bg-[#1C4DAB] text-white font-semibold rounded-lg transition-colors disabled:opacity-50",children:$?"Bezig...":"Registreren"})]}),m==="forgot"&&w.jsxs("form",{onSubmit:R,className:"space-y-4",children:[w.jsx("p",{className:"text-sm text-secondary mb-4",children:"Voer je emailadres in en we sturen je een link om je wachtwoord te resetten."}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"forgotEmail",className:"block text-sm font-medium mb-1",children:"Email"}),w.jsx("input",{type:"email",id:"forgotEmail",value:g,onChange:k=>E(k.target.value),placeholder:"naam@stichtinglvo.nl",required:!0,className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),w.jsx("button",{type:"submit",disabled:$,className:"w-full h-12 bg-[#2860E0] hover:bg-[#1C4DAB] text-white font-semibold rounded-lg transition-colors disabled:opacity-50",children:$?"Bezig...":"Verstuur reset link"}),w.jsx("button",{type:"button",onClick:()=>I("login"),className:"w-full text-sm text-[#2860E0] hover:underline",children:" Terug naar inloggen"})]}),m!=="forgot"&&w.jsx("p",{className:"text-center text-sm mt-6",children:m==="login"?w.jsxs(w.Fragment,{children:["Nog geen account?"," ",w.jsx("button",{onClick:()=>I("register"),className:"text-[#2860E0] font-medium hover:underline",children:"Registreer"})]}):w.jsxs(w.Fragment,{children:["Heb je al een account?"," ",w.jsx("button",{onClick:()=>I("login"),className:"text-[#2860E0] font-medium hover:underline",children:"Inloggen"})]})})]})]})})}function IV({labels:i,selectedLabels:e,onToggleLabel:n,searchQuery:s,onSearchChange:o}){const{isDarkMode:u,toggleTheme:c}=ig(),{user:m,userData:p,userRole:g,signOut:E}=Zi(),[T,S]=L.useState(!1),x=L.useRef(null),j=()=>n(null),z=e?.length>0;return w.jsxs(w.Fragment,{children:[w.jsx("header",{className:"sticky top-0 z-50 w-full bg-card/95 backdrop-blur-md border-b border-theme shadow-sm transition-colors duration-200",children:w.jsxs("div",{className:"flex items-center justify-between px-4 py-2 gap-4",children:[w.jsxs(Eu,{to:"/",className:"flex items-center gap-3 shrink-0",children:[w.jsx("div",{className:"size-9 bg-[#2860E0] rounded-lg flex items-center justify-center text-white font-bold shadow-sm",children:"DC"}),w.jsx("h1",{className:"text-lg font-bold tracking-tight hidden sm:block",children:"DaCapo Tools"})]}),w.jsx("div",{className:"flex-1 flex justify-center",children:w.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-3 py-2 rounded-lg border-[1.5px] border-[#2860E0] bg-[var(--bg-surface)]/50",children:[w.jsx("div",{className:"shrink-0 h-9 px-3 flex items-center justify-center rounded bg-[var(--bg-surface)] border border-theme text-[13px] font-bold text-secondary uppercase tracking-wide",children:"Filter op"}),w.jsx("div",{ref:x,className:"flex-1 flex items-center gap-1 overflow-x-auto no-scrollbar min-w-[200px]",children:i?.map(U=>{const $=e?.includes(U.id);return w.jsxs("button",{onClick:()=>n(U.id),className:`shrink-0 h-9 px-3 flex items-center gap-1 rounded-full text-[15px] font-medium transition-all select-none ${$?"text-white shadow-sm":"bg-transparent text-secondary hover:bg-[var(--bg-surface-hover)]"}`,style:$?{backgroundColor:U.color}:{},children:[U.icon&&w.jsx("span",{className:"material-symbols-outlined text-[18px]",style:{fontVariationSettings:"'FILL' 1"},children:U.icon}),w.jsx("span",{className:"whitespace-nowrap",children:U.name})]},U.id)})}),w.jsx("div",{className:"h-6 w-px bg-[var(--border-default)] shrink-0 opacity-40"}),w.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[w.jsx("div",{className:"flex items-center w-40 shrink-0 mr-1",children:w.jsxs("div",{className:"relative w-full",children:[w.jsx("span",{className:"material-symbols-outlined text-[20px] text-secondary absolute left-2.5 top-1/2 -translate-y-1/2",children:"search"}),w.jsx("input",{type:"text",value:s,onChange:U=>o(U.target.value),placeholder:"Zoeken...",className:"w-full h-9 text-[15px] pl-10 pr-3 bg-[var(--bg-surface)] border border-theme rounded-full focus:ring-1 focus:ring-[var(--primary)] outline-none text-secondary placeholder:text-secondary/50"})]})}),w.jsx("button",{className:"shrink-0 size-9 flex items-center justify-center rounded-full text-secondary hover:bg-[var(--bg-surface-hover)] transition-colors",title:"Sorteren",children:w.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"sort"})}),w.jsx("button",{onClick:z?j:void 0,className:`shrink-0 size-9 flex items-center justify-center rounded-full transition-colors ${z?"bg-red-500/10 text-red-500 hover:bg-red-500/20 cursor-pointer":"text-secondary cursor-default"}`,title:z?"Wis alle filters":"Geen actieve filters",disabled:!z,children:w.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"delete"})})]})]})}),w.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[w.jsx("button",{onClick:c,className:"flex items-center justify-center size-9 rounded-full hover:bg-[var(--bg-surface-hover)] transition-colors","aria-label":u?"Schakel naar light mode":"Schakel naar dark mode",children:w.jsx("span",{className:"material-symbols-outlined",children:u?"light_mode":"dark_mode"})}),g&&g!=="user"&&w.jsxs(Eu,{to:"/admin",className:"flex items-center gap-2 px-4 py-1.5 rounded-full bg-amber-500 text-white hover:bg-amber-600 transition-colors font-bold","aria-label":"Admin Dashboard",children:[w.jsx("span",{className:"material-symbols-outlined",children:"admin_panel_settings"}),w.jsx("span",{children:"ADMIN"})]}),m?w.jsxs("div",{className:"relative group",children:[w.jsx("button",{className:"size-9 rounded-full bg-[#2860E0] flex items-center justify-center text-white font-semibold text-sm border border-theme shadow-sm overflow-hidden",children:m.photoURL?w.jsx("img",{src:m.photoURL,alt:m.displayName||"Profiel",className:"w-full h-full object-cover"}):w.jsx("span",{children:(p?.displayName||m.email||"?").charAt(0).toUpperCase()})}),w.jsxs("div",{className:"absolute right-0 mt-2 w-48 max-w-[90vw] bg-card border border-theme rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 overflow-hidden",children:[w.jsxs("div",{className:"p-3 border-b border-theme",children:[w.jsx("p",{className:"font-medium truncate",children:p?.displayName||m.displayName||m.email?.split("@")[0]}),w.jsx("p",{className:"text-sm text-secondary truncate",children:m.email})]}),w.jsxs("button",{onClick:E,className:"w-full px-3 py-2 text-left hover:bg-[var(--bg-surface-hover)] transition-colors flex items-center gap-2",children:[w.jsx("span",{className:"material-symbols-outlined text-xl",children:"logout"}),"Uitloggen"]})]})]}):w.jsx("button",{onClick:()=>S(!0),className:"flex items-center justify-center size-9 rounded-full bg-[#2860E0] text-white hover:bg-[#1C4DAB] transition-colors shadow-sm","aria-label":"Inloggen",children:w.jsx("span",{className:"material-symbols-outlined text-xl",children:"login"})})]})]})}),w.jsx(CV,{isOpen:T,onClose:()=>S(!1)})]})}function xV({tool:i,onSelect:e}){gf();const{user:n,isFavorite:s,toggleFavorite:o}=Zi(),{updateFavoriteCount:u,trackToolClick:c}=ly(),m=L.useRef(null),p=L.useRef(null),[g,E]=L.useState(!1),[T,S]=L.useState(0),x=s(i.id),j=tS(i.labels),z=uy(i.labels);L.useEffect(()=>{const ee=()=>{if(m.current&&p.current){const me=m.current.scrollHeight,pe=p.current.clientHeight,N=me-pe;console.log("ToolCard Scroll Check:",{name:i.name,textHeight:me,containerHeight:pe,overflow:N}),S(Math.max(0,N))}},ae=setTimeout(ee,100);return window.addEventListener("resize",ee),()=>{clearTimeout(ae),window.removeEventListener("resize",ee)}},[i.shortDescription,i.description]);const U=async ee=>{ee.preventDefault(),ee.stopPropagation(),n&&(await o(i.id),await u(i.id,x?-1:1))},$=async()=>{const ee=n?.uid||"anonymous";await c(i.id,ee),e&&e(i)},X=i.description||i.shortDescription||"Geen beschrijving beschikbaar";return w.jsxs("div",{className:"group bg-card rounded-xl shadow-sm border border-theme overflow-hidden hover:shadow-lg hover:border-[#2860E0]/50 transition-all duration-300 cursor-pointer flex flex-col",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onClick:$,children:[w.jsxs("div",{className:"w-full aspect-[16/9] relative overflow-hidden bg-[var(--bg-surface-hover)]",children:[i.imageUrl?w.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):w.jsx("div",{className:"w-full h-full flex items-center justify-center",children:w.jsx("span",{className:"material-symbols-outlined text-5xl text-muted",children:"apps"})}),z&&w.jsx("div",{className:"absolute top-2 left-2 size-8 bg-black/50 backdrop-blur-sm rounded-lg flex items-center justify-center text-white",title:"Opent in een nieuw tabblad",children:w.jsx("span",{className:"material-symbols-outlined text-lg",children:"open_in_new"})}),n&&w.jsx("button",{onClick:U,className:`absolute top-2 right-2 p-2 rounded-full bg-[var(--bg-surface)] shadow-sm transition-all ${x?"text-red-500":"text-muted hover:text-red-500"}`,"aria-label":x?"Verwijder uit favorieten":"Voeg toe aan favorieten",children:w.jsx("span",{className:"material-symbols-outlined text-xl",style:x?{fontVariationSettings:"'FILL' 1"}:{},children:"favorite"})})]}),w.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[w.jsx("h3",{className:"font-semibold text-base mb-1 line-clamp-1 group-hover:text-primary transition-colors text-primary",children:i.name}),w.jsx("div",{ref:p,className:"h-[3.75rem] overflow-hidden mb-4",children:w.jsx("p",{ref:m,className:"text-sm text-secondary transition-transform ease-linear will-change-transform group-hover:translate-y-[var(--scroll-offset)]",style:{"--scroll-offset":`-${T}px`,transitionDuration:`${Math.max(2,T*30)}ms`},children:X})}),w.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t border-theme",children:[j?w.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full text-white font-medium",style:{backgroundColor:j.color},children:[w.jsx("span",{className:"material-symbols-outlined text-[10px]",children:j.icon}),j.name]}):w.jsx("span",{}),w.jsx("span",{className:`material-symbols-outlined text-[#2860E0] transform transition-transform duration-300 ${g?"translate-x-1":""}`,children:z?"open_in_new":"arrow_forward"})]})]})]})}function NV({tools:i}){const{userData:e}=Zi(),n=L.useMemo(()=>e?.favorites?i.filter(s=>e.favorites.includes(s.id)):[],[i,e?.favorites]);return n.length===0?null:w.jsxs("section",{className:"mt-6 px-4",children:[w.jsxs("h2",{className:"text-xl font-bold tracking-tight mb-3 flex items-center gap-2",children:[w.jsx("span",{className:"material-symbols-outlined text-red-500",style:{fontVariationSettings:"'FILL' 1"},children:"favorite"}),"Mijn favorieten"]}),w.jsx("div",{className:"flex overflow-x-auto no-scrollbar pb-4 gap-3 snap-x snap-mandatory",children:n.map(s=>w.jsx(DV,{tool:s},s.id))})]})}function DV({tool:i}){const e=gf(),{trackToolClick:n}=ly(),{user:s}=Zi(),o=uy(i.labels),u=i.externalUrl||i.url||i.internalRoute,c=async()=>{if(i.id){const m=s?.uid||"anonymous";n(i.id,m).catch(console.error)}o?u&&window.open(u,"_blank","noopener,noreferrer"):u&&e(u)};return w.jsxs("button",{onClick:c,className:"snap-start shrink-0 w-36 h-[200px] rounded-2xl flex flex-col overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-200 bg-card group",children:[w.jsx("div",{className:"h-[68%] w-full bg-[var(--bg-surface)] overflow-hidden",children:i.imageUrl?w.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):w.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[var(--bg-surface)] to-[var(--bg-surface-hover)]",children:w.jsx("span",{className:"material-symbols-outlined text-4xl text-secondary",children:i.icon||"apps"})})}),w.jsx("div",{className:"h-[32%] w-full bg-[#14B8A6]/10 dark:bg-[#14B8A6]/20 flex items-center justify-center py-2 px-3",children:w.jsx("p",{lang:"nl-NL",className:"text-[0.95rem] font-semibold text-primary leading-[1.25] text-center line-clamp-2 hyphens-auto",style:{wordBreak:"break-word"},children:i.name})})]})}function OV(i){return!i||i.startsWith("/")||i.startsWith("http://")||i.startsWith("https://")?i:`https://${i}`}function kV(i){const e=u=>{let c=[u];return c=c.flatMap(m=>typeof m!="string"?m:m.split(/(\*\*.*?\*\*)/g).map((p,g)=>p.startsWith("**")&&p.endsWith("**")?w.jsx("strong",{className:"font-bold text-primary",children:p.slice(2,-2)},`b-${g}`):p)),c=c.flatMap(m=>typeof m!="string"?m:m.split(/(\*.*?\*)/g).map((p,g)=>p.startsWith("*")&&p.endsWith("*")?w.jsx("em",{className:"italic",children:p.slice(1,-1)},`i-${g}`):p)),c},n=i.split(`
`),s=[];let o=[];return n.forEach((u,c)=>{const m=u.trim();m.startsWith("- ")?o.push(w.jsx("li",{className:"pl-1",children:e(m.slice(2))},`li-${c}`)):(o.length>0&&(s.push(w.jsx("ul",{className:"list-disc list-outside mb-4 ml-6 space-y-1 marker:text-theme",children:o},`ul-${c}`)),o=[]),m.startsWith("### ")?s.push(w.jsx("h3",{className:"text-lg font-bold mt-6 mb-3 text-primary",children:e(m.slice(4))},c)):m===""?s.push(w.jsx("div",{className:"h-4"},c)):s.push(w.jsx("p",{className:"mb-2 leading-relaxed",children:e(u)},c)))}),o.length>0&&s.push(w.jsx("ul",{className:"list-disc list-outside mb-4 ml-6 space-y-1 marker:text-theme",children:o},"ul-end")),s}function MV({tool:i,onClose:e}){const n=L.useRef(null);if(L.useEffect(()=>{const p=g=>{g.key==="Escape"&&e()};return i&&(window.addEventListener("keydown",p),document.body.style.overflow="hidden"),()=>{window.removeEventListener("keydown",p),document.body.style.overflow="unset"}},[i,e]),L.useEffect(()=>{i&&n.current&&n.current.focus()},[i]),!i)return null;const s=tS(i.labels),o=uy(i.labels),u=i.externalUrl||i.url||i.internalRoute,c=OV(u),m=()=>{c&&window.open(c,"_blank","noopener,noreferrer")};return w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 isolate",children:[w.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300 animate-in fade-in",onClick:e,"aria-hidden":"true"}),w.jsxs("div",{ref:n,className:"relative w-full max-w-2xl max-h-[90vh] bg-card rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-theme focus:outline-none animate-in zoom-in-95 fade-in duration-200",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",tabIndex:"-1",children:[w.jsxs("div",{className:"relative w-full aspect-[16/9] shrink-0 bg-[var(--bg-surface-hover)]",children:[i.imageUrl?w.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-full object-cover"}):w.jsx("div",{className:"w-full h-full flex items-center justify-center",children:w.jsx("span",{className:"material-symbols-outlined text-6xl text-muted",children:"apps"})}),w.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-black/50 hover:bg-black/70 text-white backdrop-blur-md transition-colors","aria-label":"Sluiten",children:w.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s&&w.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full text-white font-medium",style:{backgroundColor:s.color},children:[w.jsx("span",{className:"material-symbols-outlined text-[10px]",children:s.icon}),s.name]}),o&&w.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full bg-[var(--bg-surface-hover)] text-secondary font-medium border border-theme",children:[w.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"open_in_new"}),"Extern"]})]}),w.jsx("h2",{id:"modal-title",className:"text-2xl sm:text-3xl font-bold mb-4 text-primary",children:i.name}),w.jsx("div",{className:"prose dark:prose-invert max-w-none text-secondary",children:kV(i.description||i.shortDescription||"Geen beschrijving beschikbaar.")})]}),w.jsx("div",{className:"p-6 md:p-8 border-t border-theme bg-card/50 backdrop-blur-sm mt-auto",children:w.jsxs("button",{onClick:m,className:"w-full py-3.5 px-4 bg-[var(--primary)] hover:bg-[var(--primary-hover)] text-white font-medium rounded-xl transition-all shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30 flex items-center justify-center gap-2 group",children:[w.jsx("span",{children:"Open tool"}),w.jsx("span",{className:"material-symbols-outlined transition-transform group-hover:translate-x-1",children:o?"open_in_new":"arrow_forward"})]})})]})]})}function VV(){const{user:i,userData:e}=Zi(),{activeTools:n,loading:s}=ly(),{labels:o,loading:u}=RV(),[c,m]=L.useState(""),[p,g]=L.useState([]),[E,T]=L.useState(null),S=z=>{g(z===null?[]:U=>U.includes(z)?U.filter($=>$!==z):[...U,z])},x=L.useMemo(()=>n.filter(U=>U.status==="published"||!U.status).filter(U=>{if(c){const $=c.toLowerCase(),X=U.name?.toLowerCase().includes($),ee=U.description?.toLowerCase().includes($),ae=U.shortDescription?.toLowerCase().includes($);if(!X&&!ee&&!ae)return!1}return!(p.length>0&&!U.labels?.some(X=>p.includes(X)))}),[n,c,p]),j=s||u;return w.jsxs("div",{className:"min-h-screen flex flex-col",children:[w.jsx(IV,{labels:o,selectedLabels:p,onToggleLabel:S,searchQuery:c,onSearchChange:m}),w.jsxs("main",{className:"flex-1 w-full pb-8",children:[i&&e?.favorites?.length>0&&w.jsx(NV,{tools:n,onSelect:T}),w.jsxs("section",{className:"mt-4",children:[w.jsx("div",{className:"px-4 mb-3 flex justify-between items-center",children:w.jsx("h2",{className:"text-xl font-bold tracking-tight",children:"Alle Tools"})}),w.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-7 gap-3 sm:gap-4 px-4 pb-24",children:j?[...Array(8)].map((z,U)=>w.jsxs("div",{className:"bg-card rounded-lg border border-theme overflow-hidden animate-pulse",children:[w.jsx("div",{className:"w-full h-20 bg-gray-200 dark:bg-gray-700"}),w.jsxs("div",{className:"p-3",children:[w.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-3/4"}),w.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-3 w-full"}),w.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-full"})]})]},U)):x.length===0?w.jsxs("div",{className:"col-span-full text-center py-12 text-secondary",children:[w.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 block",children:"search_off"}),w.jsx("p",{children:"Geen tools gevonden"}),c&&w.jsx("button",{onClick:()=>m(""),className:"mt-2 text-[#2860E0] hover:underline",children:"Wis zoekopdracht"})]}):x.map(z=>w.jsx(xV,{tool:z,onSelect:T},z.id))})]})]}),w.jsx(MV,{tool:E,onClose:()=>T(null)})]})}function PV(){const{signInWithEmail:i,registerWithEmail:e,resetPassword:n,authError:s,clearError:o}=Zi(),[u,c]=L.useState("login"),[m,p]=L.useState(""),[g,E]=L.useState(""),[T,S]=L.useState(""),[x,j]=L.useState(""),[z,U]=L.useState(!1),[$,X]=L.useState(null),[ee,ae]=L.useState(!1);L.useEffect(()=>{ae(!0)},[]);const me=H=>H?`${H}${Bi}`:"",pe=H=>{const re=H.target.value.replace(/[@\s]/g,"");p(re),$?.text?.includes("Gebruik alleen")&&X(null)},N=async H=>{if(H.preventDefault(),!m||!g){X({type:"error",text:"Vul alle velden in."});return}const re=me(m);if(!mf(re)){X({type:"error",text:"Alleen Stichting LVO-accounts zijn toegestaan"});return}U(!0),X(null);const ue=await i(re,g);U(!1),ue.success||(ue.needsVerification?X({type:"warning",text:ue.message}):X({type:"error",text:ue.message}))},R=async H=>{H.preventDefault();const re=me(m);if(!m||!g||!T){X({type:"error",text:"Vul alle velden in."});return}if(g!==T){X({type:"error",text:"Wachtwoorden komen niet overeen."});return}if(g.length<6){X({type:"error",text:"Wachtwoord moet minimaal 6 karakters zijn."});return}U(!0),X(null);const ue=await e(re,g,x);U(!1),ue.success?X({type:"success",text:ue.message}):X({type:"error",text:ue.message})},I=async H=>{if(H.preventDefault(),!m){X({type:"error",text:"Voer je gebruikersnaam in."});return}const re=me(m);U(!0),X(null);const ue=await n(re);U(!1),ue.success?X({type:"success",text:ue.message}):X({type:"error",text:ue.message})},k=H=>{c(H),X(null),o(),E(""),S("")},O="block text-sm font-medium mb-1 text-white/90",M="flex items-center w-full rounded-lg border border-white/20 bg-white/10 overflow-hidden focus-within:ring-2 focus-within:ring-[#2860E0] focus-within:border-transparent transition-all",C="flex-1 h-12 px-4 bg-transparent text-white outline-none placeholder-white/30",be="px-4 h-12 flex items-center bg-white/5 text-white/50 text-sm border-l border-white/10 select-none pointer-events-none",Te="w-full h-12 px-4 rounded-lg border border-white/20 bg-white/10 text-white placeholder-white/30 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent outline-none transition-all";return w.jsxs("div",{className:"min-h-screen w-full bg-[#0B2559] bg-cover bg-top flex items-center justify-center md:justify-end p-4 md:p-16 relative overflow-hidden",style:{backgroundImage:"url('/login-bg.jpg')"},children:[w.jsx("div",{className:"absolute inset-0 bg-black/10 pointer-events-none"}),w.jsxs("div",{className:`w-full max-w-[480px] bg-slate-900/60 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 relative z-10 text-white transition-all duration-700 transform ${ee?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2 tracking-tight",children:["Welkom bij",w.jsx("br",{}),w.jsx("span",{className:"text-[#4D8EFF]",children:"DaCapo Tools"})]}),w.jsx("p",{className:"text-lg text-white/70 font-light",children:"Alles voor onderwijs, op n plek."})]}),w.jsxs("div",{className:"space-y-6",children:[($||s)&&w.jsxs("div",{className:`p-3 rounded-lg text-sm flex items-start gap-2 ${$?.type==="success"?"bg-green-500/20 text-green-200":"bg-red-500/20 text-red-200"}`,children:[w.jsx("span",{className:"material-symbols-outlined text-lg",children:$?.type==="success"?"check_circle":"error"}),w.jsx("span",{children:$?.text||s})]}),u==="login"&&w.jsxs("form",{onSubmit:N,className:"space-y-5",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"username",className:O,children:"Gebruikersnaam"}),w.jsxs("div",{className:M,children:[w.jsx("input",{type:"text",id:"username",value:m,onChange:pe,placeholder:"v.achternaam",className:C,autoComplete:"username"}),w.jsx("div",{className:be,children:Bi})]}),w.jsxs("p",{className:"text-xs text-white/50 mt-1 ml-1",children:["Je hoeft geen ",Bi," te typen"]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:O,children:"Wachtwoord"}),w.jsx("input",{type:"password",id:"password",value:g,onChange:H=>E(H.target.value),className:Te,autoComplete:"current-password"}),w.jsx("div",{className:"flex justify-end mt-1",children:w.jsx("button",{type:"button",onClick:()=>k("forgot"),className:"text-xs text-[#4D8EFF] hover:text-[#7aaaff] transition-colors",children:"Wachtwoord vergeten?"})})]}),w.jsx("button",{type:"submit",disabled:z,className:"w-full h-12 bg-[#2860E0] hover:bg-[#326bf5] active:bg-[#1C4DAB] text-white font-bold rounded-lg transition-all shadow-lg hover:shadow-[#2860E0]/30 disabled:opacity-50 mt-2",children:z?"Inloggen...":"Inloggen"})]}),u==="register"&&w.jsxs("form",{onSubmit:R,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"displayName",className:O,children:"Naam (optioneel)"}),w.jsx("input",{type:"text",id:"displayName",value:x,onChange:H=>j(H.target.value),placeholder:"Je naam",className:Te})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"regUsername",className:O,children:"Gebruikersnaam"}),w.jsxs("div",{className:M,children:[w.jsx("input",{type:"text",id:"regUsername",value:m,onChange:pe,placeholder:"v.achternaam",className:C}),w.jsx("div",{className:be,children:Bi})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"regPassword",className:O,children:"Wachtwoord"}),w.jsx("input",{type:"password",id:"regPassword",value:g,onChange:H=>E(H.target.value),className:Te})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"confirmPassword",className:O,children:"Bevestig wachtwoord"}),w.jsx("input",{type:"password",id:"confirmPassword",value:T,onChange:H=>S(H.target.value),className:Te})]}),w.jsx("button",{type:"submit",disabled:z,className:"w-full h-12 bg-[#2860E0] hover:bg-[#326bf5] text-white font-bold rounded-lg transition-all shadow-lg mt-2 disabled:opacity-50",children:z?"Bezig...":"Registreren"})]}),u==="forgot"&&w.jsxs("form",{onSubmit:I,className:"space-y-4",children:[w.jsx("p",{className:"text-sm text-white/70",children:"Voer je gebruikersnaam in om je wachtwoord te resetten."}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"forgotUsername",className:O,children:"Gebruikersnaam"}),w.jsxs("div",{className:M,children:[w.jsx("input",{type:"text",id:"forgotUsername",value:m,onChange:pe,placeholder:"v.achternaam",className:C}),w.jsx("div",{className:be,children:Bi})]})]}),w.jsx("button",{type:"submit",disabled:z,className:"w-full h-12 bg-[#2860E0] hover:bg-[#326bf5] text-white font-bold rounded-lg transition-all shadow-lg mt-2 disabled:opacity-50",children:z?"Bezig...":"Verstuur reset link"})]}),w.jsxs("div",{className:"pt-6 border-t border-white/10 space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/50 text-sm",children:[w.jsx("span",{className:"material-symbols-outlined text-base",children:"lock"}),w.jsx("span",{children:"Alleen toegankelijk voor medewerkers van Stichting LVO"})]}),w.jsxs("div",{className:"text-center text-sm text-white/80",children:[u==="login"&&w.jsxs(w.Fragment,{children:["Nog geen account?"," ",w.jsx("button",{onClick:()=>k("register"),className:"text-[#4D8EFF] hover:text-white font-medium transition-colors",children:"Registreer direct"})]}),(u==="register"||u==="forgot")&&w.jsxs(w.Fragment,{children:["Heb je al een account?"," ",w.jsx("button",{onClick:()=>k("login"),className:"text-[#4D8EFF] hover:text-white font-medium transition-colors",children:"Inloggen"})]})]})]})]})]})]})}const LV=[{label:"Overzicht",path:"/admin",icon:"dashboard",end:!0},{label:"Tools",path:"/admin/tools",icon:"construction"},{label:"Gebruikers",path:"/admin/users",icon:"group"},{label:"Credits",path:"/admin/credits",icon:"payments"},{label:"Kosten",path:"/admin/costs",icon:"euro"},{label:"Labels & Metadata",path:"/admin/labels",icon:"label"},{label:"Rapportages",path:"/admin/reports",icon:"description"},{label:"Nieuwsbrief Analytics",path:"/admin/analytics/nieuwsbrief",icon:"mail"}];function UV(){const{userRole:i,isSupervisor:e,userData:n}=Zi();return w.jsxs("aside",{className:"w-48 md:w-64 bg-card border-r border-theme flex flex-col shrink-0 hidden sm:flex",children:[w.jsx("div",{className:"p-4 border-b border-theme",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"size-10 bg-amber-500 rounded-lg flex items-center justify-center text-white",children:w.jsx("span",{className:"material-symbols-outlined",children:"admin_panel_settings"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"font-bold text-lg",children:"Admin"}),w.jsx("p",{className:"text-xs text-secondary",children:"DaCapo Tools"})]})]})}),w.jsxs("div",{className:"px-4 py-3 border-b border-theme",children:[w.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium ${e?"bg-purple-500/10 text-purple-600 dark:text-purple-400":"bg-blue-500/10 text-blue-600 dark:text-blue-400"}`,children:[w.jsx("span",{className:"material-symbols-outlined text-sm",children:e?"shield_person":"verified_user"}),e?"Supervisor":"Admin"]}),!e&&w.jsx("p",{className:"text-xs text-secondary mt-2",children:"Alleen-lezen toegang"})]}),w.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto",children:LV.map(s=>w.jsxs(n0,{to:s.path,end:s.end,className:({isActive:o})=>`
                            flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors
                            ${o?"bg-primary text-white":"text-primary hover:bg-[var(--bg-surface-hover)]"}
                        `,children:[w.jsx("span",{className:"material-symbols-outlined text-xl",children:s.icon}),w.jsx("span",{className:"font-medium",children:s.label})]},s.path))}),w.jsx("div",{className:"p-4 border-t border-theme",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"size-9 rounded-full bg-[#2860E0] flex items-center justify-center text-white text-sm font-medium",children:(n?.displayName||n?.email||"?").charAt(0).toUpperCase()}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("p",{className:"text-sm font-medium truncate",children:n?.displayName||"Gebruiker"}),w.jsx("p",{className:"text-xs text-secondary truncate",children:n?.email})]})]})})]})}const Lb={"/admin":"Overzicht","/admin/tools":"Tools","/admin/tools/new":"Nieuwe Tool","/admin/users":"Gebruikers","/admin/credits":"Credits","/admin/costs":"Kosten","/admin/labels":"Labels & Metadata","/admin/reports":"Rapportages"};function jV(){const{isDarkMode:i,toggleTheme:e}=ig(),n=Wi(),s=()=>Lb[n.pathname]?Lb[n.pathname]:n.pathname.startsWith("/admin/tools/")?"Tool Bewerken":"Admin Dashboard";return w.jsx("header",{className:"sticky top-0 z-40 bg-card/95 backdrop-blur-md border-b border-theme",children:w.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx(Eu,{to:"/",className:"flex items-center justify-center size-10 rounded-full hover:bg-[var(--bg-surface-hover)] transition-colors",title:"Terug naar App",children:w.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-lg font-bold",children:s()}),w.jsx("p",{className:"text-xs text-secondary",children:"Admin Dashboard"})]})]}),w.jsx("div",{className:"flex items-center gap-2",children:w.jsx("button",{onClick:e,className:"flex items-center justify-center size-10 rounded-full hover:bg-[var(--bg-surface-hover)] transition-colors","aria-label":i?"Schakel naar light mode":"Schakel naar dark mode",children:w.jsx("span",{className:"material-symbols-outlined",children:i?"light_mode":"dark_mode"})})})]})})}function zV(){const{user:i,userRole:e,loading:n}=Zi(),s=Wi();return n?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"material-symbols-outlined text-4xl animate-spin text-[#2860E0]",children:"sync"}),w.jsx("p",{className:"mt-2 text-secondary",children:"Laden..."})]})}):i?e==="user"?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:w.jsxs("div",{className:"text-center max-w-md px-4",children:[w.jsx("span",{className:"material-symbols-outlined text-6xl text-red-500",children:"block"}),w.jsx("h1",{className:"text-2xl font-bold mt-4",children:"Geen toegang"}),w.jsx("p",{className:"text-secondary mt-2",children:"Je hebt geen rechten om het admin dashboard te bekijken."}),w.jsxs("a",{href:"/",className:"inline-flex items-center gap-2 mt-6 px-4 py-2 bg-[#2860E0] text-white rounded-lg hover:bg-[#1C4DAB] transition-colors",children:[w.jsx("span",{className:"material-symbols-outlined text-xl",children:"home"}),"Terug naar home"]})]})}):w.jsxs("div",{className:"min-h-screen flex bg-gray-50 dark:bg-gray-900",children:[w.jsx(UV,{}),w.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[w.jsx(jV,{}),w.jsx("main",{className:"flex-1 p-6 overflow-auto",children:w.jsx(q1,{})})]})]}):w.jsx(B1,{to:"/",state:{from:s},replace:!0})}const BV=L.lazy(()=>Xi(()=>import("./AdminOverview-DCdkv6jq.js"),__vite__mapDeps([0,1]))),qV=L.lazy(()=>Xi(()=>import("./AdminTools-C5rqTt9o.js"),[])),Ub=L.lazy(()=>Xi(()=>import("./AdminToolForm-C4ADzcr7.js"),[])),HV=L.lazy(()=>Xi(()=>import("./AdminUsers-CSi5_J7z.js"),[])),FV=L.lazy(()=>Xi(()=>import("./AdminCredits-Brrp_Ocr.js"),__vite__mapDeps([2,1]))),GV=L.lazy(()=>Xi(()=>import("./AdminCosts-CdOvwrEk.js"),__vite__mapDeps([3,1]))),KV=L.lazy(()=>Xi(()=>import("./AdminLabels-DrQQoTuS.js"),[])),QV=L.lazy(()=>Xi(()=>import("./AdminReports-CGpyZAIj.js"),__vite__mapDeps([4,1]))),YV=L.lazy(()=>Xi(()=>import("./AdminNewsletterAnalytics-CpKnBuVq.js"),[])),$V=L.lazy(()=>Xi(()=>import("./AdminUserDetail-Da36Ynm4.js"),__vite__mapDeps([5,1])));function fi(){return w.jsx("div",{className:"flex items-center justify-center py-12",children:w.jsx("span",{className:"material-symbols-outlined text-4xl animate-spin text-[#2860E0]",children:"sync"})})}function XV({children:i}){const{user:e,loading:n}=Zi();return n?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"size-16 bg-[#2860E0] rounded-xl flex items-center justify-center text-white font-bold text-2xl shadow-lg mx-auto mb-4",children:"DC"}),w.jsx("span",{className:"material-symbols-outlined text-4xl animate-spin text-[#2860E0]",children:"sync"}),w.jsx("p",{className:"text-secondary mt-2 text-sm",children:"Laden..."})]})}):e?i:w.jsx(PV,{})}function WV(){return w.jsx(mC,{children:w.jsx(wC,{children:w.jsx(wV,{children:w.jsx(XV,{children:w.jsxs(F1,{children:[w.jsx(gn,{path:"/",element:w.jsx(VV,{})}),w.jsxs(gn,{path:"/admin",element:w.jsx(zV,{}),children:[w.jsx(gn,{index:!0,element:w.jsx(L.Suspense,{fallback:w.jsx(fi,{}),children:w.jsx(BV,{})})}),w.jsx(gn,{path:"tools",element:w.jsx(L.Suspense,{fallback:w.jsx(fi,{}),children:w.jsx(qV,{})})}),w.jsx(gn,{path:"tools/:id",element:w.jsx(L.Suspense,{fallback:w.jsx(fi,{}),children:w.jsx(Ub,{})})}),w.jsx(gn,{path:"tools/new",element:w.jsx(L.Suspense,{fallback:w.jsx(fi,{}),children:w.jsx(Ub,{})})}),w.jsx(gn,{path:"users",element:w.jsx(L.Suspense,{fallback:w.jsx(fi,{}),children:w.jsx(HV,{})})}),w.jsx(gn,{path:"users/:userId",element:w.jsx(L.Suspense,{fallback:w.jsx(fi,{}),children:w.jsx($V,{})})}),w.jsx(gn,{path:"credits",element:w.jsx(L.Suspense,{fallback:w.jsx(fi,{}),children:w.jsx(FV,{})})}),w.jsx(gn,{path:"costs",element:w.jsx(L.Suspense,{fallback:w.jsx(fi,{}),children:w.jsx(GV,{})})}),w.jsx(gn,{path:"labels",element:w.jsx(L.Suspense,{fallback:w.jsx(fi,{}),children:w.jsx(KV,{})})}),w.jsx(gn,{path:"reports",element:w.jsx(L.Suspense,{fallback:w.jsx(fi,{}),children:w.jsx(QV,{})})}),w.jsx(gn,{path:"analytics/nieuwsbrief",element:w.jsx(L.Suspense,{fallback:w.jsx(fi,{}),children:w.jsx(YV,{})})})]})]})})})})})}BR.createRoot(document.getElementById("root")).render(w.jsx(L.StrictMode,{children:w.jsx(WV,{})}));export{Sb as A,ZA as B,Ik as C,AV as E,Eu as L,JA as P,ly as a,RV as b,a4 as c,s4 as d,i4 as e,tS as f,r4 as g,JV as h,uy as i,w as j,gf as k,eS as l,di as m,Dn as n,Ab as o,mp as p,n4 as q,L as r,l4 as s,o4 as t,Zi as u,c4 as v,u4 as w,Ck as x,e4 as y,t4 as z};

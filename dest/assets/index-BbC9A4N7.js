const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminOverview-BCbHaYRs.js","assets/appCredits-BTE18CD5.js","assets/AdminCredits-fhDwy-Xs.js","assets/CreditService-8IVdtZrX.js","assets/AdminCosts-DRiSHUIj.js","assets/AdminReports-Btr-7BiC.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Vm={exports:{}},Zl={};var EE;function pR(){if(EE)return Zl;EE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var TE;function gR(){return TE||(TE=1,Vm.exports=pR()),Vm.exports}var R=gR(),Pm={exports:{}},Ae={};var bE;function yR(){if(bE)return Ae;bE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,P={};function Y(V,te,oe){this.props=V,this.context=te,this.refs=P,this.updater=oe||U}Y.prototype.isReactComponent={},Y.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},Y.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=Y.prototype;function ne(V,te,oe){this.props=V,this.context=te,this.refs=P,this.updater=oe||U}var se=ne.prototype=new Z;se.constructor=ne,z(se,Y.prototype),se.isPureReactComponent=!0;var de=Array.isArray;function me(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(V,te,oe){var ce=oe.ref;return{$$typeof:i,type:V,key:te,ref:ce!==void 0?ce:null,props:oe}}function x(V,te){return I(V.type,te,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function B(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return te[oe]})}var D=/\/+/g;function at(V,te){return typeof V=="object"&&V!==null&&V.key!=null?B(""+V.key):te.toString(36)}function kt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(me,me):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,te,oe,ce,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Ce){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case i:case e:Le=!0;break;case E:return Le=V._init,$(Le(V._payload),te,oe,ce,Te)}}if(Le)return Te=Te(V),Le=ce===""?"."+at(V,0):ce,de(Te)?(oe="",Le!=null&&(oe=Le.replace(D,"$&/")+"/"),$(Te,te,oe,"",function(ks){return ks})):Te!=null&&(M(Te)&&(Te=x(Te,oe+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+Le)),te.push(Te)),1;Le=0;var Vt=ce===""?".":ce+":";if(de(V))for(var ot=0;ot<V.length;ot++)ce=V[ot],Ce=Vt+at(ce,ot),Le+=$(ce,te,oe,Ce,Te);else if(ot=N(V),typeof ot=="function")for(V=ot.call(V),ot=0;!(ce=V.next()).done;)ce=ce.value,Ce=Vt+at(ce,ot++),Le+=$(ce,te,oe,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return $(kt(V),te,oe,ce,Te);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(V,te,oe){if(V==null)return V;var ce=[],Te=0;return $(V,ce,"","",function(Ce){return te.call(oe,Ce,Te++)}),ce}function ye(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:ae,forEach:function(V,te,oe){ae(V,function(){te.apply(this,arguments)},oe)},count:function(V){var te=0;return ae(V,function(){te++}),te},toArray:function(V){return ae(V,function(te){return te})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=T,Ae.Children=Ge,Ae.Component=Y,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ne,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,te,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=z({},V.props),Te=V.key;if(te!=null)for(Ce in te.key!==void 0&&(Te=""+te.key),te)!w.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(ce[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=oe;else if(1<Ce){for(var Le=Array(Ce),Vt=0;Vt<Ce;Vt++)Le[Vt]=arguments[Vt+2];ce.children=Le}return I(V.type,Te,ce)},Ae.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ae.createElement=function(V,te,oe){var ce,Te={},Ce=null;if(te!=null)for(ce in te.key!==void 0&&(Ce=""+te.key),te)w.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=te[ce]);var Le=arguments.length-2;if(Le===1)Te.children=oe;else if(1<Le){for(var Vt=Array(Le),ot=0;ot<Le;ot++)Vt[ot]=arguments[ot+2];Te.children=Vt}if(V&&V.defaultProps)for(ce in Le=V.defaultProps,Le)Te[ce]===void 0&&(Te[ce]=Le[ce]);return I(V,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:m,render:V}},Ae.isValidElement=M,Ae.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ye}},Ae.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},Ae.startTransition=function(V){var te=C.T,oe={};C.T=oe;try{var ce=V(),Te=C.S;Te!==null&&Te(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(me,je)}catch(Ce){je(Ce)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),C.T=te}},Ae.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ae.use=function(V){return C.H.use(V)},Ae.useActionState=function(V,te,oe){return C.H.useActionState(V,te,oe)},Ae.useCallback=function(V,te){return C.H.useCallback(V,te)},Ae.useContext=function(V){return C.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,te){return C.H.useDeferredValue(V,te)},Ae.useEffect=function(V,te){return C.H.useEffect(V,te)},Ae.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Ae.useId=function(){return C.H.useId()},Ae.useImperativeHandle=function(V,te,oe){return C.H.useImperativeHandle(V,te,oe)},Ae.useInsertionEffect=function(V,te){return C.H.useInsertionEffect(V,te)},Ae.useLayoutEffect=function(V,te){return C.H.useLayoutEffect(V,te)},Ae.useMemo=function(V,te){return C.H.useMemo(V,te)},Ae.useOptimistic=function(V,te){return C.H.useOptimistic(V,te)},Ae.useReducer=function(V,te,oe){return C.H.useReducer(V,te,oe)},Ae.useRef=function(V){return C.H.useRef(V)},Ae.useState=function(V){return C.H.useState(V)},Ae.useSyncExternalStore=function(V,te,oe){return C.H.useSyncExternalStore(V,te,oe)},Ae.useTransition=function(){return C.H.useTransition()},Ae.version="19.2.3",Ae}var AE;function Vp(){return AE||(AE=1,Pm.exports=yR()),Pm.exports}var L=Vp(),Lm={exports:{}},eu={},Um={exports:{}},jm={};var SE;function _R(){return SE||(SE=1,(function(i){function e($,ae){var ye=$.length;$.push(ae);e:for(;0<ye;){var je=ye-1>>>1,Ge=$[je];if(0<o(Ge,ae))$[je]=ae,$[ye]=Ge,ye=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],ye=$.pop();if(ye!==ae){$[0]=ye;e:for(var je=0,Ge=$.length,V=Ge>>>1;je<V;){var te=2*(je+1)-1,oe=$[te],ce=te+1,Te=$[ce];if(0>o(oe,ye))ce<Ge&&0>o(Te,oe)?($[je]=Te,$[ce]=ye,je=ce):($[je]=oe,$[te]=ye,je=te);else if(ce<Ge&&0>o(Te,ye))$[je]=Te,$[ce]=ye,je=ce;else break e}}return ae}function o($,ae){var ye=$.sortIndex-ae.sortIndex;return ye!==0?ye:$.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,S=3,N=!1,U=!1,z=!1,P=!1,Y=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function se($){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=$)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function de($){if(z=!1,se($),!U)if(n(p)!==null)U=!0,me||(me=!0,B());else{var ae=n(g);ae!==null&&kt(de,ae.startTime-$)}}var me=!1,C=-1,w=5,I=-1;function x(){return P?!0:!(i.unstable_now()-I<w)}function M(){if(P=!1,me){var $=i.unstable_now();I=$;var ae=!0;try{e:{U=!1,z&&(z=!1,Z(C),C=-1),N=!0;var ye=S;try{t:{for(se($),T=n(p);T!==null&&!(T.expirationTime>$&&x());){var je=T.callback;if(typeof je=="function"){T.callback=null,S=T.priorityLevel;var Ge=je(T.expirationTime<=$);if($=i.unstable_now(),typeof Ge=="function"){T.callback=Ge,se($),ae=!0;break t}T===n(p)&&s(p),se($)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var V=n(g);V!==null&&kt(de,V.startTime-$),ae=!1}}break e}finally{T=null,S=ye,N=!1}ae=void 0}}finally{ae?B():me=!1}}}var B;if(typeof ne=="function")B=function(){ne(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,at=D.port2;D.port1.onmessage=M,B=function(){at.postMessage(null)}}else B=function(){Y(M,0)};function kt($,ae){C=Y(function(){$(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function($){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var ye=S;S=ae;try{return $()}finally{S=ye}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ye=S;S=$;try{return ae()}finally{S=ye}},i.unstable_scheduleCallback=function($,ae,ye){var je=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?je+ye:je):ye=je,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ye+Ge,$={id:E++,callback:ae,priorityLevel:$,startTime:ye,expirationTime:Ge,sortIndex:-1},ye>je?($.sortIndex=ye,e(g,$),n(p)===null&&$===n(g)&&(z?(Z(C),C=-1):z=!0,kt(de,ye-je))):($.sortIndex=Ge,e(p,$),U||N||(U=!0,me||(me=!0,B()))),$},i.unstable_shouldYield=x,i.unstable_wrapCallback=function($){var ae=S;return function(){var ye=S;S=ae;try{return $.apply(this,arguments)}finally{S=ye}}}})(jm)),jm}var wE;function vR(){return wE||(wE=1,Um.exports=_R()),Um.exports}var zm={exports:{}},Jt={};var RE;function ER(){if(RE)return Jt;RE=1;var i=Vp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Jt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var CE;function TR(){if(CE)return zm.exports;CE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zm.exports=ER(),zm.exports}var IE;function bR(){if(IE)return eu;IE=1;var i=vR(),e=Vp(),n=TR();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case Y:return"Profiler";case P:return"StrictMode";case de:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case ne:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:at(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return at(t(r))}catch{}}return null}var kt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function V(t){return{current:t}}function te(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function oe(t,r){Ge++,je[Ge]=t.current,t.current=r}var ce=V(null),Te=V(null),Ce=V(null),Le=V(null);function Vt(t,r){switch(oe(Ce,r),oe(Te,t),oe(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Hv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Hv(r),t=Fv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ce),oe(ce,t)}function ot(){te(ce),te(Te),te(Ce)}function ks(t){t.memoizedState!==null&&oe(Le,t);var r=ce.current,a=Fv(r,t.type);r!==a&&(oe(Te,t),oe(ce,a))}function Na(t){Te.current===t&&(te(ce),te(Te)),Le.current===t&&(te(Le),Xl._currentValue=ye)}var Da,Oa;function fi(t){if(Da===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Da=r&&r[1]||"",Oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+t+Oa}var Xo=!1;function Vs(t,r){if(!t||Xo)return"";Xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var G=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){G=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var O=_.split(`
`),F=b.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===F.length)for(l=O.length-1,f=F.length-1;1<=l&&0<=f&&O[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==F[f]){var X=`
`+O[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Xo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fi(a):""}function $o(t,r){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return t.child!==r&&r!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Vs(t.type,!1);case 11:return Vs(t.type.render,!1);case 1:return Vs(t.type,!0);case 31:return fi("Activity");default:return""}}function Wo(t){try{var r="",a=null;do r+=$o(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Pt=i.unstable_scheduleCallback,Dr=i.unstable_cancelCallback,Lf=i.unstable_shouldYield,Fu=i.unstable_requestPaint,rn=i.unstable_now,Ps=i.unstable_getCurrentPriorityLevel,Jo=i.unstable_ImmediatePriority,Zo=i.unstable_UserBlockingPriority,Or=i.unstable_NormalPriority,Uf=i.unstable_LowPriority,Gu=i.unstable_IdlePriority,Ku=i.log,Qu=i.unstable_setDisableYieldValue,Wn=null,Ht=null;function Mn(t){if(typeof Ku=="function"&&Qu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Wn,t)}catch{}}var yt=Math.clz32?Math.clz32:Xu,Yu=Math.log,Ma=Math.LN2;function Xu(t){return t>>>=0,t===0?32:31-(Yu(t)/Ma|0)|0}var di=256,Ls=262144,At=4194304;function mi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=mi(l):(_&=b,_!==0?f=mi(_):a||(a=b&~t,a!==0&&(f=mi(a))))):(b=l&~d,b!==0?f=mi(b):_!==0?f=mi(_):a||(a=l&~t,a!==0&&(f=mi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Jn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function jf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $u(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function gi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Us(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-yt(a),ee=1<<X;b[X]=0,O[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var Q=G[X];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&js(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function js(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-yt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function el(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-yt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function tl(t,r){var a=r&-r;return a=(a&42)!==0?1:zs(a),(a&(t.suspendedLanes|r))!==0?0:a}function zs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:dE(t.type))}function Zn(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var ei=Math.random().toString(36).slice(2),St="__reactFiber$"+ei,jt="__reactProps$"+ei,yi="__reactContainer$"+ei,ka="__reactEvents$"+ei,Bf="__reactListeners$"+ei,Ju="__reactHandles$"+ei,Zu="__reactResources$"+ei,_i="__reactMarker$"+ei;function Va(t){delete t[St],delete t[jt],delete t[ka],delete t[Bf],delete t[Ju]}function vi(t){var r=t[St];if(r)return r;for(var a=t.parentNode;a;){if(r=a[yi]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Wv(t);t!==null;){if(a=t[St])return a;t=Wv(t)}return r}t=a,a=t.parentNode}return null}function kn(t){if(t=t[St]||t[yi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function vn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ei(t){var r=t[Zu];return r||(r=t[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function wt(t){t[_i]=!0}var nl=new Set,il={};function Ti(t,r){bi(t,r),bi(t+"Capture",r)}function bi(t,r){for(il[t]=r,t=0;t<r.length;t++)nl.add(r[t])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},al={};function ec(t){return bt.call(al,t)?!0:bt.call(sl,t)?!1:rl.test(t)?al[t]=!0:(sl[t]=!0,!1)}function Pa(t,r,a){if(ec(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function En(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Rt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ol(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ke(t){if(!t._valueTracker){var r=Mr(t)?"checked":"value";t._valueTracker=ol(t,r,""+t[r])}}function Bs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Mr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qs=/[\n"\\]/g;function un(t){return t.replace(qs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function La(t,r,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?ll(t,_,zt(r)):a!=null?ll(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+zt(b):t.removeAttribute("name")}function tc(t,r,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ke(t);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function ll(t,r,a){r==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function nc(t,r,a){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+zt(a):""}function Vr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(kt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function cn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ic.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function cl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&ul(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&ul(t,d,r[d])}function Ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return Pr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var hl=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,Si=null;function Hs(t){var r=kn(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(La(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));La(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Bs(l)}break e;case"textarea":nc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&kr(t,!!a.multiple,r,!1)}}}var za=!1;function Ur(t,r,a){if(za)return t(r,a);za=!0;try{var l=t(r);return l}finally{if(za=!1,(Lr!==null||Si!==null)&&(Wc(),Lr&&(r=Lr,t=Si,Si=Lr=null,Hs(r),t)))for(r=0;r<t.length;r++)Hs(t[r])}}function ni(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fs=!1;if(Pn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Fs=!1}var wi=null,fl=null,Gs=null;function dl(){if(Gs)return Gs;var t,r=fl,a=r.length,l,f="value"in wi?wi.value:wi.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Gs=f.slice(t,1<l?1-l:void 0)}function Ks(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function ii(){return!1}function Ft(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xi:ii,this.isPropagationStopped=ii,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),r}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ft($i),jr=T({},$i,{view:0,detail:0}),ml=Ft(jr),zr,Ba,Ci,qa=T({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(zr=t.screenX-Ci.screenX,Ba=t.screenY-Ci.screenY):Ba=zr=0,Ci=t),zr)},movementY:function(t){return"movementY"in t?t.movementY:Ba}}),pl=Ft(qa),Qs=T({},qa,{dataTransfer:0}),sc=Ft(Qs),ac=T({},jr,{relatedTarget:0}),Ys=Ft(ac),gl=T({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),oc=Ft(gl),Ha=T({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lc=Ft(Ha),uc=T({},$i,{data:0}),Ii=Ft(uc),cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=fc[t])?!!r[t]:!1}function Br(){return dc}var sn=T({},jr,{key:function(t){if(t.key){var r=cc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(t){return t.type==="keypress"?Ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mc=Ft(sn),pc=T({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Ft(pc),c=T({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),y=Ft(c),v=T({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ft(v),q=T({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ft(q),re=T({},$i,{newState:0,oldState:0}),we=Ft(re),_t=[9,13,27,32],qe=Pn&&"CompositionEvent"in window,lt=null;Pn&&"documentMode"in document&&(lt=document.documentMode);var Ln=Pn&&"TextEvent"in window&&!lt,xi=Pn&&(!qe||lt&&8<lt&&11>=lt),ri=" ",si=!1;function Xs(t,r){switch(t){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function jS(t,r){switch(t){case"compositionend":return Fa(r);case"keypress":return r.which!==32?null:(si=!0,ri);case"textInput":return t=r.data,t===ri&&si?null:t;default:return null}}function zS(t,r){if(Ga)return t==="compositionend"||!qe&&Xs(t,r)?(t=dl(),Gs=fl=wi=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xi&&r.locale!=="ko"?null:r.data;default:return null}}var BS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ey(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!BS[t.type]:r==="textarea"}function ty(t,r,a,l){Lr?Si?Si.push(l):Si=[l]:Lr=l,r=rh(r,"onChange"),0<r.length&&(a=new Ri("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var yl=null,_l=null;function qS(t){Lv(t,0)}function gc(t){var r=vn(t);if(Bs(r))return t}function ny(t,r){if(t==="change")return r}var iy=!1;if(Pn){var qf;if(Pn){var Hf="oninput"in document;if(!Hf){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Hf=typeof ry.oninput=="function"}qf=Hf}else qf=!1;iy=qf&&(!document.documentMode||9<document.documentMode)}function sy(){yl&&(yl.detachEvent("onpropertychange",ay),_l=yl=null)}function ay(t){if(t.propertyName==="value"&&gc(_l)){var r=[];ty(r,_l,t,Vn(t)),Ur(qS,r)}}function HS(t,r,a){t==="focusin"?(sy(),yl=r,_l=a,yl.attachEvent("onpropertychange",ay)):t==="focusout"&&sy()}function FS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gc(_l)}function GS(t,r){if(t==="click")return gc(r)}function KS(t,r){if(t==="input"||t==="change")return gc(r)}function QS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Tn=typeof Object.is=="function"?Object.is:QS;function vl(t,r){if(Tn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(r,f)||!Tn(t[f],r[f]))return!1}return!0}function oy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ly(t,r){var a=oy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oy(a)}}function uy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?uy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function cy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ai(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ai(t.document)}return r}function Ff(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var YS=Pn&&"documentMode"in document&&11>=document.documentMode,Ka=null,Gf=null,El=null,Kf=!1;function hy(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kf||Ka==null||Ka!==Ai(l)||(l=Ka,"selectionStart"in l&&Ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),El&&vl(El,l)||(El=l,l=rh(Gf,"onSelect"),0<l.length&&(r=new Ri("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ka)))}function $s(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Qa={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Qf={},fy={};Pn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Ws(t){if(Qf[t])return Qf[t];if(!Qa[t])return t;var r=Qa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in fy)return Qf[t]=r[a];return t}var dy=Ws("animationend"),my=Ws("animationiteration"),py=Ws("animationstart"),XS=Ws("transitionrun"),$S=Ws("transitionstart"),WS=Ws("transitioncancel"),gy=Ws("transitionend"),yy=new Map,Yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yf.push("scrollEnd");function ai(t,r){yy.set(t,r),Ti(r,[t])}var yc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Ya=0,Xf=0;function _c(){for(var t=Ya,r=Xf=Ya=0;r<t;){var a=Un[r];Un[r++]=null;var l=Un[r];Un[r++]=null;var f=Un[r];Un[r++]=null;var d=Un[r];if(Un[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&_y(a,f,d)}}function vc(t,r,a,l){Un[Ya++]=t,Un[Ya++]=r,Un[Ya++]=a,Un[Ya++]=l,Xf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $f(t,r,a,l){return vc(t,r,a,l),Ec(t)}function Js(t,r){return vc(t,null,null,r),Ec(t)}function _y(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-yt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ec(t){if(50<ql)throw ql=0,sm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Xa={};function JS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,r,a,l){return new JS(t,r,a,l)}function Wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,r){var a=t.alternate;return a===null?(a=bn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Tc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")Wf(t)&&(_=1);else if(typeof t=="string")_=iR(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=bn(31,a,r,f),t.elementType=I,t.lanes=d,t;case z:return Zs(a.children,f,d,r);case P:_=8,f|=24;break;case Y:return t=bn(12,a,r,f|2),t.elementType=Y,t.lanes=d,t;case de:return t=bn(13,a,r,f),t.elementType=de,t.lanes=d,t;case me:return t=bn(19,a,r,f),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:_=10;break e;case Z:_=9;break e;case se:_=11;break e;case C:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=bn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Zs(t,r,a,l){return t=bn(7,t,l,r),t.lanes=a,t}function Jf(t,r,a){return t=bn(6,t,null,r),t.lanes=a,t}function Ey(t){var r=bn(18,null,null,0);return r.stateNode=t,r}function Zf(t,r,a){return r=bn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ty=new WeakMap;function jn(t,r){if(typeof t=="object"&&t!==null){var a=Ty.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Wo(r)},Ty.set(t,r),r)}return{value:t,source:r,stack:Wo(r)}}var $a=[],Wa=0,bc=null,Tl=0,zn=[],Bn=0,qr=null,Ni=1,Di="";function Zi(t,r){$a[Wa++]=Tl,$a[Wa++]=bc,bc=t,Tl=r}function by(t,r,a){zn[Bn++]=Ni,zn[Bn++]=Di,zn[Bn++]=qr,qr=t;var l=Ni;t=Di;var f=32-yt(l)-1;l&=~(1<<f),a+=1;var d=32-yt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ni=1<<32-yt(r)+f|a<<f|l,Di=d+t}else Ni=1<<d|a<<f|l,Di=t}function ed(t){t.return!==null&&(Zi(t,1),by(t,1,0))}function td(t){for(;t===bc;)bc=$a[--Wa],$a[Wa]=null,Tl=$a[--Wa],$a[Wa]=null;for(;t===qr;)qr=zn[--Bn],zn[Bn]=null,Di=zn[--Bn],zn[Bn]=null,Ni=zn[--Bn],zn[Bn]=null}function Ay(t,r){zn[Bn++]=Ni,zn[Bn++]=Di,zn[Bn++]=qr,Ni=r.id,Di=r.overflow,qr=t}var Gt=null,tt=null,Pe=!1,Hr=null,qn=!1,nd=Error(s(519));function Fr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(jn(r,t)),nd}function Sy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[St]=t,r[jt]=l,a){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(a=0;a<Fl.length;a++)Ne(Fl[a],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Ne("invalid",r),tc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",r);break;case"textarea":Ne("invalid",r),Vr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Bv(r.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",r),Ne("toggle",r)),l.onScroll!=null&&Ne("scroll",r),l.onScrollEnd!=null&&Ne("scrollend",r),l.onClick!=null&&(r.onclick=ti),r=!0):r=!1,r||Fr(t,!0)}function wy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Gt=Gt.return}}function Ja(t){if(t!==Gt)return!1;if(!Pe)return wy(t),Pe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Em(t.type,t.memoizedProps)),a=!a),a&&tt&&Fr(t),wy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=$v(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=$v(t)}else r===27?(r=tt,rs(t.type)?(t=wm,wm=null,tt=t):tt=r):tt=Gt?Fn(t.stateNode.nextSibling):null;return!0}function ea(){tt=Gt=null,Pe=!1}function id(){var t=Hr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Hr=null),t}function bl(t){Hr===null?Hr=[t]:Hr.push(t)}var rd=V(null),ta=null,er=null;function Gr(t,r,a){oe(rd,r._currentValue),r._currentValue=a}function tr(t){t._currentValue=rd.current,te(rd)}function sd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ad(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var O=0;O<r.length;O++)if(b.context===r[O]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),sd(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),sd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Za(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;Tn(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===Le.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Xl):t=[Xl])}f=f.return}t!==null&&ad(r,t,a,l),r.flags|=262144}function Ac(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function na(t){ta=t,er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Ry(ta,t)}function Sc(t,r){return ta===null&&na(t),Ry(t,r)}function Ry(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},er===null){if(t===null)throw Error(s(308));er=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else er=er.next=r;return a}var ZS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},ew=i.unstable_scheduleCallback,tw=i.unstable_NormalPriority,Ct={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new ZS,data:new Map,refCount:0}}function Al(t){t.refCount--,t.refCount===0&&ew(tw,function(){t.controller.abort()})}var Sl=null,ld=0,eo=0,to=null;function nw(t,r){if(Sl===null){var a=Sl=[];ld=0,eo=hm(),to={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ld++,r.then(Cy,Cy),r}function Cy(){if(--ld===0&&Sl!==null){to!==null&&(to.status="fulfilled");var t=Sl;Sl=null,eo=0,to=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function iw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Iy=$.S;$.S=function(t,r){hv=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&nw(t,r),Iy!==null&&Iy(t,r)};var ia=V(null);function ud(){var t=ia.current;return t!==null?t:Ze.pooledCache}function wc(t,r){r===null?oe(ia,ia.current):oe(ia,r.pool)}function xy(){var t=ud();return t===null?null:{parent:Ct._currentValue,pool:t}}var no=Error(s(460)),cd=Error(s(474)),Rc=Error(s(542)),Cc={then:function(){}};function Ny(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Dy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ti,ti),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,My(t),t;default:if(typeof r.status=="string")r.then(ti,ti);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,My(t),t}throw sa=r,no}}function ra(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sa=a,no):a}}var sa=null;function Oy(){if(sa===null)throw Error(s(459));var t=sa;return sa=null,t}function My(t){if(t===no||t===Rc)throw Error(s(483))}var io=null,wl=0;function Ic(t){var r=wl;return wl+=1,io===null&&(io=[]),Dy(io,t,r)}function Rl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function xc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ky(t){function r(j,k){if(t){var H=j.deletions;H===null?(j.deletions=[k],j.flags|=16):H.push(k)}}function a(j,k){if(!t)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=Ji(j,k),j.index=0,j.sibling=null,j}function d(j,k,H){return j.index=H,t?(H=j.alternate,H!==null?(H=H.index,H<k?(j.flags|=67108866,k):H):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,k,H,W){return k===null||k.tag!==6?(k=Jf(H,j.mode,W),k.return=j,k):(k=f(k,H),k.return=j,k)}function O(j,k,H,W){var pe=H.type;return pe===z?X(j,k,H.props.children,W,H.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&ra(pe)===k.type)?(k=f(k,H.props),Rl(k,H),k.return=j,k):(k=Tc(H.type,H.key,H.props,null,j.mode,W),Rl(k,H),k.return=j,k)}function F(j,k,H,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Zf(H,j.mode,W),k.return=j,k):(k=f(k,H.children||[]),k.return=j,k)}function X(j,k,H,W,pe){return k===null||k.tag!==7?(k=Zs(H,j.mode,W,pe),k.return=j,k):(k=f(k,H),k.return=j,k)}function ee(j,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Jf(""+k,j.mode,H),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case N:return H=Tc(k.type,k.key,k.props,null,j.mode,H),Rl(H,k),H.return=j,H;case U:return k=Zf(k,j.mode,H),k.return=j,k;case w:return k=ra(k),ee(j,k,H)}if(kt(k)||B(k))return k=Zs(k,j.mode,H,null),k.return=j,k;if(typeof k.then=="function")return ee(j,Ic(k),H);if(k.$$typeof===ne)return ee(j,Sc(j,k),H);xc(j,k)}return null}function G(j,k,H,W){var pe=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:b(j,k,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case N:return H.key===pe?O(j,k,H,W):null;case U:return H.key===pe?F(j,k,H,W):null;case w:return H=ra(H),G(j,k,H,W)}if(kt(H)||B(H))return pe!==null?null:X(j,k,H,W,null);if(typeof H.then=="function")return G(j,k,Ic(H),W);if(H.$$typeof===ne)return G(j,k,Sc(j,H),W);xc(j,H)}return null}function Q(j,k,H,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(H)||null,b(k,j,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case N:return j=j.get(W.key===null?H:W.key)||null,O(k,j,W,pe);case U:return j=j.get(W.key===null?H:W.key)||null,F(k,j,W,pe);case w:return W=ra(W),Q(j,k,H,W,pe)}if(kt(W)||B(W))return j=j.get(H)||null,X(k,j,W,pe,null);if(typeof W.then=="function")return Q(j,k,H,Ic(W),pe);if(W.$$typeof===ne)return Q(j,k,H,Sc(k,W),pe);xc(k,W)}return null}function he(j,k,H,W){for(var pe=null,ze=null,fe=k,Ie=k=0,Oe=null;fe!==null&&Ie<H.length;Ie++){fe.index>Ie?(Oe=fe,fe=null):Oe=fe.sibling;var Be=G(j,fe,H[Ie],W);if(Be===null){fe===null&&(fe=Oe);break}t&&fe&&Be.alternate===null&&r(j,fe),k=d(Be,k,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be,fe=Oe}if(Ie===H.length)return a(j,fe),Pe&&Zi(j,Ie),pe;if(fe===null){for(;Ie<H.length;Ie++)fe=ee(j,H[Ie],W),fe!==null&&(k=d(fe,k,Ie),ze===null?pe=fe:ze.sibling=fe,ze=fe);return Pe&&Zi(j,Ie),pe}for(fe=l(fe);Ie<H.length;Ie++)Oe=Q(fe,j,Ie,H[Ie],W),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Ie:Oe.key),k=d(Oe,k,Ie),ze===null?pe=Oe:ze.sibling=Oe,ze=Oe);return t&&fe.forEach(function(us){return r(j,us)}),Pe&&Zi(j,Ie),pe}function _e(j,k,H,W){if(H==null)throw Error(s(151));for(var pe=null,ze=null,fe=k,Ie=k=0,Oe=null,Be=H.next();fe!==null&&!Be.done;Ie++,Be=H.next()){fe.index>Ie?(Oe=fe,fe=null):Oe=fe.sibling;var us=G(j,fe,Be.value,W);if(us===null){fe===null&&(fe=Oe);break}t&&fe&&us.alternate===null&&r(j,fe),k=d(us,k,Ie),ze===null?pe=us:ze.sibling=us,ze=us,fe=Oe}if(Be.done)return a(j,fe),Pe&&Zi(j,Ie),pe;if(fe===null){for(;!Be.done;Ie++,Be=H.next())Be=ee(j,Be.value,W),Be!==null&&(k=d(Be,k,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be);return Pe&&Zi(j,Ie),pe}for(fe=l(fe);!Be.done;Ie++,Be=H.next())Be=Q(fe,j,Ie,Be.value,W),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ie:Be.key),k=d(Be,k,Ie),ze===null?pe=Be:ze.sibling=Be,ze=Be);return t&&fe.forEach(function(mR){return r(j,mR)}),Pe&&Zi(j,Ie),pe}function Je(j,k,H,W){if(typeof H=="object"&&H!==null&&H.type===z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case N:e:{for(var pe=H.key;k!==null;){if(k.key===pe){if(pe=H.type,pe===z){if(k.tag===7){a(j,k.sibling),W=f(k,H.props.children),W.return=j,j=W;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&ra(pe)===k.type){a(j,k.sibling),W=f(k,H.props),Rl(W,H),W.return=j,j=W;break e}a(j,k);break}else r(j,k);k=k.sibling}H.type===z?(W=Zs(H.props.children,j.mode,W,H.key),W.return=j,j=W):(W=Tc(H.type,H.key,H.props,null,j.mode,W),Rl(W,H),W.return=j,j=W)}return _(j);case U:e:{for(pe=H.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(j,k.sibling),W=f(k,H.children||[]),W.return=j,j=W;break e}else{a(j,k);break}else r(j,k);k=k.sibling}W=Zf(H,j.mode,W),W.return=j,j=W}return _(j);case w:return H=ra(H),Je(j,k,H,W)}if(kt(H))return he(j,k,H,W);if(B(H)){if(pe=B(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),_e(j,k,H,W)}if(typeof H.then=="function")return Je(j,k,Ic(H),W);if(H.$$typeof===ne)return Je(j,k,Sc(j,H),W);xc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(j,k.sibling),W=f(k,H),W.return=j,j=W):(a(j,k),W=Jf(H,j.mode,W),W.return=j,j=W),_(j)):a(j,k)}return function(j,k,H,W){try{wl=0;var pe=Je(j,k,H,W);return io=null,pe}catch(fe){if(fe===no||fe===Rc)throw fe;var ze=bn(29,fe,null,j.mode);return ze.lanes=W,ze.return=j,ze}}}var aa=ky(!0),Vy=ky(!1),Kr=!1;function hd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Ec(t),_y(t,null,a),r}return vc(t,l,r,a),Ec(t)}function Cl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,el(t,a)}}function dd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var md=!1;function Il(){if(md){var t=to;if(t!==null)throw t}}function xl(t,r,a,l){md=!1;var f=t.updateQueue;Kr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var O=b,F=O.next;O.next=null,_===null?d=F:_.next=F,_=O;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==_&&(b===null?X.firstBaseUpdate=F:b.next=F,X.lastBaseUpdate=O))}if(d!==null){var ee=f.baseState;_=0,X=F=O=null,b=d;do{var G=b.lane&-536870913,Q=G!==b.lane;if(Q?(De&G)===G:(l&G)===G){G!==0&&G===eo&&(md=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,_e=b;G=r;var Je=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){ee=he.call(Je,ee,G);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,G=typeof he=="function"?he.call(Je,ee,G):he,G==null)break e;ee=T({},ee,G);break e;case 2:Kr=!0}}G=b.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(F=X=Q,O=ee):X=X.next=Q,_|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);X===null&&(O=ee),f.baseState=O,f.firstBaseUpdate=F,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Zr|=_,t.lanes=_,t.memoizedState=ee}}function Py(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Ly(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Py(a[t],r)}var ro=V(null),Nc=V(0);function Uy(t,r){t=cr,oe(Nc,t),oe(ro,r),cr=t|r.baseLanes}function pd(){oe(Nc,cr),oe(ro,ro.current)}function gd(){cr=Nc.current,te(ro),te(Nc)}var An=V(null),Hn=null;function Xr(t){var r=t.alternate;oe(vt,vt.current&1),oe(An,t),Hn===null&&(r===null||ro.current!==null||r.memoizedState!==null)&&(Hn=t)}function yd(t){oe(vt,vt.current),oe(An,t),Hn===null&&(Hn=t)}function jy(t){t.tag===22?(oe(vt,vt.current),oe(An,t),Hn===null&&(Hn=t)):$r()}function $r(){oe(vt,vt.current),oe(An,An.current)}function Sn(t){te(An),Hn===t&&(Hn=null),te(vt)}var vt=V(0);function Dc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Am(a)||Sm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var nr=0,Re=null,$e=null,It=null,Oc=!1,so=!1,oa=!1,Mc=0,Nl=0,ao=null,rw=0;function dt(){throw Error(s(321))}function _d(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Tn(t[a],r[a]))return!1;return!0}function vd(t,r,a,l,f,d){return nr=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?b_:kd,oa=!1,d=a(l,f),oa=!1,so&&(d=By(r,a,l,f)),zy(t),d}function zy(t){$.H=Ml;var r=$e!==null&&$e.next!==null;if(nr=0,It=$e=Re=null,Oc=!1,Nl=0,ao=null,r)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&Ac(t)&&(xt=!0))}function By(t,r,a,l){Re=t;var f=0;do{if(so&&(ao=null),Nl=0,so=!1,25<=f)throw Error(s(301));if(f+=1,It=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=A_,d=r(a,l)}while(so);return d}function sw(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?Dl(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),r}function Ed(){var t=Mc!==0;return Mc=0,t}function Td(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function bd(t){if(Oc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Oc=!1}nr=0,It=$e=Re=null,so=!1,Nl=Mc=0,ao=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Re.memoizedState=It=t:It=It.next=t,It}function Et(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=It===null?Re.memoizedState:It.next;if(r!==null)It=r,$e=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},It===null?Re.memoizedState=It=t:It=It.next=t}return It}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var r=Nl;return Nl+=1,ao===null&&(ao=[]),t=Dy(ao,t,r),r=Re,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?b_:kd),t}function Vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===ne)return Kt(t)}throw Error(s(438,String(t)))}function Ad(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=kc(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=x;return r.index++,a}function ir(t,r){return typeof r=="function"?r(t):r}function Pc(t){var r=Et();return Sd(r,$e,t)}function Sd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=_=null,O=null,F=r,X=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(De&ee)===ee:(nr&ee)===ee){var G=F.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===eo&&(X=!0);else if((nr&G)===G){F=F.next,G===eo&&(X=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=ee,_=d):O=O.next=ee,Re.lanes|=G,Zr|=G;ee=F.action,oa&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else G={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=G,_=d):O=O.next=G,Re.lanes|=ee,Zr|=ee;F=F.next}while(F!==null&&F!==r);if(O===null?_=d:O.next=b,!Tn(d,t.memoizedState)&&(xt=!0,X&&(a=to,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wd(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);Tn(d,r.memoizedState)||(xt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function qy(t,r,a){var l=Re,f=Et(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Tn(($e||f).memoizedState,a);if(_&&(f.memoizedState=a,xt=!0),f=f.queue,Id(Gy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,oo(9,{destroy:void 0},Fy.bind(null,l,f,a,r),null),Ze===null)throw Error(s(349));d||(nr&127)!==0||Hy(l,r,a)}return a}function Hy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=kc(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Fy(t,r,a,l){r.value=a,r.getSnapshot=l,Ky(r)&&Qy(t)}function Gy(t,r,a){return a(function(){Ky(r)&&Qy(t)})}function Ky(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Tn(t,a)}catch{return!0}}function Qy(t){var r=Js(t,2);r!==null&&pn(r,t,2)}function Rd(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),oa){Mn(!0);try{a()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},r}function Yy(t,r,a,l){return t.baseState=a,Sd(t,$e,typeof l=="function"?l:ir)}function aw(t,r,a,l,f){if(jc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Xy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Xy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=$.T,_={};$.T=_;try{var b=a(f,l),O=$.S;O!==null&&O(_,b),$y(t,r,b)}catch(F){Cd(t,r,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),$y(t,r,d)}catch(F){Cd(t,r,F)}}function $y(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wy(t,r,l)},function(l){return Cd(t,r,l)}):Wy(t,r,a)}function Wy(t,r,a){r.status="fulfilled",r.value=a,Jy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Xy(t,a)))}function Cd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Jy(r),r=r.next;while(r!==l)}t.action=null}function Jy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Zy(t,r){return r}function e_(t,r){if(Pe){var a=Ze.formState;if(a!==null){e:{var l=Re;if(Pe){if(tt){t:{for(var f=tt,d=qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=Fn(f.nextSibling),l=f.data==="F!";break e}}Fr(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:r},a.queue=l,a=v_.bind(null,Re,l),l.dispatch=a,l=Rd(!1),d=Md.bind(null,Re,!1,l.queue),l=an(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=aw.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function t_(t){var r=Et();return n_(r,$e,t)}function n_(t,r,a){if(r=Sd(t,r,Zy)[0],t=Pc(ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Dl(r)}catch(_){throw _===no?Rc:_}else l=r;r=Et();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,oo(9,{destroy:void 0},ow.bind(null,f,a),null)),[l,d,t]}function ow(t,r){t.action=r}function i_(t){var r=Et(),a=$e;if(a!==null)return n_(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function oo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=kc(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function r_(){return Et().memoizedState}function Lc(t,r,a,l){var f=an();Re.flags|=t,f.memoizedState=oo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Uc(t,r,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;$e!==null&&l!==null&&_d(l,$e.memoizedState.deps)?f.memoizedState=oo(r,d,a,l):(Re.flags|=t,f.memoizedState=oo(1|r,d,a,l))}function s_(t,r){Lc(8390656,8,t,r)}function Id(t,r){Uc(2048,8,t,r)}function lw(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=kc(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function a_(t){var r=Et().memoizedState;return lw({ref:r,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function o_(t,r){return Uc(4,2,t,r)}function l_(t,r){return Uc(4,4,t,r)}function u_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function c_(t,r,a){a=a!=null?a.concat([t]):null,Uc(4,4,u_.bind(null,r,t),a)}function xd(){}function h_(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&_d(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function f_(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&_d(r,l[1]))return l[0];if(l=t(),oa){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,r],l}function Nd(t,r,a){return a===void 0||(nr&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=dv(),Re.lanes|=t,Zr|=t,a)}function d_(t,r,a,l){return Tn(a,r)?a:ro.current!==null?(t=Nd(t,a,l),Tn(t,r)||(xt=!0),t):(nr&42)===0||(nr&1073741824)!==0&&(De&261930)===0?(xt=!0,t.memoizedState=a):(t=dv(),Re.lanes|=t,Zr|=t,r)}function m_(t,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=$.T,b={};$.T=b,Md(t,!1,r,a);try{var O=f(),F=$.S;if(F!==null&&F(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=iw(O,l);Ol(t,r,X,Cn(t))}else Ol(t,r,l,Cn(t))}catch(ee){Ol(t,r,{then:function(){},status:"rejected",reason:ee},Cn())}finally{ae.p=d,_!==null&&b.types!==null&&(_.types=b.types),$.T=_}}function uw(){}function Dd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=p_(t).queue;m_(t,f,r,ye,a===null?uw:function(){return g_(t),a(l)})}function p_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function g_(t){var r=p_(t);r.next===null&&(r=t.alternate.memoizedState),Ol(t,r.next.queue,{},Cn())}function Od(){return Kt(Xl)}function y_(){return Et().memoizedState}function __(){return Et().memoizedState}function cw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Cn();t=Qr(a);var l=Yr(r,t,a);l!==null&&(pn(l,r,a),Cl(l,r,a)),r={cache:od()},t.payload=r;return}r=r.return}}function hw(t,r,a){var l=Cn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jc(t)?E_(r,a):(a=$f(t,r,a,l),a!==null&&(pn(a,t,l),T_(a,r,l)))}function v_(t,r,a){var l=Cn();Ol(t,r,a,l)}function Ol(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(jc(t))E_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,Tn(b,_))return vc(t,r,f,0),Ze===null&&_c(),!1}catch{}if(a=$f(t,r,f,l),a!==null)return pn(a,t,l),T_(a,r,l),!0}return!1}function Md(t,r,a,l){if(l={lane:2,revertLane:hm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jc(t)){if(r)throw Error(s(479))}else r=$f(t,a,l,2),r!==null&&pn(r,t,2)}function jc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function E_(t,r){so=Oc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function T_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,el(t,a)}}var Ml={readContext:Kt,use:Vc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Ml.useEffectEvent=dt;var b_={readContext:Kt,use:Vc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:s_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Lc(4194308,4,u_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Lc(4194308,4,t,r)},useInsertionEffect:function(t,r){Lc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(oa){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var f=a(r);if(oa){Mn(!0);try{a(r)}finally{Mn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=hw.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Rd(t);var r=t.queue,a=v_.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:xd,useDeferredValue:function(t,r){var a=an();return Nd(a,t,r)},useTransition:function(){var t=Rd(!1);return t=m_.bind(null,Re,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,f=an();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ze===null)throw Error(s(349));(De&127)!==0||Hy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,s_(Gy.bind(null,l,d,t),[t]),l.flags|=2048,oo(9,{destroy:void 0},Fy.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=Ze.identifierPrefix;if(Pe){var a=Di,l=Ni;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Mc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=rw++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Od,useFormState:e_,useActionState:e_,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Md.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:Ad,useCacheRefresh:function(){return an().memoizedState=cw.bind(null,Re)},useEffectEvent:function(t){var r=an(),a={impl:t};return r.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},kd={readContext:Kt,use:Vc,useCallback:h_,useContext:Kt,useEffect:Id,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Pc,useRef:r_,useState:function(){return Pc(ir)},useDebugValue:xd,useDeferredValue:function(t,r){var a=Et();return d_(a,$e.memoizedState,t,r)},useTransition:function(){var t=Pc(ir)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:Dl(t),r]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:Od,useFormState:t_,useActionState:t_,useOptimistic:function(t,r){var a=Et();return Yy(a,$e,t,r)},useMemoCache:Ad,useCacheRefresh:__};kd.useEffectEvent=a_;var A_={readContext:Kt,use:Vc,useCallback:h_,useContext:Kt,useEffect:Id,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:wd,useRef:r_,useState:function(){return wd(ir)},useDebugValue:xd,useDeferredValue:function(t,r){var a=Et();return $e===null?Nd(a,t,r):d_(a,$e.memoizedState,t,r)},useTransition:function(){var t=wd(ir)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:Dl(t),r]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:Od,useFormState:i_,useActionState:i_,useOptimistic:function(t,r){var a=Et();return $e!==null?Yy(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:__};A_.useEffectEvent=a_;function Vd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Cn(),f=Qr(l);f.payload=r,a!=null&&(f.callback=a),r=Yr(t,f,l),r!==null&&(pn(r,t,l),Cl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Cn(),f=Qr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Yr(t,f,l),r!==null&&(pn(r,t,l),Cl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Cn(),l=Qr(a);l.tag=2,r!=null&&(l.callback=r),r=Yr(t,l,a),r!==null&&(pn(r,t,a),Cl(r,t,a))}};function S_(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!vl(a,l)||!vl(f,d):!0}function w_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Pd.enqueueReplaceState(r,r.state,null)}function la(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function R_(t){yc(t)}function C_(t){console.error(t)}function I_(t){yc(t)}function zc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function x_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ld(t,r,a){return a=Qr(a),a.tag=3,a.payload={element:null},a.callback=function(){zc(t,r)},a}function N_(t){return t=Qr(t),t.tag=3,t}function D_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){x_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){x_(r,a,l),typeof f!="function"&&(es===null?es=new Set([this]):es.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function fw(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Za(r,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?Jc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Cc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),lm(t,l,f)),!1;case 22:return a.flags|=65536,l===Cc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),lm(t,l,f)),!1}throw Error(s(435,a.tag))}return lm(t,l,f),Jc(),!1}if(Pe)return r=An.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==nd&&(t=Error(s(422),{cause:l}),bl(jn(t,a)))):(l!==nd&&(r=Error(s(423),{cause:l}),bl(jn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=jn(l,a),f=Ld(t.stateNode,l,f),dd(t,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),Bl===null?Bl=[d]:Bl.push(d),mt!==4&&(mt=2),r===null)return!0;l=jn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ld(a.stateNode,l,t),dd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(es===null||!es.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=N_(f),D_(f,t,a,l),dd(a,f),!1}a=a.return}while(a!==null);return!1}var Ud=Error(s(461)),xt=!1;function Qt(t,r,a,l){r.child=t===null?Vy(r,null,a,l):aa(r,t.child,a,l)}function O_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return na(r),l=vd(t,r,a,_,d,f),b=Ed(),t!==null&&!xt?(Td(t,r,f),rr(t,r,f)):(Pe&&b&&ed(r),r.flags|=1,Qt(t,r,l,f),r.child)}function M_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Wf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,k_(t,r,d,l,f)):(t=Tc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Kd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(_,l)&&t.ref===r.ref)return rr(t,r,f)}return r.flags|=1,t=Ji(d,l),t.ref=r.ref,t.return=r,r.child=t}function k_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(vl(d,l)&&t.ref===r.ref)if(xt=!1,r.pendingProps=l=d,Kd(t,f))(t.flags&131072)!==0&&(xt=!0);else return r.lanes=t.lanes,rr(t,r,f)}return jd(t,r,a,l,f)}function V_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return P_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&wc(r,d!==null?d.cachePool:null),d!==null?Uy(r,d):pd(),jy(r);else return l=r.lanes=536870912,P_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(wc(r,d.cachePool),Uy(r,d),$r(),r.memoizedState=null):(t!==null&&wc(r,null),pd(),$r());return Qt(t,r,f,a),r.child}function kl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function P_(t,r,a,l,f){var d=ud();return d=d===null?null:{parent:Ct._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&wc(r,null),pd(),jy(r),t!==null&&Za(t,r,l,!0),r.childLanes=f,null}function Bc(t,r){return r=Hc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function L_(t,r,a){return aa(r,t.child,null,a),t=Bc(r,r.pendingProps),t.flags|=2,Sn(r),r.memoizedState=null,t}function dw(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Bc(r,l),r.lanes=536870912,kl(null,t);if(yd(r),(t=tt)?(t=Xv(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:qr!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Ey(t),a.return=r,r.child=a,Gt=r,tt=null)):t=null,t===null)throw Fr(r);return r.lanes=536870912,null}return Bc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(yd(r),f)if(r.flags&256)r.flags&=-257,r=L_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(xt||Za(t,r,a,!1),f=(a&t.childLanes)!==0,xt||f){if(l=Ze,l!==null&&(_=tl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Js(t,_),pn(l,t,_),Ud;Jc(),r=L_(t,r,a)}else t=d.treeContext,tt=Fn(_.nextSibling),Gt=r,Pe=!0,Hr=null,qn=!1,t!==null&&Ay(r,t),r=Bc(r,l),r.flags|=4096;return r}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function qc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function jd(t,r,a,l,f){return na(r),a=vd(t,r,a,l,void 0,f),l=Ed(),t!==null&&!xt?(Td(t,r,f),rr(t,r,f)):(Pe&&l&&ed(r),r.flags|=1,Qt(t,r,a,f),r.child)}function U_(t,r,a,l,f,d){return na(r),r.updateQueue=null,a=By(r,l,a,f),zy(t),l=Ed(),t!==null&&!xt?(Td(t,r,d),rr(t,r,d)):(Pe&&l&&ed(r),r.flags|=1,Qt(t,r,a,d),r.child)}function j_(t,r,a,l,f){if(na(r),r.stateNode===null){var d=Xa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},hd(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Xa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Vd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Pd.enqueueReplaceState(d,d.state,null),xl(r,l,d,f),Il(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,O=la(a,b);d.props=O;var F=d.context,X=a.contextType;_=Xa,typeof X=="object"&&X!==null&&(_=Kt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==_)&&w_(r,d,l,_),Kr=!1;var G=r.memoizedState;d.state=G,xl(r,l,d,f),Il(),F=r.memoizedState,b||G!==F||Kr?(typeof ee=="function"&&(Vd(r,a,ee,l),F=r.memoizedState),(O=Kr||S_(r,a,O,l,G,F,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,fd(t,r),_=r.memoizedProps,X=la(a,_),d.props=X,ee=r.pendingProps,G=d.context,F=a.contextType,O=Xa,typeof F=="object"&&F!==null&&(O=Kt(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||G!==O)&&w_(r,d,l,O),Kr=!1,G=r.memoizedState,d.state=G,xl(r,l,d,f),Il();var Q=r.memoizedState;_!==ee||G!==Q||Kr||t!==null&&t.dependencies!==null&&Ac(t.dependencies)?(typeof b=="function"&&(Vd(r,a,b,l),Q=r.memoizedState),(X=Kr||S_(r,a,X,l,G,Q,O)||t!==null&&t.dependencies!==null&&Ac(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=O,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,qc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=aa(r,t.child,null,f),r.child=aa(r,null,a,f)):Qt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=rr(t,r,f),t}function z_(t,r,a,l){return ea(),r.flags|=256,Qt(t,r,a,l),r.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(t){return{baseLanes:t,cachePool:xy()}}function qd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Rn),t}function B_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Pe){if(f?Xr(r):$r(),(t=tt)?(t=Xv(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:qr!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Ey(t),a.return=r,r.child=a,Gt=r,tt=null)):t=null,t===null)throw Fr(r);return Sm(t)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?($r(),f=r.mode,b=Hc({mode:"hidden",children:b},f),l=Zs(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=Bd(a),l.childLanes=qd(t,_,a),r.memoizedState=zd,kl(null,l)):(Xr(r),Hd(r,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)r.flags&256?(Xr(r),r.flags&=-257,r=Fd(t,r,a)):r.memoizedState!==null?($r(),r.child=t.child,r.flags|=128,r=null):($r(),b=l.fallback,f=r.mode,l=Hc({mode:"visible",children:l.children},f),b=Zs(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,aa(r,t.child,null,a),l=r.child,l.memoizedState=Bd(a),l.childLanes=qd(t,_,a),r.memoizedState=zd,r=kl(null,l));else if(Xr(r),Sm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,bl({value:l,source:null,stack:null}),r=Fd(t,r,a)}else if(xt||Za(t,r,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=Ze,_!==null&&(l=tl(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Js(t,l),pn(_,t,l),Ud;Am(b)||Jc(),r=Fd(t,r,a)}else Am(b)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,tt=Fn(b.nextSibling),Gt=r,Pe=!0,Hr=null,qn=!1,t!==null&&Ay(r,t),r=Hd(r,l.children),r.flags|=4096);return r}return f?($r(),b=l.fallback,f=r.mode,O=t.child,F=O.sibling,l=Ji(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?b=Ji(F,b):(b=Zs(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,kl(null,l),l=r.child,b=t.child.memoizedState,b===null?b=Bd(a):(f=b.cachePool,f!==null?(O=Ct._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=xy(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=qd(t,_,a),r.memoizedState=zd,kl(t.child,l)):(Xr(r),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Hd(t,r){return r=Hc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Hc(t,r){return t=bn(22,t,null,r),t.lanes=0,t}function Fd(t,r,a){return aa(r,t.child,null,a),t=Hd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function q_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),sd(t.return,r,a)}function Gd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function H_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,oe(vt,_),Qt(t,r,l,a),l=Pe?Tl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&q_(t,a,r);else if(t.tag===19)q_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Dc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Gd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Dc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Gd(r,!0,a,null,d,l);break;case"together":Gd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function rr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Zr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Za(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Ji(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Kd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ac(t)))}function mw(t,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),Gr(r,Ct,t.memoizedState.cache),ea();break;case 27:case 5:ks(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:Gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,yd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Xr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?B_(t,r,a):(Xr(r),t=rr(t,r,a),t!==null?t.sibling:null);Xr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Za(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return H_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(vt,vt.current),l)break;return null;case 22:return r.lanes=0,V_(t,r,a,r.pendingProps);case 24:Gr(r,Ct,t.memoizedState.cache)}return rr(t,r,a)}function F_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)xt=!0;else{if(!Kd(t,a)&&(r.flags&128)===0)return xt=!1,mw(t,r,a);xt=(t.flags&131072)!==0}else xt=!1,Pe&&(r.flags&1048576)!==0&&by(r,Tl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ra(r.elementType),r.type=t,typeof t=="function")Wf(t)?(l=la(t,l),r.tag=1,r=j_(null,r,t,l,a)):(r.tag=0,r=jd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===se){r.tag=11,r=O_(null,r,t,l,a);break e}else if(f===C){r.tag=14,r=M_(null,r,t,l,a);break e}}throw r=at(t)||t,Error(s(306,r,""))}}return r;case 0:return jd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=la(l,r.pendingProps),j_(t,r,l,f,a);case 3:e:{if(Vt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,fd(t,r),xl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Gr(r,Ct,l),l!==d.cache&&ad(r,[Ct],a,!0),Il(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=z_(t,r,l,a);break e}else if(l!==f){f=jn(Error(s(424)),r),bl(f),r=z_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=Fn(t.firstChild),Gt=r,Pe=!0,Hr=null,qn=!0,a=Vy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ea(),l===f){r=rr(t,r,a);break e}Qt(t,r,l,a)}r=r.child}return r;case 26:return qc(t,r),t===null?(a=tE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Pe||(a=r.type,t=r.pendingProps,l=sh(Ce.current).createElement(a),l[St]=r,l[jt]=t,Yt(l,a,t),wt(l),r.stateNode=l):r.memoizedState=tE(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ks(r),t===null&&Pe&&(l=r.stateNode=Jv(r.type,r.pendingProps,Ce.current),Gt=r,qn=!0,f=tt,rs(r.type)?(wm=f,tt=Fn(l.firstChild)):tt=f),Qt(t,r,r.pendingProps.children,a),qc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Pe&&((f=l=tt)&&(l=Fw(l,r.type,r.pendingProps,qn),l!==null?(r.stateNode=l,Gt=r,tt=Fn(l.firstChild),qn=!1,f=!0):f=!1),f||Fr(r)),ks(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Em(f,d)?l=null:_!==null&&Em(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=vd(t,r,sw,null,null,a),Xl._currentValue=f),qc(t,r),Qt(t,r,l,a),r.child;case 6:return t===null&&Pe&&((t=a=tt)&&(a=Gw(a,r.pendingProps,qn),a!==null?(r.stateNode=a,Gt=r,tt=null,t=!0):t=!1),t||Fr(r)),null;case 13:return B_(t,r,a);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=aa(r,null,l,a):Qt(t,r,l,a),r.child;case 11:return O_(t,r,r.type,r.pendingProps,a);case 7:return Qt(t,r,r.pendingProps,a),r.child;case 8:return Qt(t,r,r.pendingProps.children,a),r.child;case 12:return Qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Gr(r,r.type,l.value),Qt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,na(r),f=Kt(f),l=l(f),r.flags|=1,Qt(t,r,l,a),r.child;case 14:return M_(t,r,r.type,r.pendingProps,a);case 15:return k_(t,r,r.type,r.pendingProps,a);case 19:return H_(t,r,a);case 31:return dw(t,r,a);case 22:return V_(t,r,a,r.pendingProps);case 24:return na(r),l=Kt(Ct),t===null?(f=ud(),f===null&&(f=Ze,d=od(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},hd(r),Gr(r,Ct,f)):((t.lanes&a)!==0&&(fd(t,r),xl(r,null,null,a),Il()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Gr(r,Ct,l)):(l=d.cache,Gr(r,Ct,l),l!==f.cache&&ad(r,[Ct],a,!0))),Qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function sr(t){t.flags|=4}function Qd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(yv())t.flags|=8192;else throw sa=Cc,cd}else t.flags&=-16777217}function G_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!aE(r))if(yv())t.flags|=8192;else throw sa=Cc,cd}function Fc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?$u():536870912,t.lanes|=r,ho|=r)}function Vl(t,r){if(!Pe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function pw(t,r,a){var l=r.pendingProps;switch(td(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(r),null;case 1:return nt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),tr(Ct),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ja(r)?sr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,id())),nt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(sr(r),d!==null?(nt(r),G_(r,d)):(nt(r),Qd(r,f,null,l,a))):d?d!==t.memoizedState?(sr(r),nt(r),G_(r,d)):(nt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&sr(r),nt(r),Qd(r,f,t,l,a)),null;case 27:if(Na(r),a=Ce.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nt(r),null}t=ce.current,Ja(r)?Sy(r):(t=Jv(f,l,a),r.stateNode=t,sr(r))}return nt(r),null;case 5:if(Na(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nt(r),null}if(d=ce.current,Ja(r))Sy(r);else{var _=sh(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[St]=r,d[jt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Yt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sr(r)}}return nt(r),Qd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&sr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ce.current,Ja(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Bv(t.nodeValue,a)),t||Fr(r,!0)}else t=sh(t).createTextNode(l),t[St]=r,r.stateNode=t}return nt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ja(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=r}else ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),t=!1}else a=id(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return nt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ja(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),f=!1}else f=id(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Fc(r,r.updateQueue),nt(r),null);case 4:return ot(),t===null&&pm(r.stateNode.containerInfo),nt(r),null;case 10:return tr(r.type),nt(r),null;case 19:if(te(vt),l=r.memoizedState,l===null)return nt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Vl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Dc(t),d!==null){for(r.flags|=128,Vl(l,!1),t=d.updateQueue,r.updateQueue=t,Fc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)vy(a,t),a=a.sibling;return oe(vt,vt.current&1|2),Pe&&Zi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&rn()>Xc&&(r.flags|=128,f=!0,Vl(l,!1),r.lanes=4194304)}else{if(!f)if(t=Dc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Fc(r,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return nt(r),null}else 2*rn()-l.renderingStartTime>Xc&&a!==536870912&&(r.flags|=128,f=!0,Vl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=vt.current,oe(vt,f?a&1|2:a&1),Pe&&Zi(r,l.treeForkCount),t):(nt(r),null);case 22:case 23:return Sn(r),gd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(nt(r),r.subtreeFlags&6&&(r.flags|=8192)):nt(r),a=r.updateQueue,a!==null&&Fc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&te(ia),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),tr(Ct),nt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function gw(t,r){switch(td(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return tr(Ct),ot(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Na(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(s(340));ea()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Sn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ea()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(vt),null;case 4:return ot(),null;case 10:return tr(r.type),null;case 22:case 23:return Sn(r),gd(),t!==null&&te(ia),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return tr(Ct),null;case 25:return null;default:return null}}function K_(t,r){switch(td(r),r.tag){case 3:tr(Ct),ot();break;case 26:case 27:case 5:Na(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:te(vt);break;case 10:tr(r.type);break;case 22:case 23:Sn(r),gd(),t!==null&&te(ia);break;case 24:tr(Ct)}}function Pl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Ye(r,r.return,b)}}function Wr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var O=a,F=b;try{F()}catch(X){Ye(f,O,X)}}}l=l.next}while(l!==d)}}catch(X){Ye(r,r.return,X)}}function Q_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ly(r,a)}catch(l){Ye(t,t.return,l)}}}function Y_(t,r,a){a.props=la(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,r,l)}}function Ll(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,r,f)}}function Oi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,r,f)}else a.current=null}function X_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function Yd(t,r,a){try{var l=t.stateNode;Uw(l,t.type,a,r),l[jt]=r}catch(f){Ye(t,t.return,f)}}function $_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rs(t.type)||t.tag===4}function Xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $d(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ti));else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for($d(t,r,a),t=t.sibling;t!==null;)$d(t,r,a),t=t.sibling}function Gc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Gc(t,r,a),t=t.sibling;t!==null;)Gc(t,r,a),t=t.sibling}function W_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Yt(r,l,a),r[St]=t,r[jt]=a}catch(d){Ye(t,t.return,d)}}var ar=!1,Nt=!1,Wd=!1,J_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function yw(t,r){if(t=t.containerInfo,_m=fh,t=cy(t),Ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,O=-1,F=0,X=0,ee=t,G=null;t:for(;;){for(var Q;ee!==a||f!==0&&ee.nodeType!==3||(b=_+f),ee!==d||l!==0&&ee.nodeType!==3||(O=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)G=ee,ee=Q;for(;;){if(ee===t)break t;if(G===a&&++F===f&&(b=_),G===d&&++X===l&&(O=_),(Q=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Q}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(vm={focusedElem:t,selectionRange:a},fh=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=la(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ye(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)bm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function Z_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:lr(t,a),l&4&&Pl(5,a);break;case 1:if(lr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=la(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&Q_(a),l&512&&Ll(a,a.return);break;case 3:if(lr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ly(t,r)}catch(_){Ye(a,a.return,_)}}break;case 27:r===null&&l&4&&W_(a);case 26:case 5:lr(t,a),r===null&&l&4&&X_(a),l&512&&Ll(a,a.return);break;case 12:lr(t,a);break;case 31:lr(t,a),l&4&&nv(t,a);break;case 13:lr(t,a),l&4&&iv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Rw.bind(null,a),Kw(t,a))));break;case 22:if(l=a.memoizedState!==null||ar,!l){r=r!==null&&r.memoizedState!==null||Nt,f=ar;var d=Nt;ar=l,(Nt=r)&&!d?ur(t,a,(a.subtreeFlags&8772)!==0):lr(t,a),ar=f,Nt=d}break;case 30:break;default:lr(t,a)}}function ev(t){var r=t.alternate;r!==null&&(t.alternate=null,ev(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Va(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,hn=!1;function or(t,r,a){for(a=a.child;a!==null;)tv(t,r,a),a=a.sibling}function tv(t,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Nt||Oi(a,r),or(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Oi(a,r);var l=ut,f=hn;rs(a.type)&&(ut=a.stateNode,hn=!1),or(t,r,a),Kl(a.stateNode),ut=l,hn=f;break;case 5:Nt||Oi(a,r);case 6:if(l=ut,f=hn,ut=null,or(t,r,a),ut=l,hn=f,ut!==null)if(hn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Ye(a,r,d)}else try{ut.removeChild(a.stateNode)}catch(d){Ye(a,r,d)}break;case 18:ut!==null&&(hn?(t=ut,Qv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Eo(t)):Qv(ut,a.stateNode));break;case 4:l=ut,f=hn,ut=a.stateNode.containerInfo,hn=!0,or(t,r,a),ut=l,hn=f;break;case 0:case 11:case 14:case 15:Wr(2,a,r),Nt||Wr(4,a,r),or(t,r,a);break;case 1:Nt||(Oi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Y_(a,r,l)),or(t,r,a);break;case 21:or(t,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,or(t,r,a),Nt=l;break;default:or(t,r,a)}}function nv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Eo(t)}catch(a){Ye(r,r.return,a)}}}function iv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Eo(t)}catch(a){Ye(r,r.return,a)}}function _w(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new J_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new J_),r;default:throw Error(s(435,t.tag))}}function Kc(t,r){var a=_w(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=Cw.bind(null,t,l);l.then(f,f)}})}function fn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(rs(b.type)){ut=b.stateNode,hn=!1;break e}break;case 5:ut=b.stateNode,hn=!1;break e;case 3:case 4:ut=b.stateNode.containerInfo,hn=!0;break e}b=b.return}if(ut===null)throw Error(s(160));tv(d,_,f),ut=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)rv(r,t),r=r.sibling}var oi=null;function rv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),dn(t),l&4&&(Wr(3,t,t.return),Pl(3,t),Wr(5,t,t.return));break;case 1:fn(r,t),dn(t),l&512&&(Nt||a===null||Oi(a,a.return)),l&64&&ar&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=oi;if(fn(r,t),dn(t),l&512&&(Nt||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_i]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Yt(d,l,a),d[St]=t,wt(d),l=d;break e;case"link":var _=rE("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=rE("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,wt(d),l=d}t.stateNode=l}else sE(f,t.type,t.stateNode);else t.stateNode=iE(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?sE(f,t.type,t.stateNode):iE(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(r,t),dn(t),l&512&&(Nt||a===null||Oi(a,a.return)),a!==null&&l&4&&Yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,t),dn(t),l&512&&(Nt||a===null||Oi(a,a.return)),t.flags&32){f=t.stateNode;try{cn(f,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Yd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Wd=!0);break;case 6:if(fn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(lh=null,f=oi,oi=ah(r.containerInfo),fn(r,t),oi=f,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Eo(r.containerInfo)}catch(he){Ye(t,t.return,he)}Wd&&(Wd=!1,sv(t));break;case 4:l=oi,oi=ah(t.stateNode.containerInfo),fn(r,t),dn(t),oi=l;break;case 12:fn(r,t),dn(t);break;case 31:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 13:fn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=ar,X=Nt;if(ar=F||f,Nt=X||O,fn(r,t),Nt=X,ar=F,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||O||ar||Nt||ua(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=O.stateNode;var ee=O.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){Ye(O,O.return,he)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(he){Ye(O,O.return,he)}}}else if(r.tag===18){if(a===null){O=r;try{var Q=O.stateNode;f?Yv(Q,!0):Yv(O.stateNode,!1)}catch(he){Ye(O,O.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Kc(t,a))));break;case 19:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 30:break;case 21:break;default:fn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if($_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Xd(t);Gc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var b=Xd(t);Gc(t,b,_);break;case 3:case 4:var O=a.stateNode.containerInfo,F=Xd(t);$d(t,F,O);break;default:throw Error(s(161))}}catch(X){Ye(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function sv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;sv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function lr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Z_(t,r.alternate,r),r=r.sibling}function ua(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Wr(4,r,r.return),ua(r);break;case 1:Oi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Y_(r,r.return,a),ua(r);break;case 27:Kl(r.stateNode);case 26:case 5:Oi(r,r.return),ua(r);break;case 22:r.memoizedState===null&&ua(r);break;case 30:ua(r);break;default:ua(r)}t=t.sibling}}function ur(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:ur(f,d,a),Pl(4,d);break;case 1:if(ur(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Ye(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Py(O[f],b)}catch(F){Ye(l,l.return,F)}}a&&_&64&&Q_(d),Ll(d,d.return);break;case 27:W_(d);case 26:case 5:ur(f,d,a),a&&l===null&&_&4&&X_(d),Ll(d,d.return);break;case 12:ur(f,d,a);break;case 31:ur(f,d,a),a&&_&4&&nv(f,d);break;case 13:ur(f,d,a),a&&_&4&&iv(f,d);break;case 22:d.memoizedState===null&&ur(f,d,a),Ll(d,d.return);break;case 30:break;default:ur(f,d,a)}r=r.sibling}}function Jd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Al(a))}function Zd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Al(t))}function li(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)av(t,r,a,l),r=r.sibling}function av(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:li(t,r,a,l),f&2048&&Pl(9,r);break;case 1:li(t,r,a,l);break;case 3:li(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Al(t)));break;case 12:if(f&2048){li(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Ye(r,r.return,O)}}else li(t,r,a,l);break;case 31:li(t,r,a,l);break;case 13:li(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?li(t,r,a,l):Ul(t,r):d._visibility&2?li(t,r,a,l):(d._visibility|=2,lo(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Jd(_,r);break;case 24:li(t,r,a,l),f&2048&&Zd(r.alternate,r);break;default:li(t,r,a,l)}}function lo(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,b=a,O=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:lo(d,_,b,O,f),Pl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?lo(d,_,b,O,f):Ul(d,_):(X._visibility|=2,lo(d,_,b,O,f)),f&&F&2048&&Jd(_.alternate,_);break;case 24:lo(d,_,b,O,f),f&&F&2048&&Zd(_.alternate,_);break;default:lo(d,_,b,O,f)}r=r.sibling}}function Ul(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Ul(a,l),f&2048&&Jd(l.alternate,l);break;case 24:Ul(a,l),f&2048&&Zd(l.alternate,l);break;default:Ul(a,l)}r=r.sibling}}var jl=8192;function uo(t,r,a){if(t.subtreeFlags&jl)for(t=t.child;t!==null;)ov(t,r,a),t=t.sibling}function ov(t,r,a){switch(t.tag){case 26:uo(t,r,a),t.flags&jl&&t.memoizedState!==null&&rR(a,oi,t.memoizedState,t.memoizedProps);break;case 5:uo(t,r,a);break;case 3:case 4:var l=oi;oi=ah(t.stateNode.containerInfo),uo(t,r,a),oi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=jl,jl=16777216,uo(t,r,a),jl=l):uo(t,r,a));break;default:uo(t,r,a)}}function lv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function zl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,cv(l,t)}lv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uv(t),t=t.sibling}function uv(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&Wr(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Qc(t)):zl(t);break;default:zl(t)}}function Qc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,cv(l,t)}lv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Wr(8,r,r.return),Qc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Qc(r));break;default:Qc(r)}t=t.sibling}}function cv(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(ev(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var vw={getCacheForType:function(t){var r=Kt(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Kt(Ct).controller.signal}},Ew=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,xe=null,De=0,Qe=0,wn=null,Jr=!1,co=!1,em=!1,cr=0,mt=0,Zr=0,ca=0,tm=0,Rn=0,ho=0,Bl=null,mn=null,nm=!1,Yc=0,hv=0,Xc=1/0,$c=null,es=null,Lt=0,ts=null,fo=null,hr=0,im=0,rm=null,fv=null,ql=0,sm=null;function Cn(){return(He&2)!==0&&De!==0?De&-De:$.T!==null?hm():Wu()}function dv(){if(Rn===0)if((De&536870912)===0||Pe){var t=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),Rn=t}else Rn=536870912;return t=An.current,t!==null&&(t.flags|=32),Rn}function pn(t,r,a){(t===Ze&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(mo(t,0),ns(t,De,Rn,!1)),Us(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(ca|=a),mt===4&&ns(t,De,Rn,!1)),Mi(t))}function mv(t,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Jn(t,r),f=l?Aw(t,r):om(t,r,!0),d=l;do{if(f===0){co&&!l&&ns(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Tw(a)){f=om(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;f=Bl;var O=b.current.memoizedState.isDehydrated;if(O&&(mo(b,_).flags|=256),_=om(b,_,!1),_!==2){if(em&&!O){b.errorRecoveryDisabledLanes|=d,ca|=d,f=4;break e}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){mo(t,0),ns(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ns(l,r,Rn,!Jr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Yc+300-rn(),10<f)){if(ns(l,r,Rn,!Jr),pi(l,0,!0)!==0)break e;hr=r,l.timeoutHandle=Gv(pv.bind(null,l,a,mn,$c,nm,r,Rn,ca,ho,Jr,d,"Throttled",-0,0),f);break e}pv(l,a,mn,$c,nm,r,Rn,ca,ho,Jr,d,null,-0,0)}}break}while(!0);Mi(t)}function pv(t,r,a,l,f,d,_,b,O,F,X,ee,G,Q){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},ov(r,d,ee);var he=(d&62914560)===d?Yc-rn():(d&4194048)===d?hv-rn():0;if(he=sR(ee,he),he!==null){hr=d,t.cancelPendingCommit=he(Av.bind(null,t,r,d,a,l,f,_,b,O,X,ee,null,G,Q)),ns(t,d,_,!F);return}}Av(t,r,d,a,l,f,_,b,O)}function Tw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Tn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ns(t,r,a,l){r&=~tm,r&=~ca,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-yt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&js(t,a,r)}function Wc(){return(He&6)===0?(Hl(0),!1):!0}function am(){if(xe!==null){if(Qe===0)var t=xe.return;else t=xe,er=ta=null,bd(t),io=null,wl=0,t=xe;for(;t!==null;)K_(t.alternate,t),t=t.return;xe=null}}function mo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Bw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hr=0,am(),Ze=t,xe=a=Ji(t.current,null),De=r,Qe=0,wn=null,Jr=!1,co=Jn(t,r),em=!1,ho=Rn=tm=ca=Zr=mt=0,mn=Bl=null,nm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-yt(l),d=1<<f;r|=t[f],l&=~d}return cr=r,_c(),a}function gv(t,r){Re=null,$.H=Ml,r===no||r===Rc?(r=Oy(),Qe=3):r===cd?(r=Oy(),Qe=4):Qe=r===Ud?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,xe===null&&(mt=1,zc(t,jn(r,t.current)))}function yv(){var t=An.current;return t===null?!0:(De&4194048)===De?Hn===null:(De&62914560)===De||(De&536870912)!==0?t===Hn:!1}function _v(){var t=$.H;return $.H=Ml,t===null?Ml:t}function vv(){var t=$.A;return $.A=vw,t}function Jc(){mt=4,Jr||(De&4194048)!==De&&An.current!==null||(co=!0),(Zr&134217727)===0&&(ca&134217727)===0||Ze===null||ns(Ze,De,Rn,!1)}function om(t,r,a){var l=He;He|=2;var f=_v(),d=vv();(Ze!==t||De!==r)&&($c=null,mo(t,r)),r=!1;var _=mt;e:do try{if(Qe!==0&&xe!==null){var b=xe,O=wn;switch(Qe){case 8:am(),_=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(r=!0);var F=Qe;if(Qe=0,wn=null,po(t,b,O,F),a&&co){_=0;break e}break;default:F=Qe,Qe=0,wn=null,po(t,b,O,F)}}bw(),_=mt;break}catch(X){gv(t,X)}while(!0);return r&&t.shellSuspendCounter++,er=ta=null,He=l,$.H=f,$.A=d,xe===null&&(Ze=null,De=0,_c()),_}function bw(){for(;xe!==null;)Ev(xe)}function Aw(t,r){var a=He;He|=2;var l=_v(),f=vv();Ze!==t||De!==r?($c=null,Xc=rn()+500,mo(t,r)):co=Jn(t,r);e:do try{if(Qe!==0&&xe!==null){r=xe;var d=wn;t:switch(Qe){case 1:Qe=0,wn=null,po(t,r,d,1);break;case 2:case 9:if(Ny(d)){Qe=0,wn=null,Tv(r);break}r=function(){Qe!==2&&Qe!==9||Ze!==t||(Qe=7),Mi(t)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Ny(d)?(Qe=0,wn=null,Tv(r)):(Qe=0,wn=null,po(t,r,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var b=xe;if(_?aE(_):b.stateNode.complete){Qe=0,wn=null;var O=b.sibling;if(O!==null)xe=O;else{var F=b.return;F!==null?(xe=F,Zc(F)):xe=null}break t}}Qe=0,wn=null,po(t,r,d,5);break;case 6:Qe=0,wn=null,po(t,r,d,6);break;case 8:am(),mt=6;break e;default:throw Error(s(462))}}Sw();break}catch(X){gv(t,X)}while(!0);return er=ta=null,$.H=l,$.A=f,He=a,xe!==null?0:(Ze=null,De=0,_c(),mt)}function Sw(){for(;xe!==null&&!Lf();)Ev(xe)}function Ev(t){var r=F_(t.alternate,t,cr);t.memoizedProps=t.pendingProps,r===null?Zc(t):xe=r}function Tv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=U_(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=U_(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:bd(r);default:K_(a,r),r=xe=vy(r,cr),r=F_(a,r,cr)}t.memoizedProps=t.pendingProps,r===null?Zc(t):xe=r}function po(t,r,a,l){er=ta=null,bd(r),io=null,wl=0;var f=r.return;try{if(fw(t,f,r,a,De)){mt=1,zc(t,jn(a,t.current)),xe=null;return}}catch(d){if(f!==null)throw xe=f,d;mt=1,zc(t,jn(a,t.current)),xe=null;return}r.flags&32768?(Pe||l===1?t=!0:co||(De&536870912)!==0?t=!1:(Jr=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),bv(r,t)):Zc(r)}function Zc(t){var r=t;do{if((r.flags&32768)!==0){bv(r,Jr);return}t=r.return;var a=pw(r.alternate,r,cr);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=t}while(r!==null);mt===0&&(mt=5)}function bv(t,r){do{var a=gw(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);mt=6,xe=null}function Av(t,r,a,l,f,d,_,b,O){t.cancelPendingCommit=null;do eh();while(Lt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Xf,zf(t,a,d,_,b,O),t===Ze&&(xe=Ze=null,De=0),fo=r,ts=t,hr=a,im=d,rm=f,fv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Iw(Or,function(){return Iv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ae.p,ae.p=2,_=He,He|=4;try{yw(t,r,a)}finally{He=_,ae.p=f,$.T=l}}Lt=1,Sv(),wv(),Rv()}}function Sv(){if(Lt===1){Lt=0;var t=ts,r=fo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{rv(r,t);var d=vm,_=cy(t.containerInfo),b=d.focusedElem,O=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&uy(b.ownerDocument.documentElement,b)){if(O!==null&&Ff(b)){var F=O.start,X=O.end;if(X===void 0&&(X=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(X,b.value.length);else{var ee=b.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Q=G.getSelection(),he=b.textContent.length,_e=Math.min(O.start,he),Je=O.end===void 0?_e:Math.min(O.end,he);!Q.extend&&_e>Je&&(_=Je,Je=_e,_e=_);var j=ly(b,_e),k=ly(b,Je);if(j&&k&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var H=ee.createRange();H.setStart(j.node,j.offset),Q.removeAllRanges(),_e>Je?(Q.addRange(H),Q.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),Q.addRange(H))}}}}for(ee=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var W=ee[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}fh=!!_m,vm=_m=null}finally{He=f,ae.p=l,$.T=a}}t.current=r,Lt=2}}function wv(){if(Lt===2){Lt=0;var t=ts,r=fo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{Z_(t,r.alternate,r)}finally{He=f,ae.p=l,$.T=a}}Lt=3}}function Rv(){if(Lt===4||Lt===3){Lt=0,Fu();var t=ts,r=fo,a=hr,l=fv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Lt=5:(Lt=0,fo=ts=null,Cv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(es=null),Yi(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Wn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,f=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{$.T=r,ae.p=f}}(hr&3)!==0&&eh(),Mi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===sm?ql++:(ql=0,sm=t):ql=0,Hl(0)}}function Cv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Al(r)))}function eh(){return Sv(),wv(),Rv(),Iv()}function Iv(){if(Lt!==5)return!1;var t=ts,r=im;im=0;var a=Yi(hr),l=$.T,f=ae.p;try{ae.p=32>a?32:a,$.T=null,a=rm,rm=null;var d=ts,_=hr;if(Lt=0,fo=ts=null,hr=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,uv(d.current),av(d,d.current,_,a),He=b,Hl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Wn,d)}catch{}return!0}finally{ae.p=f,$.T=l,Cv(t,r)}}function xv(t,r,a){r=jn(a,r),r=Ld(t.stateNode,r,2),t=Yr(t,r,2),t!==null&&(Us(t,2),Mi(t))}function Ye(t,r,a){if(t.tag===3)xv(t,t,a);else for(;r!==null;){if(r.tag===3){xv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(es===null||!es.has(l))){t=jn(a,t),a=N_(2),l=Yr(r,a,2),l!==null&&(D_(a,l,r,t),Us(l,2),Mi(l));break}}r=r.return}}function lm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Ew;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(em=!0,f.add(a),t=ww.bind(null,t,r,a),r.then(t,t))}function ww(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(De&a)===a&&(mt===4||mt===3&&(De&62914560)===De&&300>rn()-Yc?(He&2)===0&&mo(t,0):tm|=a,ho===De&&(ho=0)),Mi(t)}function Nv(t,r){r===0&&(r=$u()),t=Js(t,r),t!==null&&(Us(t,r),Mi(t))}function Rw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Nv(t,a)}function Cw(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Nv(t,a)}function Iw(t,r){return Pt(t,r)}var th=null,go=null,um=!1,nh=!1,cm=!1,is=0;function Mi(t){t!==go&&t.next===null&&(go===null?th=go=t:go=go.next=t),nh=!0,um||(um=!0,Nw())}function Hl(t,r){if(!cm&&nh){cm=!0;do for(var a=!1,l=th;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,kv(l,d))}else d=De,d=pi(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(a=!0,kv(l,d));l=l.next}while(a);cm=!1}}function xw(){Dv()}function Dv(){nh=um=!1;var t=0;is!==0&&zw()&&(t=is);for(var r=rn(),a=null,l=th;l!==null;){var f=l.next,d=Ov(l,r);d===0?(l.next=null,a===null?th=f:a.next=f,f===null&&(go=a)):(a=l,(t!==0||(d&3)!==0)&&(nh=!0)),l=f}Lt!==0&&Lt!==5||Hl(t),is!==0&&(is=0)}function Ov(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-yt(d),b=1<<_,O=f[_];O===-1?((b&a)===0||(b&l)!==0)&&(f[_]=jf(b,r)):O<=r&&(t.expiredLanes|=b),d&=~b}if(r=Ze,a=De,a=pi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Dr(l),Yi(a)){case 2:case 8:a=Zo;break;case 32:a=Or;break;case 268435456:a=Gu;break;default:a=Or}return l=Mv.bind(null,t),a=Pt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function Mv(t,r){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(eh()&&t.callbackNode!==a)return null;var l=De;return l=pi(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(mv(t,l,r),Ov(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Mv.bind(null,t):null)}function kv(t,r){if(eh())return null;mv(t,r,!0)}function Nw(){qw(function(){(He&6)!==0?Pt(Jo,xw):Dv()})}function hm(){if(is===0){var t=eo;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),is=t}return is}function Vv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function Pv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Dw(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Vv((f[jt]||null).action),_=l.submitter;_&&(r=(r=_[jt]||null)?Vv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new Ri("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(is!==0){var O=_?Pv(f,_):new FormData(f);Dd(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=_?Pv(f,_):new FormData(f),Dd(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var fm=0;fm<Yf.length;fm++){var dm=Yf[fm],Ow=dm.toLowerCase(),Mw=dm[0].toUpperCase()+dm.slice(1);ai(Ow,"on"+Mw)}ai(dy,"onAnimationEnd"),ai(my,"onAnimationIteration"),ai(py,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(XS,"onTransitionRun"),ai($S,"onTransitionStart"),ai(WS,"onTransitionCancel"),ai(gy,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Lv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],O=b.instance,F=b.currentTarget;if(b=b.listener,O!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(X){yc(X)}f.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(b=l[_],O=b.instance,F=b.currentTarget,b=b.listener,O!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(X){yc(X)}f.currentTarget=null,d=O}}}}function Ne(t,r){var a=r[ka];a===void 0&&(a=r[ka]=new Set);var l=t+"__bubble";a.has(l)||(Uv(r,t,2,!1),a.add(l))}function mm(t,r,a){var l=0;r&&(l|=4),Uv(a,t,l,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function pm(t){if(!t[ih]){t[ih]=!0,nl.forEach(function(a){a!=="selectionchange"&&(kw.has(a)||mm(a,!1,t),mm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ih]||(r[ih]=!0,mm("selectionchange",!1,r))}}function Uv(t,r,a,l){switch(dE(r)){case 2:var f=lR;break;case 8:f=uR;break;default:f=Nm}a=f.bind(null,r,a,t),f=void 0,!Fs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function gm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=vi(b),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Ur(function(){var F=d,X=Vn(a),ee=[];e:{var G=yy.get(t);if(G!==void 0){var Q=Ri,he=t;switch(t){case"keypress":if(Ks(a)===0)break e;case"keydown":case"keyup":Q=mc;break;case"focusin":he="focus",Q=Ys;break;case"focusout":he="blur",Q=Ys;break;case"beforeblur":case"afterblur":Q=Ys;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case dy:case my:case py:Q=oc;break;case gy:Q=A;break;case"scroll":case"scrollend":Q=ml;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Wi;break;case"toggle":case"beforetoggle":Q=we}var _e=(r&4)!==0,Je=!_e&&(t==="scroll"||t==="scrollend"),j=_e?G!==null?G+"Capture":null:G;_e=[];for(var k=F,H;k!==null;){var W=k;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||j===null||(W=ni(k,j),W!=null&&_e.push(Gl(k,W,H))),Je)break;k=k.return}0<_e.length&&(G=new Q(G,he,null,a,X),ee.push({event:G,listeners:_e}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==hl&&(he=a.relatedTarget||a.fromElement)&&(vi(he)||he[yi]))break e;if((Q||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=F,he=he?vi(he):null,he!==null&&(Je=u(he),_e=he.tag,he!==Je||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(Q=null,he=F),Q!==he)){if(_e=pl,W="onMouseLeave",j="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Wi,W="onPointerLeave",j="onPointerEnter",k="pointer"),Je=Q==null?G:vn(Q),H=he==null?G:vn(he),G=new _e(W,k+"leave",Q,a,X),G.target=Je,G.relatedTarget=H,W=null,vi(X)===F&&(_e=new _e(j,k+"enter",he,a,X),_e.target=H,_e.relatedTarget=Je,W=_e),Je=W,Q&&he)t:{for(_e=Vw,j=Q,k=he,H=0,W=j;W;W=_e(W))H++;W=0;for(var pe=k;pe;pe=_e(pe))W++;for(;0<H-W;)j=_e(j),H--;for(;0<W-H;)k=_e(k),W--;for(;H--;){if(j===k||k!==null&&j===k.alternate){_e=j;break t}j=_e(j),k=_e(k)}_e=null}else _e=null;Q!==null&&jv(ee,G,Q,_e,!1),he!==null&&Je!==null&&jv(ee,Je,he,_e,!0)}}e:{if(G=F?vn(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var ze=ny;else if(ey(G))if(iy)ze=KS;else{ze=FS;var fe=HS}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ua(F.elementType)&&(ze=ny):ze=GS;if(ze&&(ze=ze(t,F))){ty(ee,ze,a,X);break e}fe&&fe(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&ll(G,"number",G.value)}switch(fe=F?vn(F):window,t){case"focusin":(ey(fe)||fe.contentEditable==="true")&&(Ka=fe,Gf=F,El=null);break;case"focusout":El=Gf=Ka=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,hy(ee,a,X);break;case"selectionchange":if(YS)break;case"keydown":case"keyup":hy(ee,a,X)}var Ie;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ga?Xs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(xi&&a.locale!=="ko"&&(Ga||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ga&&(Ie=dl()):(wi=X,fl="value"in wi?wi.value:wi.textContent,Ga=!0)),fe=rh(F,Oe),0<fe.length&&(Oe=new Ii(Oe,t,null,a,X),ee.push({event:Oe,listeners:fe}),Ie?Oe.data=Ie:(Ie=Fa(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Ln?jS(t,a):zS(t,a))&&(Oe=rh(F,"onBeforeInput"),0<Oe.length&&(fe=new Ii("onBeforeInput","beforeinput",null,a,X),ee.push({event:fe,listeners:Oe}),fe.data=Ie)),Dw(ee,t,F,a,X)}Lv(ee,r)})}function Gl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function rh(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ni(t,a),f!=null&&l.unshift(Gl(t,f,d)),f=ni(t,r),f!=null&&l.push(Gl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Vw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jv(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,O=b.alternate,F=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||F===null||(O=F,f?(F=ni(a,d),F!=null&&_.unshift(Gl(a,F,O))):f||(F=ni(a,d),F!=null&&_.push(Gl(a,F,O)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var Pw=/\r\n?/g,Lw=/\u0000|\uFFFD/g;function zv(t){return(typeof t=="string"?t:""+t).replace(Pw,`
`).replace(Lw,"")}function Bv(t,r){return r=zv(r),zv(t)===r}function We(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&cn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":cl(t,l,d);break;case"data":if(r!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",f.name,f,null),We(t,r,"formEncType",f.formEncType,f,null),We(t,r,"formMethod",f.formMethod,f,null),We(t,r,"formTarget",f.formTarget,f,null)):(We(t,r,"encType",f.encType,f,null),We(t,r,"method",f.method,f,null),We(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ti);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Pa(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rc.get(a)||a,Pa(t,a,l))}}function ym(t,r,a,l,f,d){switch(a){case"style":cl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Pa(t,a,l)}}}function Yt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,d,_,a,null)}}f&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":Ne("invalid",t);var b=d=_=f=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":O=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:We(t,r,l,X,a,null)}}tc(t,d,b,O,F,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:We(t,r,f,b,a,null)}r=d,a=_,t.multiple=!!l,r!=null?kr(t,!!l,r,!1):a!=null&&kr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(t,r,_,b,a,null)}Vr(t,l,f,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,r,O,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Ne(Fl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,F,l,a,null)}return;default:if(Ua(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&ym(t,r,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,r,b,l,a,null))}function Uw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,O=null,F=null,X=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=ee;default:l.hasOwnProperty(Q)||We(t,r,Q,null,l,ee)}}for(var G in l){var Q=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Q!=null||ee!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":F=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ee&&We(t,r,G,Q,l,ee)}}La(t,_,b,O,F,X,d,f);return;case"select":Q=_=b=G=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Q=O;default:l.hasOwnProperty(d)||We(t,r,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==O&&We(t,r,f,d,l,O)}r=b,a=_,l=Q,G!=null?kr(t,!!a,G,!1):!!l!=!!a&&(r!=null?kr(t,!!a,r,!0):kr(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,r,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(t,r,_,f,l,d)}nc(t,G,Q);return;case"option":for(var he in a)G=a[he],a.hasOwnProperty(he)&&G!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:We(t,r,he,null,l,G));for(O in l)G=l[O],Q=a[O],l.hasOwnProperty(O)&&G!==Q&&(G!=null||Q!=null)&&(O==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":We(t,r,O,G,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)G=a[_e],a.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&We(t,r,_e,null,l,G);for(F in l)if(G=l[F],Q=a[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:We(t,r,F,G,l,Q)}return;default:if(Ua(r)){for(var Je in a)G=a[Je],a.hasOwnProperty(Je)&&G!==void 0&&!l.hasOwnProperty(Je)&&ym(t,r,Je,void 0,l,G);for(X in l)G=l[X],Q=a[X],!l.hasOwnProperty(X)||G===Q||G===void 0&&Q===void 0||ym(t,r,X,G,l,Q);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&We(t,r,j,null,l,G);for(ee in l)G=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||G===Q||G==null&&Q==null||We(t,r,ee,G,l,Q)}function qv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&qv(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>b)break;var X=O.transferSize,ee=O.initiatorType;X&&qv(ee)&&(O=O.responseEnd,_+=X*(O<b?1:(b-F)/(O-F)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _m=null,vm=null;function sh(t){return t.nodeType===9?t:t.ownerDocument}function Hv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Em(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tm=null;function zw(){var t=window.event;return t&&t.type==="popstate"?t===Tm?!1:(Tm=t,!0):(Tm=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(t){return Kv.resolve(null).then(t).catch(Hw)}:Gv;function Hw(t){setTimeout(function(){throw t})}function rs(t){return t==="head"}function Qv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Eo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Kl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[_i]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Kl(t.ownerDocument.body);a=f}while(a);Eo(r)}function Yv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function bm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),Va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Fw(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function Gw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function Xv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Fn(t.nextSibling),t===null))return null;return t}function Am(t){return t.data==="$?"||t.data==="$~"}function Sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Kw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var wm=null;function $v(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Fn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Wv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Jv(t,r,a){switch(r=sh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Kl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Va(t)}var Gn=new Map,Zv=new Set;function ah(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fr=ae.d;ae.d={f:Qw,r:Yw,D:Xw,C:$w,L:Ww,m:Jw,X:eR,S:Zw,M:tR};function Qw(){var t=fr.f(),r=Wc();return t||r}function Yw(t){var r=kn(t);r!==null&&r.tag===5&&r.type==="form"?g_(r):fr.r(t)}var yo=typeof document>"u"?null:document;function eE(t,r,a){var l=yo;if(l&&typeof r=="string"&&r){var f=un(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Zv.has(f)||(Zv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Yt(r,"link",t),wt(r),l.head.appendChild(r)))}}function Xw(t){fr.D(t),eE("dns-prefetch",t,null)}function $w(t,r){fr.C(t,r),eE("preconnect",t,r)}function Ww(t,r,a){fr.L(t,r,a);var l=yo;if(l&&t&&r){var f='link[rel="preload"][as="'+un(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var d=f;switch(r){case"style":d=_o(t);break;case"script":d=vo(t)}Gn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Gn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ql(d))||r==="script"&&l.querySelector(Yl(d))||(r=l.createElement("link"),Yt(r,"link",t),wt(r),l.head.appendChild(r)))}}function Jw(t,r){fr.m(t,r);var a=yo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vo(t)}if(!Gn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Gn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(d)))return}l=a.createElement("link"),Yt(l,"link",t),wt(l),a.head.appendChild(l)}}}function Zw(t,r,a){fr.S(t,r,a);var l=yo;if(l&&t){var f=Ei(l).hoistableStyles,d=_o(t);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ql(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Gn.get(d))&&Rm(t,a);var O=_=l.createElement("link");wt(O),Yt(O,"link",t),O._p=new Promise(function(F,X){O.onload=F,O.onerror=X}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,oh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function eR(t,r){fr.X(t,r);var a=yo;if(a&&t){var l=Ei(a).hoistableScripts,f=vo(t),d=l.get(f);d||(d=a.querySelector(Yl(f)),d||(t=T({src:t,async:!0},r),(r=Gn.get(f))&&Cm(t,r),d=a.createElement("script"),wt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function tR(t,r){fr.M(t,r);var a=yo;if(a&&t){var l=Ei(a).hoistableScripts,f=vo(t),d=l.get(f);d||(d=a.querySelector(Yl(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Gn.get(f))&&Cm(t,r),d=a.createElement("script"),wt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function tE(t,r,a,l){var f=(f=Ce.current)?ah(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=_o(a.href),a=Ei(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_o(a.href);var d=Ei(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Ql(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),d||nR(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vo(a),a=Ei(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _o(t){return'href="'+un(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function nE(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function nR(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",a),wt(r),t.head.appendChild(r))}function vo(t){return'[src="'+un(t)+'"]'}function Yl(t){return"script[async]"+t}function iE(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return r.instance=l,wt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Yt(l,"style",f),oh(l,a.precedence,t),r.instance=l;case"stylesheet":f=_o(a.href);var d=t.querySelector(Ql(f));if(d)return r.state.loading|=4,r.instance=d,wt(d),d;l=nE(a),(f=Gn.get(f))&&Rm(l,f),d=(t.ownerDocument||t).createElement("link"),wt(d);var _=d;return _._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),Yt(d,"link",l),r.state.loading|=4,oh(d,a.precedence,t),r.instance=d;case"script":return d=vo(a.src),(f=t.querySelector(Yl(d)))?(r.instance=f,wt(f),f):(l=a,(f=Gn.get(d))&&(l=T({},a),Cm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Yt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,oh(l,a.precedence,t));return r.instance}function oh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Rm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var lh=null;function rE(t,r,a){if(lh===null){var l=new Map,f=lh=new Map;f.set(a,l)}else f=lh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[_i]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function sE(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function iR(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function aE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rR(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=_o(l.href),d=r.querySelector(Ql(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=uh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=r.ownerDocument||r,l=nE(l),(f=Gn.get(f))&&Rm(l,f),d=d.createElement("link"),wt(d);var _=d;_._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),Yt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=uh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Im=0;function sR(t,r){return t.stylesheets&&t.count===0&&hh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Im===0&&(Im=62500*jw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Im?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ch=null;function hh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ch=new Map,r.forEach(aR,t),ch=null,uh.call(t))}function aR(t,r){if(!(r.state.loading&4)){var a=ch.get(t);if(a)var l=a.get(null);else{a=new Map,ch.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=uh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Xl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function oR(t,r,a,l,f,d,_,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function oE(t,r,a,l,f,d,_,b,O,F,X,ee){return t=new oR(t,r,a,_,O,F,X,ee,b),r=1,d===!0&&(r|=24),d=bn(3,null,null,r),t.current=d,d.stateNode=t,r=od(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},hd(d),t}function lE(t){return t?(t=Xa,t):Xa}function uE(t,r,a,l,f,d){f=lE(f),l.context===null?l.context=f:l.pendingContext=f,l=Qr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Yr(t,l,r),a!==null&&(pn(a,t,r),Cl(a,t,r))}function cE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function xm(t,r){cE(t,r),(t=t.alternate)&&cE(t,r)}function hE(t){if(t.tag===13||t.tag===31){var r=Js(t,67108864);r!==null&&pn(r,t,67108864),xm(t,67108864)}}function fE(t){if(t.tag===13||t.tag===31){var r=Cn();r=zs(r);var a=Js(t,r);a!==null&&pn(a,t,r),xm(t,r)}}var fh=!0;function lR(t,r,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=2,Nm(t,r,a,l)}finally{ae.p=d,$.T=f}}function uR(t,r,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=8,Nm(t,r,a,l)}finally{ae.p=d,$.T=f}}function Nm(t,r,a,l){if(fh){var f=Dm(l);if(f===null)gm(t,r,l,dh,a),mE(t,l);else if(hR(f,t,r,a,l))l.stopPropagation();else if(mE(t,l),r&4&&-1<cR.indexOf(t)){for(;f!==null;){var d=kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mi(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var O=1<<31-yt(_);b.entanglements[1]|=O,_&=~O}Mi(d),(He&6)===0&&(Xc=rn()+500,Hl(0))}}break;case 31:case 13:b=Js(d,2),b!==null&&pn(b,d,2),Wc(),xm(d,2)}if(d=Dm(l),d===null&&gm(t,r,l,dh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else gm(t,r,l,null,a)}}function Dm(t){return t=Vn(t),Om(t)}var dh=null;function Om(t){if(dh=null,t=vi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return dh=t,null}function dE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ps()){case Jo:return 2;case Zo:return 8;case Or:case Uf:return 32;case Gu:return 268435456;default:return 32}default:return 32}}var Mm=!1,ss=null,as=null,os=null,$l=new Map,Wl=new Map,ls=[],cR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mE(t,r){switch(t){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":$l.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(r.pointerId)}}function Jl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=kn(r),r!==null&&hE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function hR(t,r,a,l,f){switch(r){case"focusin":return ss=Jl(ss,t,r,a,l,f),!0;case"dragenter":return as=Jl(as,t,r,a,l,f),!0;case"mouseover":return os=Jl(os,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return $l.set(d,Jl($l.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Wl.set(d,Jl(Wl.get(d)||null,t,r,a,l,f)),!0}return!1}function pE(t){var r=vi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Zn(t.priority,function(){fE(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Zn(t.priority,function(){fE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Dm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);hl=l,a.target.dispatchEvent(l),hl=null}else return r=kn(a),r!==null&&hE(r),t.blockedOn=a,!1;r.shift()}return!0}function gE(t,r,a){mh(t)&&a.delete(r)}function fR(){Mm=!1,ss!==null&&mh(ss)&&(ss=null),as!==null&&mh(as)&&(as=null),os!==null&&mh(os)&&(os=null),$l.forEach(gE),Wl.forEach(gE)}function ph(t,r){t.blockedOn===r&&(t.blockedOn=null,Mm||(Mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fR)))}var gh=null;function yE(t){gh!==t&&(gh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gh===t&&(gh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Om(l||a)===null)continue;break}var d=kn(a);d!==null&&(t.splice(r,3),r-=3,Dd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Eo(t){function r(O){return ph(O,t)}ss!==null&&ph(ss,t),as!==null&&ph(as,t),os!==null&&ph(os,t),$l.forEach(r),Wl.forEach(r);for(var a=0;a<ls.length;a++){var l=ls[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ls.length&&(a=ls[0],a.blockedOn===null);)pE(a),a.blockedOn===null&&ls.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[jt]||null;if(typeof d=="function")_||yE(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[jt]||null)b=_.formAction;else if(Om(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),yE(a)}}}function _E(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function km(t){this._internalRoot=t}yh.prototype.render=km.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Cn();uE(a,l,t,r,null,null)},yh.prototype.unmount=km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;uE(t.current,2,null,t,null,null),Wc(),r[yi]=null}};function yh(t){this._internalRoot=t}yh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Wu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ls.length&&r!==0&&r<ls[a].priority;a++);ls.splice(a,0,t),a===0&&pE(t)}};var vE=e.version;if(vE!=="19.2.3")throw Error(s(527,vE,"19.2.3"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var dR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{Wn=_h.inject(dR),Ht=_h}catch{}}return eu.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=R_,d=C_,_=I_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=oE(t,1,!1,null,null,a,l,null,f,d,_,_E),t[yi]=r.current,pm(t),new km(r)},eu.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=R_,_=C_,b=I_,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=oE(t,1,!0,r,a??null,l,f,O,d,_,b,_E),r.context=lE(null),a=r.current,l=Cn(),l=zs(l),f=Qr(l),f.callback=null,Yr(a,f,l),a=l,r.current.lanes=a,Us(r,a),Mi(r),t[yi]=r.current,pm(t),new yh(r)},eu.version="19.2.3",eu}var xE;function AR(){if(xE)return Lm.exports;xE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lm.exports=bR(),Lm.exports}var SR=AR();const wR="modulepreload",RR=function(i){return"/"+i},NE={},Cr=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=p(n.map(g=>{if(g=RR(g),g in NE)return;NE[g]=!0;const E=g.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":wR,E||(S.as="script"),S.crossOrigin="",S.href=g,m&&S.setAttribute("nonce",m),document.head.appendChild(S),E)return new Promise((N,U)=>{S.addEventListener("load",N),S.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};var DE="popstate";function CR(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return ap("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:gu(o)}return xR(e,n,null,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Xn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IR(){return Math.random().toString(36).substring(2,10)}function OE(i,e){return{usr:i.state,key:i.key,idx:e}}function ap(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:n,key:e&&e.key||s||IR()}}function gu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function zo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function xR(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let P=E(),Y=P==null?null:P-g;g=P,p&&p({action:m,location:z.location,delta:Y})}function S(P,Y){m="PUSH";let Z=ap(z.location,P,Y);g=E()+1;let ne=OE(Z,g),se=z.createHref(Z);try{h.pushState(ne,"",se)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(se)}u&&p&&p({action:m,location:z.location,delta:1})}function N(P,Y){m="REPLACE";let Z=ap(z.location,P,Y);g=E();let ne=OE(Z,g),se=z.createHref(Z);h.replaceState(ne,"",se),u&&p&&p({action:m,location:z.location,delta:0})}function U(P){return NR(P)}let z={get action(){return m},get location(){return i(o,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(DE,T),p=P,()=>{o.removeEventListener(DE,T),p=null}},createHref(P){return e(o,P)},createURL:U,encodeLocation(P){let Y=U(P);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:N,go(P){return h.go(P)}};return z}function NR(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:gu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function S0(i,e,n="/"){return DR(i,e,n,!1)}function DR(i,e,n,s){let o=typeof e=="string"?zo(e):e,u=Er(o.pathname||"/",n);if(u==null)return null;let h=w0(i);OR(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=HR(u);m=BR(h[p],g,s)}return m}function w0(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=gr([s,E.relativePath]),S=n.concat(E);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),w0(h.children,e,S,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:jR(T,h.index),routesMeta:S})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of R0(h.path))u(h,m,!0,p)}),e}function R0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=R0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function OR(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:zR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var MR=/^:[\w-]+$/,kR=3,VR=2,PR=1,LR=10,UR=-2,ME=i=>i==="*";function jR(i,e){let n=i.split("/"),s=n.length;return n.some(ME)&&(s+=UR),e&&(s+=VR),n.filter(o=>!ME(o)).reduce((o,u)=>o+(MR.test(u)?kR:u===""?PR:LR),s)}function zR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function BR(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:gr([u,T.pathname]),pathnameBase:QR(gr([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=gr([u,T.pathnameBase]))}return h}function Bh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=qR(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},S)=>{if(E==="*"){let U=m[S]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const N=m[S];return T&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function qR(i,e=!1,n=!0){Xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function HR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Er(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var C0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FR=i=>C0.test(i);function GR(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?zo(i):i,u;if(n)if(FR(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=kE(n.substring(1),"/"):u=kE(n,e)}else u=e;return{pathname:u,search:YR(s),hash:XR(o)}}function kE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Bm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KR(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pp(i){let e=KR(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Lp(i,e,n,s=!1){let o;typeof i=="string"?o=zo(i):(o={...i},ct(!o.pathname||!o.pathname.includes("?"),Bm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Bm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Bm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let p=GR(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var gr=i=>i.join("/").replace(/\/\/+/g,"/"),QR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),YR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,XR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,$R=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function WR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function JR(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var I0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function x0(i,e){let n=i;if(typeof n!="string"||!C0.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(I0)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Er(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Xn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N0=["POST","PUT","PATCH","DELETE"];new Set(N0);var ZR=["GET",...N0];new Set(ZR);var Bo=L.createContext(null);Bo.displayName="DataRouter";var uf=L.createContext(null);uf.displayName="DataRouterState";var e1=L.createContext(!1),D0=L.createContext({isTransitioning:!1});D0.displayName="ViewTransition";var t1=L.createContext(new Map);t1.displayName="Fetchers";var n1=L.createContext(null);n1.displayName="Await";var On=L.createContext(null);On.displayName="Navigation";var Iu=L.createContext(null);Iu.displayName="Location";var $n=L.createContext({outlet:null,matches:[],isDataRoute:!1});$n.displayName="Route";var Up=L.createContext(null);Up.displayName="RouteError";var O0="REACT_ROUTER_ERROR",i1="REDIRECT",r1="ROUTE_ERROR_RESPONSE";function s1(i){if(i.startsWith(`${O0}:${i1}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function a1(i){if(i.startsWith(`${O0}:${r1}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $R(e.status,e.statusText,e.data)}catch{}}function o1(i,{relative:e}={}){ct(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(On),{hash:o,pathname:u,search:h}=xu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:gr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function qo(){return L.useContext(Iu)!=null}function Ki(){return ct(qo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Iu).location}var M0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k0(i){L.useContext(On).static||L.useLayoutEffect(i)}function cf(){let{isDataRoute:i}=L.useContext($n);return i?b1():l1()}function l1(){ct(qo(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Bo),{basename:e,navigator:n}=L.useContext(On),{matches:s}=L.useContext($n),{pathname:o}=Ki(),u=JSON.stringify(Pp(s)),h=L.useRef(!1);return k0(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(Xn(h.current,M0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Lp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:gr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}var u1=L.createContext(null);function c1(i){let e=L.useContext($n).outlet;return L.useMemo(()=>e&&L.createElement(u1.Provider,{value:i},e),[e,i])}function gV(){let{matches:i}=L.useContext($n),e=i[i.length-1];return e?e.params:{}}function xu(i,{relative:e}={}){let{matches:n}=L.useContext($n),{pathname:s}=Ki(),o=JSON.stringify(Pp(n));return L.useMemo(()=>Lp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function h1(i,e){return V0(i,e)}function V0(i,e,n,s,o){ct(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(On),{matches:h}=L.useContext($n),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let Z=T&&T.path||"";L0(g,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let S=Ki(),N;if(e){let Z=typeof e=="string"?zo(e):e;ct(E==="/"||Z.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),N=Z}else N=S;let U=N.pathname||"/",z=U;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");z="/"+U.replace(/^\//,"").split("/").slice(Z.length).join("/")}let P=S0(i,{pathname:z});Xn(T||P!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Xn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=g1(P&&P.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:gr([E,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:gr([E,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),h,n,s,o);return e&&Y?L.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},Y):Y}function f1(){let i=T1(),e=WR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var d1=L.createElement(f1,null),P0=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=a1(i.digest);n&&(i=n)}let e=i!==void 0?L.createElement($n.Provider,{value:this.props.routeContext},L.createElement(Up.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?L.createElement(m1,{error:i},e):e}};P0.contextType=e1;var qm=new WeakMap;function m1({children:i,error:e}){let{basename:n}=L.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=s1(e.digest);if(s){let o=qm.get(e);if(o)throw o;let u=x0(s.location,n);if(I0&&!qm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw qm.set(e,h),h}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function p1({routeContext:i,match:e,children:n}){let s=L.useContext(Bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement($n.Provider,{value:i},n)}function g1(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ct(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:S,errors:N}=n,U=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!N||N[T.route.id]===void 0);if(T.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:JR(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,S)=>{let N,U=!1,z=null,P=null;n&&(N=h&&T.route.id?h[T.route.id]:void 0,z=T.route.errorElement||d1,m&&(p<0&&S===0?(L0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,P=null):p===S&&(U=!0,P=T.route.hydrateFallbackElement||null)));let Y=e.concat(u.slice(0,S+1)),Z=()=>{let ne;return N?ne=z:U?ne=P:T.route.Component?ne=L.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=E,L.createElement(p1,{match:T,routeContext:{outlet:E,matches:Y,isDataRoute:n!=null},children:ne})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?L.createElement(P0,{location:n.location,revalidation:n.revalidation,component:z,error:N,children:Z(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:g}):Z()},null)}function jp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y1(i){let e=L.useContext(Bo);return ct(e,jp(i)),e}function _1(i){let e=L.useContext(uf);return ct(e,jp(i)),e}function v1(i){let e=L.useContext($n);return ct(e,jp(i)),e}function zp(i){let e=v1(i),n=e.matches[e.matches.length-1];return ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function E1(){return zp("useRouteId")}function T1(){let i=L.useContext(Up),e=_1("useRouteError"),n=zp("useRouteError");return i!==void 0?i:e.errors?.[n]}function b1(){let{router:i}=y1("useNavigate"),e=zp("useNavigate"),n=L.useRef(!1);return k0(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{Xn(n.current,M0),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var VE={};function L0(i,e,n){!e&&!VE[i]&&(VE[i]=!0,Xn(!1,n))}L.memo(A1);function A1({routes:i,future:e,state:n,onError:s}){return V0(i,void 0,n,s,e)}function S1({to:i,replace:e,state:n,relative:s}){ct(qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(On);Xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext($n),{pathname:h}=Ki(),m=cf(),p=Lp(i,Pp(u),h,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function w1(i){return c1(i.context)}function In(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ct(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=zo(n));let{pathname:g="/",search:E="",hash:T="",state:S=null,key:N="default"}=n,U=L.useMemo(()=>{let z=Er(g,m);return z==null?null:{location:{pathname:z,search:E,hash:T,state:S,key:N},navigationType:s}},[m,g,E,T,S,N,s]);return Xn(U!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:L.createElement(On.Provider,{value:p},L.createElement(Iu.Provider,{children:e,value:U}))}function C1({children:i,location:e}){return h1(op(i),e)}function op(i,e=[]){let n=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,op(s.props.children,u));return}ct(s.type===In,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=op(s.props.children,u)),n.push(h)}),n}var xh="get",Nh="application/x-www-form-urlencoded";function hf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function I1(i){return hf(i)&&i.tagName.toLowerCase()==="button"}function x1(i){return hf(i)&&i.tagName.toLowerCase()==="form"}function N1(i){return hf(i)&&i.tagName.toLowerCase()==="input"}function D1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function O1(i,e){return i.button===0&&(!e||e==="_self")&&!D1(i)}var vh=null;function M1(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var k1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(i){return i!=null&&!k1.has(i)?(Xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):i}function V1(i,e){let n,s,o,u,h;if(x1(i)){let m=i.getAttribute("action");s=m?Er(m,e):null,n=i.getAttribute("method")||xh,o=Hm(i.getAttribute("enctype"))||Nh,u=new FormData(i)}else if(I1(i)||N1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Er(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||xh,o=Hm(i.getAttribute("formenctype"))||Hm(m.getAttribute("enctype"))||Nh,u=new FormData(m,i),!M1()){let{name:g,type:E,value:T}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(hf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xh,s=null,o=Nh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function P1(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Er(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function L1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function j1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await L1(u,n);return h.links?h.links():[]}return[]}));return H1(s.flat(1).filter(U1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function PE(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function z1(i,e,{includeHydrateFallback:n}={}){return B1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function B1(i){return[...new Set(i)]}function q1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function H1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(q1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function U0(){let i=L.useContext(Bo);return Bp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function F1(){let i=L.useContext(uf);return Bp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qp=L.createContext(void 0);qp.displayName="FrameworkContext";function j0(){let i=L.useContext(qp);return Bp(i,"You must render this element inside a <HydratedRouter> element"),i}function G1(i,e){let n=L.useContext(qp),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,S=L.useRef(null);L.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=Y=>{Y.forEach(Z=>{h(Z.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[i]),L.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let N=()=>{o(!0)},U=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:tu(m,N),onBlur:tu(p,U),onMouseEnter:tu(g,N),onMouseLeave:tu(E,U),onTouchStart:tu(T,N)}]:[!1,S,{}]}function tu(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function K1({page:i,...e}){let{router:n}=U0(),s=L.useMemo(()=>S0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?L.createElement(Y1,{page:i,matches:s,...e}):null}function Q1(i){let{manifest:e,routeModules:n}=j0(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return j1(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function Y1({page:i,matches:e,...n}){let s=Ki(),{manifest:o,routeModules:u}=j0(),{basename:h}=U0(),{loaderData:m,matches:p}=F1(),g=L.useMemo(()=>PE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=L.useMemo(()=>PE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,z=!1;if(e.forEach(Y=>{let Z=o.routes[Y.route.id];!Z||!Z.hasLoader||(!g.some(ne=>ne.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||Z.hasClientLoader?z=!0:U.add(Y.route.id))}),U.size===0)return[];let P=P1(i,h,"data");return z&&U.size>0&&P.searchParams.set("_routes",e.filter(Y=>U.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[P.pathname+P.search]},[h,m,s,o,g,e,i,u]),S=L.useMemo(()=>z1(E,o),[E,o]),N=Q1(E);return L.createElement(L.Fragment,null,T.map(U=>L.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),S.map(U=>L.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),N.map(({key:U,link:z})=>L.createElement("link",{key:U,nonce:n.nonce,...z})))}function X1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$1&&(window.__reactRouterVersion="7.11.0")}catch{}function W1({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=CR({window:s,v5Compat:!0}));let u=o.current,[h,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(R1,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yu=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...N},U){let{basename:z,unstable_useTransitions:P}=L.useContext(On),Y=typeof g=="string"&&z0.test(g),Z=x0(g,z);g=Z.to;let ne=o1(g,{relative:o}),[se,de,me]=G1(s,N),C=eC(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:P});function w(x){e&&e(x),x.defaultPrevented||C(x)}let I=L.createElement("a",{...N,...me,href:Z.absoluteURL||ne,onClick:Z.isExternal||u?e:w,ref:X1(U,de),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return se&&!Y?L.createElement(L.Fragment,null,I,L.createElement(K1,{page:ne})):I});yu.displayName="Link";var B0=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=xu(h,{relative:g.relative}),S=Ki(),N=L.useContext(uf),{navigator:U,basename:z}=L.useContext(On),P=N!=null&&sC(T)&&m===!0,Y=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,Z=S.pathname,ne=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),ne=ne?ne.toLowerCase():null,Y=Y.toLowerCase()),ne&&z&&(ne=Er(ne,z)||ne);const se=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let de=Z===Y||!o&&Z.startsWith(Y)&&Z.charAt(se)==="/",me=ne!=null&&(ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(Y.length)==="/"),C={isActive:de,isPending:me,isTransitioning:P},w=de?e:void 0,I;typeof s=="function"?I=s(C):I=[s,de?"active":null,me?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(C):u;return L.createElement(yu,{...g,"aria-current":w,className:I,ref:E,style:x,to:h,viewTransition:m},typeof p=="function"?p(C):p)});B0.displayName="NavLink";var J1=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=xh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...N},U)=>{let{unstable_useTransitions:z}=L.useContext(On),P=iC(),Y=rC(m,{relative:g}),Z=h.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&z0.test(m),se=de=>{if(p&&p(de),de.defaultPrevented)return;de.preventDefault();let me=de.nativeEvent.submitter,C=me?.getAttribute("formmethod")||h,w=()=>P(me||de.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S});z&&n!==!1?L.startTransition(()=>w()):w()};return L.createElement("form",{ref:U,method:Z,action:Y,onSubmit:s?p:se,...N,"data-discover":!ne&&i==="render"?"true":void 0})});J1.displayName="Form";function Z1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q0(i){let e=L.useContext(Bo);return ct(e,Z1(i)),e}function eC(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=cf(),E=Ki(),T=xu(i,{relative:u});return L.useCallback(S=>{if(O1(S,e)){S.preventDefault();let N=n!==void 0?n:gu(E)===gu(T),U=()=>g(i,{replace:N,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?L.startTransition(()=>U()):U()}},[E,g,T,n,s,e,i,o,u,h,m,p])}var tC=0,nC=()=>`__${String(++tC)}__`;function iC(){let{router:i}=q0("useSubmit"),{basename:e}=L.useContext(On),n=E1(),s=i.fetch,o=i.navigate;return L.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=V1(u,e);if(h.navigate===!1){let S=h.fetcherKey||nC();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function rC(i,{relative:e}={}){let{basename:n}=L.useContext(On),s=L.useContext($n);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...xu(i||".",{relative:e})},h=Ki();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gr([n,u.pathname])),gu(u)}function sC(i,{relative:e}={}){let n=L.useContext(D0);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=q0("useViewTransitionState"),o=xu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Er(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Bh(o.pathname,h)!=null||Bh(o.pathname,u)!=null}const H0=L.createContext();function aC({children:i}){const[e,n]=L.useState(()=>localStorage.getItem("dacapo-theme")==="dark");L.useEffect(()=>{e?(document.body.classList.add("dark"),localStorage.setItem("dacapo-theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("dacapo-theme","light"))},[e]);const s=L.useCallback(()=>{n(h=>!h)},[]),o=L.useCallback(h=>{n(h==="dark")},[]),u=L.useCallback(()=>e?"dark":"light",[e]);return R.jsx(H0.Provider,{value:{isDarkMode:e,toggleTheme:s,setThemeFromPreference:o,getThemePreference:u},children:i})}function Hp(){const i=L.useContext(H0);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i}const oC=()=>{};var LE={};const F0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},lC=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},G0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,N=g&63;p||(N=64,h||(S=64)),s.push(n[E],n[T],n[S],n[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(F0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):lC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new uC;const S=u<<2|m>>4;if(s.push(S),g!==64){const N=m<<4&240|g>>2;if(s.push(N),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cC=function(i){const e=F0(i);return G0.encodeByteArray(e,!0)},qh=function(i){return cC(i).replace(/\./g,"")},K0=function(i){try{return G0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fC=()=>hC().__FIREBASE_DEFAULTS__,dC=()=>{if(typeof process>"u"||typeof LE>"u")return;const i=LE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},mC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&K0(i[1]);return e&&JSON.parse(e)},ff=()=>{try{return oC()||fC()||dC()||mC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Q0=i=>ff()?.emulatorHosts?.[i],Y0=i=>{const e=Q0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},X0=()=>ff()?.config,$0=i=>ff()?.[`_${i}`];class pC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function xs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fp(i){return(await fetch(i,{credentials:"include"})).ok}function W0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[qh(JSON.stringify(n)),qh(JSON.stringify(h)),""].join(".")}const uu={};function gC(){const i={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?i.emulator.push(e):i.prod.push(e);return i}function yC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let UE=!1;function Gp(i,e){if(typeof window>"u"||typeof document>"u"||!xs(window.location.host)||uu[i]===e||uu[i]||UE)return;uu[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=gC().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{UE=!0,h()},S}function E(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=yC(s),N=n("text"),U=document.getElementById(N)||document.createElement("span"),z=n("learnmore"),P=document.getElementById(z)||document.createElement("a"),Y=n("preprendIcon"),Z=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ne=S.element;m(ne),E(P,z);const se=g();p(Z,Y),ne.append(Z,U,P,se),document.body.appendChild(ne)}u?(U.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _C(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function vC(){const i=ff()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function bC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AC(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function SC(){return!vC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wC(){try{return typeof indexedDB=="object"}catch{return!1}}function RC(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const CC="FirebaseError";class Qi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=CC,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?IC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Qi(o,m,s)}}function IC(i,e){return i.replace(xC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const xC=/\{\$([^}]+)}/g;function NC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Tr(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(jE(u)&&jE(h)){if(!Tr(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function jE(i){return i!==null&&typeof i=="object"}function Du(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function iu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ru(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function DC(i,e){const n=new OC(i,e);return n.subscribe.bind(n)}class OC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");MC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Fm),o.error===void 0&&(o.error=Fm),o.complete===void 0&&(o.complete=Fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Fm(){}function rt(i){return i&&i._delegate?i._delegate:i}class bs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ha="[DEFAULT]";class kC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new pC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PC(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VC(i){return i===ha?void 0:i}function PC(i){return i.instantiationMode==="EAGER"}class LC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const UC={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},jC=Me.INFO,zC={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},BC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=zC[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=jC,this._logHandler=BC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const qC=(i,e)=>e.some(n=>i instanceof n);let zE,BE;function HC(){return zE||(zE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FC(){return BE||(BE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J0=new WeakMap,lp=new WeakMap,Z0=new WeakMap,Gm=new WeakMap,Qp=new WeakMap;function GC(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(_s(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&J0.set(n,i)}).catch(()=>{}),Qp.set(e,i),e}function KC(i){if(lp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});lp.set(i,e)}let up={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return lp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Z0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function QC(i){up=i(up)}function YC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Km(this),e,...n);return Z0.set(s,e.sort?e.sort():[e]),_s(s)}:FC().includes(i)?function(...e){return i.apply(Km(this),e),_s(J0.get(this))}:function(...e){return _s(i.apply(Km(this),e))}}function XC(i){return typeof i=="function"?YC(i):(i instanceof IDBTransaction&&KC(i),qC(i,HC())?new Proxy(i,up):i)}function _s(i){if(i instanceof IDBRequest)return GC(i);if(Gm.has(i))return Gm.get(i);const e=XC(i);return e!==i&&(Gm.set(i,e),Qp.set(e,i)),e}const Km=i=>Qp.get(i);function $C(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=_s(h);return s&&h.addEventListener("upgradeneeded",p=>{s(_s(h.result),p.oldVersion,p.newVersion,_s(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const WC=["get","getKey","getAll","getAllKeys","count"],JC=["put","add","delete","clear"],Qm=new Map;function qE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Qm.get(e))return Qm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=JC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Qm.set(e,u),u}QC(i=>({...i,get:(e,n,s)=>qE(e,n)||i.get(e,n,s),has:(e,n)=>!!qE(e,n)||i.has(e,n)}));class ZC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function eI(i){return i.getComponent()?.type==="VERSION"}const cp="@firebase/app",HE="0.14.6";const br=new Kp("@firebase/app"),tI="@firebase/app-compat",nI="@firebase/analytics-compat",iI="@firebase/analytics",rI="@firebase/app-check-compat",sI="@firebase/app-check",aI="@firebase/auth",oI="@firebase/auth-compat",lI="@firebase/database",uI="@firebase/data-connect",cI="@firebase/database-compat",hI="@firebase/functions",fI="@firebase/functions-compat",dI="@firebase/installations",mI="@firebase/installations-compat",pI="@firebase/messaging",gI="@firebase/messaging-compat",yI="@firebase/performance",_I="@firebase/performance-compat",vI="@firebase/remote-config",EI="@firebase/remote-config-compat",TI="@firebase/storage",bI="@firebase/storage-compat",AI="@firebase/firestore",SI="@firebase/ai",wI="@firebase/firestore-compat",RI="firebase",CI="12.6.0";const hp="[DEFAULT]",II={[cp]:"fire-core",[tI]:"fire-core-compat",[iI]:"fire-analytics",[nI]:"fire-analytics-compat",[sI]:"fire-app-check",[rI]:"fire-app-check-compat",[aI]:"fire-auth",[oI]:"fire-auth-compat",[lI]:"fire-rtdb",[uI]:"fire-data-connect",[cI]:"fire-rtdb-compat",[hI]:"fire-fn",[fI]:"fire-fn-compat",[dI]:"fire-iid",[mI]:"fire-iid-compat",[pI]:"fire-fcm",[gI]:"fire-fcm-compat",[yI]:"fire-perf",[_I]:"fire-perf-compat",[vI]:"fire-rc",[EI]:"fire-rc-compat",[TI]:"fire-gcs",[bI]:"fire-gcs-compat",[AI]:"fire-fst",[wI]:"fire-fst-compat",[SI]:"fire-vertex","fire-js":"fire-js",[RI]:"fire-js-all"};const Hh=new Map,xI=new Map,fp=new Map;function FE(i,e){try{i.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ya(i){const e=i.name;if(fp.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,i);for(const n of Hh.values())FE(n,i);for(const n of xI.values())FE(n,i);return!0}function df(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function xn(i){return i==null?!1:i.settings!==void 0}const NI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new Nu("app","Firebase",NI);class DI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}const Aa=CI;function eb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:hp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw vs.create("bad-app-name",{appName:String(o)});if(n||(n=X0()),!n)throw vs.create("no-options");const u=Hh.get(o);if(u){if(Tr(n,u.options)&&Tr(s,u.config))return u;throw vs.create("duplicate-app",{appName:o})}const h=new LC(o);for(const p of fp.values())h.addComponent(p);const m=new DI(n,s,h);return Hh.set(o,m),m}function Yp(i=hp){const e=Hh.get(i);if(!e&&i===hp&&X0())return eb();if(!e)throw vs.create("no-app",{appName:i});return e}function Ui(i,e,n){let s=II[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(h.join(" "));return}ya(new bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const OI="firebase-heartbeat-database",MI=1,_u="firebase-heartbeat-store";let Ym=null;function tb(){return Ym||(Ym=$C(OI,MI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(_u)}catch(n){console.warn(n)}}}}).catch(i=>{throw vs.create("idb-open",{originalErrorMessage:i.message})})),Ym}async function kI(i){try{const n=(await tb()).transaction(_u),s=await n.objectStore(_u).get(nb(i));return await n.done,s}catch(e){if(e instanceof Qi)br.warn(e.message);else{const n=vs.create("idb-get",{originalErrorMessage:e?.message});br.warn(n.message)}}}async function GE(i,e){try{const s=(await tb()).transaction(_u,"readwrite");await s.objectStore(_u).put(e,nb(i)),await s.done}catch(n){if(n instanceof Qi)br.warn(n.message);else{const s=vs.create("idb-set",{originalErrorMessage:n?.message});br.warn(s.message)}}}function nb(i){return`${i.name}!${i.options.appId}`}const VI=1024,PI=30;class LI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>PI){const o=zI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){br.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=KE(),{heartbeatsToSend:n,unsentEntries:s}=UI(this._heartbeatsCache.heartbeats),o=qh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return br.warn(e),""}}}function KE(){return new Date().toISOString().substring(0,10)}function UI(i,e=VI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),QE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),QE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class jI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wC()?RC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return GE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return GE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function QE(i){return qh(JSON.stringify({version:2,heartbeats:i})).length}function zI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function BI(i){ya(new bs("platform-logger",e=>new ZC(e),"PRIVATE")),ya(new bs("heartbeat",e=>new LI(e),"PRIVATE")),Ui(cp,HE,i),Ui(cp,HE,"esm2020"),Ui("fire-js","")}BI("");function ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qI=ib,rb=new Nu("auth","Firebase",ib());const Fh=new Kp("@firebase/auth");function HI(i,...e){Fh.logLevel<=Me.WARN&&Fh.warn(`Auth (${Aa}): ${i}`,...e)}function Dh(i,...e){Fh.logLevel<=Me.ERROR&&Fh.error(`Auth (${Aa}): ${i}`,...e)}function ci(i,...e){throw Xp(i,...e)}function ji(i,...e){return Xp(i,...e)}function sb(i,e,n){const s={...qI(),[e]:n};return new Nu("auth","Firebase",s).create(e,{appName:i.name})}function yr(i){return sb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return rb.create(i,...e)}function ve(i,e,...n){if(!i)throw Xp(e,...n)}function mr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Dh(e),new Error(e)}function Ar(i,e){i||mr(e)}function dp(){return typeof self<"u"&&self.location?.href||""}function FI(){return YE()==="http:"||YE()==="https:"}function YE(){return typeof self<"u"&&self.location?.protocol||null}function GI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FI()||TC()||"connection"in navigator)?navigator.onLine:!0}function KI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=_C()||bC()}get(){return GI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $p(i,e){Ar(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ab{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XI=new Ou(3e4,6e4);function Ir(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function xr(i,e,n,s,o={}){return ob(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Du({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return EC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&xs(i.emulatorConfig.host)&&(g.credentials="include"),ab.fetch()(await lb(i,i.config.apiHost,n,m),g)})}async function ob(i,e,n){i._canInitEmulator=!1;const s={...QI,...e};try{const o=new WI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Eh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Eh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Eh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw sb(i,E,g);ci(i,E)}}catch(o){if(o instanceof Qi)throw o;ci(i,"network-request-failed",{message:String(o)})}}async function Mu(i,e,n,s,o={}){const u=await xr(i,e,n,s,o);return"mfaPendingCredential"in u&&ci(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function lb(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?$p(i.config,o):`${i.config.apiScheme}://${o}`;return YI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function $I(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ji(this.auth,"network-request-failed")),XI.get())})}}function Eh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ji(i,e,s);return o.customData._tokenResponse=n,o}function XE(i){return i!==void 0&&i.enterprise!==void 0}class JI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $I(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZI(i,e){return xr(i,"GET","/v2/recaptchaConfig",Ir(i,e))}async function ex(i,e){return xr(i,"POST","/v1/accounts:delete",e)}async function Gh(i,e){return xr(i,"POST","/v1/accounts:lookup",e)}function cu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tx(i,e=!1){const n=rt(i),s=await n.getIdToken(e),o=Wp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:cu(Xm(o.auth_time)),issuedAtTime:cu(Xm(o.iat)),expirationTime:cu(Xm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Xm(i){return Number(i)*1e3}function Wp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=K0(n);return o?JSON.parse(o):(Dh("Failed to decode base64 JWT payload"),null)}catch(o){return Dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $E(i){const e=Wp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Qi&&nx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function nx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class ix{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kh(i){const e=i.auth,n=await i.getIdToken(),s=await vu(i,Gh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?ub(o.providerUserInfo):[],h=sx(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function rx(i){const e=rt(i);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ub(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ax(i,e){const n=await ob(i,{},async()=>{const s=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await lb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&xs(i.emulatorConfig.host)&&(p.credentials="include"),ab.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ox(i,e){return xr(i,"POST","/v2/accounts:revokeToken",Ir(i,e))}class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=$E(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await ax(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Io;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return mr("not implemented")}}function cs(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new ix(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tx(this,e)}reload(){return rx(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(yr(this.auth));const e=await this.getIdToken();return await vu(this,ex(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:N,providerData:U,stsTokenManager:z}=n;ve(T&&z,e,"internal-error");const P=Io.fromJSON(this.name,z);ve(typeof T=="string",e,"internal-error"),cs(s,e.name),cs(o,e.name),ve(typeof S=="boolean",e,"internal-error"),ve(typeof N=="boolean",e,"internal-error"),cs(u,e.name),cs(h,e.name),cs(m,e.name),cs(p,e.name),cs(g,e.name),cs(E,e.name);const Y=new ui({uid:T,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:N,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:E});return U&&Array.isArray(U)&&(Y.providerData=U.map(Z=>({...Z}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new Io;o.updateFromServerResponse(n);const u=new ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Kh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ub(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Io;m.updateFromIdToken(s);const p=new ui({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const WE=new Map;function pr(i){Ar(i instanceof Function,"Expected a class definition");let e=WE.get(i);return e?(Ar(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,WE.set(i,e),e)}class cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cb.type="NONE";const JE=cb;function Oh(i,e,n){return`firebase:${i}:${e}:${n}`}class xo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gh(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new xo(pr(JE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||pr(JE);const h=Oh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const S=await Gh(e,{idToken:E}).catch(()=>{});if(!S)break;T=await ui._fromGetAccountInfoResponse(e,S,E)}else T=ui._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new xo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new xo(u,e,s))}}function ZE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gb(e))return"Blackberry";if(yb(e))return"Webos";if(fb(e))return"Safari";if((e.includes("chrome/")||db(e))&&!e.includes("edge/"))return"Chrome";if(pb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function hb(i=nn()){return/firefox\//i.test(i)}function fb(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function db(i=nn()){return/crios\//i.test(i)}function mb(i=nn()){return/iemobile/i.test(i)}function pb(i=nn()){return/android/i.test(i)}function gb(i=nn()){return/blackberry/i.test(i)}function yb(i=nn()){return/webos/i.test(i)}function Jp(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function lx(i=nn()){return Jp(i)&&!!window.navigator?.standalone}function ux(){return AC()&&document.documentMode===10}function _b(i=nn()){return Jp(i)||pb(i)||yb(i)||gb(i)||/windows phone/i.test(i)||mb(i)}function vb(i,e=[]){let n;switch(i){case"Browser":n=ZE(nn());break;case"Worker":n=`${ZE(nn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Aa}/${s}`}class cx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function hx(i,e={}){return xr(i,"GET","/v2/passwordPolicy",Ir(i,e))}const fx=6;class dx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class mx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eT(this),this.idTokenSubscription=new eT(this),this.beforeStateQueue=new cx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gh(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(yr(this));const n=e?rt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hx(this),n=new dx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ox(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ns(i){return rt(i)}class eT{constructor(e){this.auth=e,this.observer=null,this.addObserver=DC(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function px(i){mf=i}function Eb(i){return mf.loadJS(i)}function gx(){return mf.recaptchaEnterpriseScript}function yx(){return mf.gapiScript}function _x(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class vx{constructor(){this.enterprise=new Ex}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Ex{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Tx="recaptcha-enterprise",Tb="NO_RECAPTCHA";class bx{constructor(e){this.type=Tx,this.auth=Ns(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{ZI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new JI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;XE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Tb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vx().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&XE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=gx();p.length!==0&&(p+=m),Eb(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function tT(i,e,n,s=!1,o=!1){const u=new bx(i);let h;if(o)h=Tb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Qh(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await tT(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await tT(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function Ax(i,e){const n=df(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Tr(u,e??{}))return o;ci(o,"already-initialized")}return n.initialize({options:e})}function Sx(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(pr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function wx(i,e,n){const s=Ns(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=bb(e),{host:h,port:m}=Rx(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Tr(g,s.config.emulator)&&Tr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,xs(h)?(Fp(`${u}//${h}${p}`),Gp("Auth",!0)):Cx()}function bb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Rx(i){const e=bb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:nT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:nT(h)}}}function nT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Cx(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Zp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function Ix(i,e){return xr(i,"POST","/v1/accounts:signUp",e)}async function xx(i,e){return Mu(i,"POST","/v1/accounts:signInWithPassword",Ir(i,e))}async function Ab(i,e){return xr(i,"POST","/v1/accounts:sendOobCode",Ir(i,e))}async function Nx(i,e){return Ab(i,e)}async function Dx(i,e){return Ab(i,e)}async function Ox(i,e){return Mu(i,"POST","/v1/accounts:signInWithEmailLink",Ir(i,e))}async function Mx(i,e){return Mu(i,"POST","/v1/accounts:signInWithEmailLink",Ir(i,e))}class Eu extends Zp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qh(e,n,"signInWithPassword",xx);case"emailLink":return Ox(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qh(e,s,"signUpPassword",Ix);case"emailLink":return Mx(e,{idToken:n,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function No(i,e){return Mu(i,"POST","/v1/accounts:signInWithIdp",Ir(i,e))}const kx="http://localhost";class _a extends Zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new _a(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,No(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:kx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Du(n)}return e}}function Vx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Px(i){const e=iu(ru(i)).link,n=e?iu(ru(e)).deep_link_id:null,s=iu(ru(i)).deep_link_id;return(s?iu(ru(s)).link:null)||s||n||e||i}class eg{constructor(e){const n=iu(ru(e)),s=n.apiKey??null,o=n.oobCode??null,u=Vx(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Px(e);try{return new eg(n)}catch{return null}}}class Ho{constructor(){this.providerId=Ho.PROVIDER_ID}static credential(e,n){return Eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=eg.parseLink(n);return ve(s,"argument-error"),Eu._fromEmailAndCode(e,s.code,s.tenantId)}}Ho.PROVIDER_ID="password";Ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Sb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ku extends Sb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fs extends ku{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";class ds extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _a._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";class ms extends ku{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";class ps extends ku{constructor(){super("twitter.com")}static credential(e,n){return _a._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ps.credential(n,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";async function Lx(i,e){return Mu(i,"POST","/v1/accounts:signUp",Ir(i,e))}class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ui._fromIdTokenResponse(e,s,o),h=iT(s);return new va({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=iT(s);return new va({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function iT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Yh extends Qi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Yh(e,n,s,o)}}function wb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(i,u,e,s):u})}async function Ux(i,e,n=!1){const s=await vu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return va._forOperation(i,"link",s)}async function jx(i,e,n=!1){const{auth:s}=i;if(xn(s.app))return Promise.reject(yr(s));const o="reauthenticate";try{const u=await vu(i,wb(s,o,e,i),n);ve(u.idToken,s,"internal-error");const h=Wp(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),va._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ci(s,"user-mismatch"),u}}async function Rb(i,e,n=!1){if(xn(i.app))return Promise.reject(yr(i));const s="signIn",o=await wb(i,s,e),u=await va._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function zx(i,e){return Rb(Ns(i),e)}async function Cb(i){const e=Ns(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bx(i,e,n){const s=Ns(i);await Qh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Dx)}async function qx(i,e,n){if(xn(i.app))return Promise.reject(yr(i));const s=Ns(i),h=await Qh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Cb(i),p}),m=await va._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function Hx(i,e,n){return xn(i.app)?Promise.reject(yr(i)):zx(rt(i),Ho.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Cb(i),s})}async function rT(i,e){const n=rt(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await Nx(n.auth,o);u!==i.email&&await i.reload()}function Fx(i,e,n,s){return rt(i).onIdTokenChanged(e,n,s)}function Gx(i,e,n){return rt(i).beforeAuthStateChanged(e,n)}function Kx(i,e,n,s){return rt(i).onAuthStateChanged(e,n,s)}function Qx(i){return rt(i).signOut()}const Xh="__sak";class Ib{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yx=1e3,Xx=10;class xb extends Ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_b(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);ux()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Xx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Yx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xb.type="LOCAL";const $x=xb;class Nb extends Ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Nb.type="SESSION";const Db=Nb;function Wx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new pf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await Wx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];function tg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class Jx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=tg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function zi(){return window}function Zx(i){zi().location.href=i}function Ob(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function eN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tN(){return navigator?.serviceWorker?.controller||null}function nN(){return Ob()?self:null}const Mb="firebaseLocalStorageDb",iN=1,$h="firebaseLocalStorage",kb="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(i,e){return i.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function rN(){const i=indexedDB.deleteDatabase(Mb);return new Vu(i).toPromise()}function pp(){const i=indexedDB.open(Mb,iN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore($h,{keyPath:kb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains($h)?e(s):(s.close(),await rN(),e(await pp()))})})}async function sT(i,e,n){const s=gf(i,!0).put({[kb]:e,value:n});return new Vu(s).toPromise()}async function sN(i,e){const n=gf(i,!1).get(e),s=await new Vu(n).toPromise();return s===void 0?null:s.value}function aT(i,e){const n=gf(i,!0).delete(e);return new Vu(n).toPromise()}const aN=800,oN=3;class Vb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>oN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(nN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eN(),!this.activeServiceWorker)return;this.sender=new Jx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await sT(e,Xh,"1"),await aT(e,Xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>sT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>sN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=gf(o,!1).getAll();return new Vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vb.type="LOCAL";const lN=Vb;new Ou(3e4,6e4);function uN(i,e){return e?pr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class ng extends Zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cN(i){return Rb(i.auth,new ng(i),i.bypassAuthState)}function hN(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),jx(n,new ng(i),i.bypassAuthState)}async function fN(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),Ux(n,new ng(i),i.bypassAuthState)}class Pb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cN;case"linkViaPopup":case"linkViaRedirect":return fN;case"reauthViaPopup":case"reauthViaRedirect":return hN;default:ci(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dN=new Ou(2e3,1e4);class Co extends Pb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dN.get())};e()}}Co.currentPopupAction=null;const mN="pendingRedirect",Mh=new Map;class pN extends Pb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const s=await gN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gN(i,e){const n=vN(e),s=_N(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function yN(i,e){Mh.set(i._key(),e)}function _N(i){return pr(i._redirectPersistence)}function vN(i){return Oh(mN,i.config.apiKey,i.name)}async function EN(i,e,n=!1){if(xn(i.app))return Promise.reject(yr(i));const s=Ns(i),o=uN(s,e),h=await new pN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const TN=600*1e3;class bN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Lb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ji(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TN&&this.cachedEventUids.clear(),this.cachedEventUids.has(oT(e))}saveEventToCache(e){this.cachedEventUids.add(oT(e)),this.lastProcessedEventTime=Date.now()}}function oT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Lb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function AN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lb(i);default:return!1}}async function SN(i,e={}){return xr(i,"GET","/v1/projects",e)}const wN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RN=/^https?/;async function CN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await SN(i);for(const n of e)try{if(IN(n))return}catch{}ci(i,"unauthorized-domain")}function IN(i){const e=dp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!RN.test(n))return!1;if(wN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const xN=new Ou(3e4,6e4);function lT(){const i=zi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function NN(i){return new Promise((e,n)=>{function s(){lT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lT(),n(ji(i,"network-request-failed"))},timeout:xN.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)s();else{const o=_x("iframefcb");return zi()[o]=()=>{gapi.load?s():n(ji(i,"network-request-failed"))},Eb(`${yx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw kh=null,e})}let kh=null;function DN(i){return kh=kh||NN(i),kh}const ON=new Ou(5e3,15e3),MN="__/auth/iframe",kN="emulator/auth/iframe",VN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LN(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?$p(e,kN):`https://${i.config.authDomain}/${MN}`,s={apiKey:e.apiKey,appName:i.name,v:Aa},o=PN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Du(s).slice(1)}`}async function UN(i){const e=await DN(i),n=zi().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:LN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ji(i,"network-request-failed"),m=zi().setTimeout(()=>{u(h)},ON.get());function p(){zi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const jN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zN=500,BN=600,qN="_blank",HN="http://localhost";class uT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FN(i,e,n,s=zN,o=BN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...jN,width:s.toString(),height:o.toString(),top:u,left:h},g=nn().toLowerCase();n&&(m=db(g)?qN:n),hb(g)&&(e=e||HN,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[N,U])=>`${S}${N}=${U},`,"");if(lx(g)&&m!=="_self")return GN(e||"",m),new uT(null);const T=window.open(e||"",m,E);ve(T,i,"popup-blocked");try{T.focus()}catch{}return new uT(T)}function GN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const KN="__/auth/handler",QN="emulator/auth/handler",YN=encodeURIComponent("fac");async function cT(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Aa,eventId:o};if(e instanceof Sb){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",NC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof ku){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${YN}=${encodeURIComponent(p)}`:"";return`${XN(i)}?${Du(m).slice(1)}${g}`}function XN({config:i}){return i.emulator?$p(i,QN):`https://${i.authDomain}/${KN}`}const $m="webStorageSupport";class $N{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Db,this._completeRedirectFn=EN,this._overrideRedirectResult=yN}async _openPopup(e,n,s,o){Ar(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await cT(e,n,s,dp(),o);return FN(e,u,tg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await cT(e,n,s,dp(),o);return Zx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await UN(e),s=new bN(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},o=>{const u=o?.[0]?.[$m];u!==void 0&&n(!!u),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _b()||fb()||Jp()}}const WN=$N;var hT="@firebase/auth",fT="1.12.0";class JN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e2(i){ya(new bs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vb(i)},g=new mx(s,o,u,p);return Sx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ya(new bs("auth-internal",e=>{const n=Ns(e.getProvider("auth").getImmediate());return(s=>new JN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(hT,fT,ZN(i)),Ui(hT,fT,"esm2020")}const t2=300,n2=$0("authIdTokenMaxAge")||t2;let dT=null;const i2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>n2)return;const o=n?.token;dT!==o&&(dT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function r2(i=Yp()){const e=df(i,"auth");if(e.isInitialized())return e.getImmediate();const n=Ax(i,{popupRedirectResolver:WN,persistence:[lN,$x,Db]}),s=$0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=i2(u.toString());Gx(n,h,()=>h(n.currentUser)),Fx(n,m=>h(m))}}const o=Q0("auth");return o&&wx(n,`http://${o}`),n}function s2(){return document.getElementsByTagName("head")?.[0]??document}px({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ji("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",s2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e2("Browser");var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Es,Ub;(function(){var i;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(x,M,B){for(var D=Array(arguments.length-2),at=2;at<arguments.length;at++)D[at-2]=arguments[at];return w.prototype[M].apply(x,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,I){I||(I=0);const x=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)x[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;M<16;++M)x[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],M=C.g[2];let B=C.g[3],D;D=w+(B^I&(M^B))+x[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=B+(M^w&(I^M))+x[1]+3905402710&4294967295,B=w+(D<<12&4294967295|D>>>20),D=M+(I^B&(w^I))+x[2]+606105819&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(w^M&(B^w))+x[3]+3250441966&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(B^I&(M^B))+x[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=B+(M^w&(I^M))+x[5]+1200080426&4294967295,B=w+(D<<12&4294967295|D>>>20),D=M+(I^B&(w^I))+x[6]+2821735955&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(w^M&(B^w))+x[7]+4249261313&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(B^I&(M^B))+x[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=B+(M^w&(I^M))+x[9]+2336552879&4294967295,B=w+(D<<12&4294967295|D>>>20),D=M+(I^B&(w^I))+x[10]+4294925233&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(w^M&(B^w))+x[11]+2304563134&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(B^I&(M^B))+x[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=B+(M^w&(I^M))+x[13]+4254626195&4294967295,B=w+(D<<12&4294967295|D>>>20),D=M+(I^B&(w^I))+x[14]+2792965006&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(w^M&(B^w))+x[15]+1236535329&4294967295,I=M+(D<<22&4294967295|D>>>10),D=w+(M^B&(I^M))+x[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(w^I))+x[6]+3225465664&4294967295,B=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(B^w))+x[11]+643717713&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^w&(M^B))+x[0]+3921069994&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(M^B&(I^M))+x[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(w^I))+x[10]+38016083&4294967295,B=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(B^w))+x[15]+3634488961&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^w&(M^B))+x[4]+3889429448&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(M^B&(I^M))+x[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(w^I))+x[14]+3275163606&4294967295,B=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(B^w))+x[3]+4107603335&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^w&(M^B))+x[8]+1163531501&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(M^B&(I^M))+x[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(w^I))+x[2]+4243563512&4294967295,B=w+(D<<9&4294967295|D>>>23),D=M+(w^I&(B^w))+x[7]+1735328473&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^w&(M^B))+x[12]+2368359562&4294967295,I=M+(D<<20&4294967295|D>>>12),D=w+(I^M^B)+x[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=B+(w^I^M)+x[8]+2272392833&4294967295,B=w+(D<<11&4294967295|D>>>21),D=M+(B^w^I)+x[11]+1839030562&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^w)+x[14]+4259657740&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(I^M^B)+x[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=B+(w^I^M)+x[4]+1272893353&4294967295,B=w+(D<<11&4294967295|D>>>21),D=M+(B^w^I)+x[7]+4139469664&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^w)+x[10]+3200236656&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(I^M^B)+x[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=B+(w^I^M)+x[0]+3936430074&4294967295,B=w+(D<<11&4294967295|D>>>21),D=M+(B^w^I)+x[3]+3572445317&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^w)+x[6]+76029189&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(I^M^B)+x[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=B+(w^I^M)+x[12]+3873151461&4294967295,B=w+(D<<11&4294967295|D>>>21),D=M+(B^w^I)+x[15]+530742520&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^w)+x[2]+3299628645&4294967295,I=M+(D<<23&4294967295|D>>>9),D=w+(M^(I|~B))+x[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=B+(I^(w|~M))+x[7]+1126891415&4294967295,B=w+(D<<10&4294967295|D>>>22),D=M+(w^(B|~I))+x[14]+2878612391&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~w))+x[5]+4237533241&4294967295,I=M+(D<<21&4294967295|D>>>11),D=w+(M^(I|~B))+x[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=B+(I^(w|~M))+x[3]+2399980690&4294967295,B=w+(D<<10&4294967295|D>>>22),D=M+(w^(B|~I))+x[10]+4293915773&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~w))+x[1]+2240044497&4294967295,I=M+(D<<21&4294967295|D>>>11),D=w+(M^(I|~B))+x[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=B+(I^(w|~M))+x[15]+4264355552&4294967295,B=w+(D<<10&4294967295|D>>>22),D=M+(w^(B|~I))+x[6]+2734768916&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~w))+x[13]+1309151649&4294967295,I=M+(D<<21&4294967295|D>>>11),D=w+(M^(I|~B))+x[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=B+(I^(w|~M))+x[11]+3174756917&4294967295,B=w+(D<<10&4294967295|D>>>22),D=M+(w^(B|~I))+x[2]+718787259&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~w))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+B&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,x=this.C;let M=this.h,B=0;for(;B<w;){if(M==0)for(;B<=I;)o(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<w;)if(x[M++]=C.charCodeAt(B++),M==this.blockSize){o(this,x),M=0;break}}else for(;B<w;)if(x[M++]=C[B++],M==this.blockSize){o(this,x),M=0;break}}this.h=M,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)C[w++]=this.g[I]>>>x&255;return C};function u(C,w){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function h(C,w){this.h=w;const I=[];let x=!0;for(let M=C.length-1;M>=0;M--){const B=C[M]|0;x&&B==w||(I[M]=B,x=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new h([w|0],w<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return P(g(-C));const w=[];let I=1;for(let x=0;C>=I;x++)w[x]=C/I|0,I*=4294967296;return new h(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return P(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let x=T;for(let B=0;B<C.length;B+=8){var M=Math.min(8,C.length-B);const D=parseInt(C.substring(B,B+M),w);M<8?(M=g(Math.pow(w,M)),x=x.j(M).add(g(D))):(x=x.j(I),x=x.add(g(D)))}return x}var T=p(0),S=p(1),N=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-P(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);C+=(x>=0?x:4294967296+x)*w,w*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(U(this))return"0";if(z(this))return"-"+P(this).toString(C);const w=g(Math.pow(C,6));var I=this;let x="";for(;;){const M=se(I,w).g;I=Y(I,M.j(w));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=M,U(I))return B+x;for(;B.length<6;)B="0"+B;x=B+x}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function U(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function z(C){return C.h==-1}i.l=function(C){return C=Y(this,C),z(C)?-1:U(C)?0:1};function P(C){const w=C.g.length,I=[];for(let x=0;x<w;x++)I[x]=~C.g[x];return new h(I,~C.h).add(S)}i.abs=function(){return z(this)?P(this):this},i.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let x=0;for(let M=0;M<=w;M++){let B=x+(this.i(M)&65535)+(C.i(M)&65535),D=(B>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);x=D>>>16,B&=65535,D&=65535,I[M]=D<<16|B}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Y(C,w){return C.add(P(w))}i.j=function(C){if(U(this)||U(C))return T;if(z(this))return z(C)?P(this).j(P(C)):P(P(this).j(C));if(z(C))return P(this.j(P(C)));if(this.l(N)<0&&C.l(N)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let M=0;M<C.g.length;M++){const B=this.i(x)>>>16,D=this.i(x)&65535,at=C.i(M)>>>16,kt=C.i(M)&65535;I[2*x+2*M]+=D*kt,Z(I,2*x+2*M),I[2*x+2*M+1]+=B*kt,Z(I,2*x+2*M+1),I[2*x+2*M+1]+=D*at,Z(I,2*x+2*M+1),I[2*x+2*M+2]+=B*at,Z(I,2*x+2*M+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new h(I,0)};function Z(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ne(C,w){this.g=C,this.h=w}function se(C,w){if(U(w))throw Error("division by zero");if(U(C))return new ne(T,T);if(z(C))return w=se(P(C),w),new ne(P(w.g),P(w.h));if(z(w))return w=se(C,P(w)),new ne(P(w.g),w.h);if(C.g.length>30){if(z(C)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var I=S,x=w;x.l(C)<=0;)I=de(I),x=de(x);var M=me(I,1),B=me(x,1);for(x=me(x,2),I=me(I,2);!U(x);){var D=B.add(x);D.l(C)<=0&&(M=M.add(I),B=D),x=me(x,1),I=me(I,1)}return w=Y(C,M.j(w)),new ne(M,w)}for(M=T;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),B=g(I),D=B.j(w);z(D)||D.l(C)>0;)I-=x,B=g(I),D=B.j(w);U(B)&&(B=S),M=M.add(B),C=Y(C,D)}return new ne(M,C)}i.B=function(C){return se(this,C).h},i.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)&C.i(x);return new h(I,this.h&C.h)},i.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)|C.i(x);return new h(I,this.h|C.h)},i.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)^C.i(x);return new h(I,this.h^C.h)};function de(C){const w=C.g.length+1,I=[];for(let x=0;x<w;x++)I[x]=C.i(x)<<1|C.i(x-1)>>>31;return new h(I,C.h)}function me(C,w){const I=w>>5;w%=32;const x=C.g.length-I,M=[];for(let B=0;B<x;B++)M[B]=w>0?C.i(B+I)>>>w|C.i(B+I+1)<<32-w:C.i(B+I);return new h(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Ub=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Es=h}).apply(typeof mT<"u"?mT:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jb,su,zb,Vh,gp,Bb,qb,Hb;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in v))break e;v=v[q]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,q,K){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[q].apply(A,re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function N(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function U(c,y){for(let A=1;A<arguments.length;A++){const q=arguments[A];var v=typeof q;if(v=v!="object"?v:q?Array.isArray(q)?"array":v:"null",v=="array"||v=="object"&&typeof q.length=="number"){v=c.length||0;const K=q.length||0;c.length=v+K;for(let re=0;re<K;re++)c[v+re]=q[re]}else c.push(q)}}class z{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(c){h.setTimeout(()=>{throw c},0)}function Y(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Z{constructor(){this.h=this.g=null}add(y,v){const A=ne.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ne=new z(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,me=!1,C=new Z,w=()=>{const c=Promise.resolve(void 0);de=()=>{c.then(I)}};function I(){for(var c;c=Y();){try{c.h.call(c.g)}catch(v){P(v)}var y=ne;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}me=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function at(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(at,M),at.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),$=0;function ae(c,y,v,A,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=q,this.key=++$,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let v,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(v in A)c[v]=A[v];for(let K=0;K<te.length;K++)v=te[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,v,A,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const re=Ce(c,y,A,q);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new ae(y,this.src,K,!!A,q),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var A=c.g[v],q=Array.prototype.indexOf.call(A,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(A,q,1),K&&(ye(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,A){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==A)return q}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Vt={};function ot(c,y,v,A,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)ot(c,y[K],v,A,q);return null}return v=Wo(v),c&&c[kt]?c.J(y,v,m(A)?!!A.capture:!1,q):ks(c,y,v,!1,A,q)}function ks(c,y,v,A,q,K){if(!y)throw Error("Invalid event type");const re=m(q)?!!q.capture:!!q;let we=Vs(c);if(we||(c[Le]=we=new ce(c)),v=we.add(y,v,A,re,K),v.proxy)return v;if(A=Na(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)B||(q=re),q===void 0&&(q=!1),c.addEventListener(y.toString(),A,q);else if(c.attachEvent)c.attachEvent(fi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Na(){function c(v){return y.call(c.src,c.listener,v)}const y=Xo;return c}function Da(c,y,v,A,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)Da(c,y[K],v,A,q);else A=m(A)?!!A.capture:!!A,v=Wo(v),c&&c[kt]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=Ce(y,v,A,q),v>-1&&(ye(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Vs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,A,q)),(v=c>-1?y[c]:null)&&Oa(v))}function Oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[kt])Te(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(fi(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Vs(y))?(Te(v,c),v.h==0&&(v.src=null,y[Le]=null)):ye(c)}}}function fi(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function Xo(c,y){if(c.da)c=!0;else{y=new at(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&Oa(c),c=v.call(A,y)}return c}function Vs(c){return c=c[Le],c instanceof ce?c:null}var $o="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wo(c){return typeof c=="function"?c:(c[$o]||(c[$o]=function(y){return c.handleEvent(y)}),c[$o])}function bt(){x.call(this),this.i=new ce(this),this.M=this,this.G=null}T(bt,x),bt.prototype[kt]=!0,bt.prototype.removeEventListener=function(c,y,v,A){Da(this,c,y,v,A)};function Pt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var q=y;y=new M(A,c),oe(y,q)}q=!0;let K,re;if(v)for(re=v.length-1;re>=0;re--)K=y.g=v[re],q=Dr(K,A,!0,y)&&q;if(K=y.g=c,q=Dr(K,A,!0,y)&&q,q=Dr(K,A,!1,y)&&q,v)for(re=0;re<v.length;re++)K=y.g=v[re],q=Dr(K,A,!1,y)&&q}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)ye(v[A]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},bt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Dr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const re=y[K];if(re&&!re.da&&re.capture==v){const we=re.listener,_t=re.ha||re.src;re.fa&&Te(c.i,re),q=we.call(_t,A)!==!1&&q}}return q&&!A.defaultPrevented}function Lf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Fu(c){c.g=Lf(()=>{c.g=null,c.i&&(c.i=!1,Fu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rn extends x{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Fu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(c){x.call(this),this.h=c,this.g={}}T(Ps,x);var Jo=[];function Zo(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&Oa(y)},c),c.g={}}Ps.prototype.N=function(){Ps.Z.N.call(this),Zo(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Or=h.JSON.stringify,Uf=h.JSON.parse,Gu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ku(){}function Qu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){M.call(this,"d")}T(Ht,M);function Mn(){M.call(this,"c")}T(Mn,M);var yt={},Yu=null;function Ma(){return Yu=Yu||new bt}yt.Ia="serverreachability";function Xu(c){M.call(this,yt.Ia,c)}T(Xu,M);function di(c){const y=Ma();Pt(y,new Xu(y))}yt.STAT_EVENT="statevent";function Ls(c,y){M.call(this,yt.STAT_EVENT,c),this.stat=y}T(Ls,M);function At(c){const y=Ma();Pt(y,new Ls(y,c))}yt.Ja="timingevent";function mi(c,y){M.call(this,yt.Ja,c),this.size=y}T(mi,M);function pi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function jf(c,y,v,A,q,K){c.info(function(){if(c.g)if(K){var re="",we=K.split("&");for(let qe=0;qe<we.length;qe++){var _t=we[qe].split("=");if(_t.length>1){const lt=_t[0];_t=_t[1];const Ln=lt.split("_");re=Ln.length>=2&&Ln[1]=="type"?re+(lt+"="+_t+"&"):re+(lt+"=redacted&")}}}else re=null;else re=K;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+v+`
`+re})}function $u(c,y,v,A,q,K,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+v+`
`+K+" "+re})}function gi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+zf(c,v)+(A?" "+A:"")})}function Us(c,y){c.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function zf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return Or(K)}catch{return y}}var js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},el={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tl;function zs(){}T(zs,Ku),zs.prototype.g=function(){return new XMLHttpRequest},tl=new zs;function Yi(c){return encodeURIComponent(String(c))}function Wu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Zn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new Ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var St={},jt={};function yi(c,y,v){c.M=1,c.A=Bs(Rt(y)),c.u=v,c.R=!0,ka(c,null)}function ka(c,y){c.F=Date.now(),_i(c),c.B=Rt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ua(v.i,"t",A),c.C=0,v=c.j.L,c.h=new ei,c.g=fc(c.j,v?y:null,!c.u),c.P>0&&(c.O=new rn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(Jo[0]=q.toString()),q=Jo);for(let K=0;K<q.length;K++){const re=ot(v,q[K],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),di(),jf(c.i,c.v,c.B,c.l,c.S,c.u)}Zn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ii(c)==3?y.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const we=ii(this.g),_t=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||we!=4||_t==7||(_t==8||qe<=0?di(3):di(2)),vi(this);var y=this.g.ca();this.X=y;var v=Bf(this);if(this.o=y==200,$u(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var K=A;break t}}K=null}if(c=K)gi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,c);else{this.o=!1,this.m=3,At(12),vn(this),kn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Zu(this,v),lt==jt){we==4&&(this.m=4,At(14),c=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,At(15),gi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else gi(this.i,this.l,lt,null),Ei(this,lt);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)gi(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),gl(re),re.P=!0,At(11))}}else gi(this.i,this.l,v,null),Ei(this,v);we==4&&vn(this),this.o&&!this.K&&(we==4?lc(this.j,this):(this.o=!1,_i(this)))}else $i(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),vn(this),kn(this)}}}catch{}};function Bf(c){if(!Ju(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let v="";const A=y.length,q=ii(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),kn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(q&&K==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Ju(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Zu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?jt:(v=Number(y.substring(v,A)),isNaN(v)?St:(A+=1,A+v>y.length?jt:(y=y.slice(A,A+v),c.C=A+v,y)))}Zn.prototype.cancel=function(){this.K=!0,vn(this)};function _i(c){c.T=Date.now()+c.H,Va(c,c.H)}function Va(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=pi(g(c.aa,c),y)}function vi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Us(this.i,this.B),this.M!=2&&(di(),At(17)),vn(this),this.m=2,kn(this)):Va(this,this.T-c)};function kn(c){c.j.I==0||c.K||lc(c.j,c)}function vn(c){vi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Zo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ei(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||bi(v.h,c))){if(!c.L&&bi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ha(v),zr(v);else break e;Ys(v),At(18)}}else v.xa=q[1],0<v.xa-v.K&&q[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(g(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((c.L||v.g==c)&&Ha(v),!D(y))for(q=v.Ba.g.parse(y),y=0;y<q.length;y++){let qe=q[y];const lt=qe[0];if(!(lt<=v.K))if(v.K=lt,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Ln=qe[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const xi=qe[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const ri=qe[5];ri!=null&&typeof ri=="number"&&ri>0&&(A=1.5*ri,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const si=c.g;if(si){const Xs=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xs){var K=A.h;K.g||Xs.indexOf("spdy")==-1&&Xs.indexOf("quic")==-1&&Xs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(rl(K,K.h),K.h=null))}if(A.G){const Fa=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Fa&&(A.wa=Fa,Ke(A.J,A.G,Fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=c;if(A.na=hc(A,A.L?A.ba:null,A.W),re.L){sl(A.h,re);var we=re,_t=A.O;_t&&(we.H=_t),we.D&&(vi(we),_i(we)),A.g=re}else ac(A);v.i.length>0&&Ci(v)}else qe[0]!="stop"&&qe[0]!="close"||Ii(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ii(v,7):ml(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}di(4)}catch{}}var wt=class{constructor(c,y){this.g=c,this.map=y}};function nl(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ti(c){return c.h?1:c.g?c.g.size:0}function bi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function rl(c,y){c.g?c.g.add(y):c.h=y}function sl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function al(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return N(c.i)}var ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let q,K=null;A>=0?(q=c[v].substring(0,A),K=c[v].substring(A+1)):q=c[v],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof En?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Mr(this,c.u),this.h=c.h,ol(this,rc(c.i)),this.m=c.m):c&&(y=String(c).match(ec))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Ai(y[2]||""),this.g=Ai(y[3]||"",!0),Mr(this,y[4]),this.h=Ai(y[5]||"",!0),ol(this,y[6]||"",!0),this.m=Ai(y[7]||"")):(this.l=!1,this.i=new Vr(null,this.l))}En.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(qs(y,La,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(qs(y,La,!0),"@"),c.push(Yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(qs(v,v.charAt(0)=="/"?ll:tc,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",qs(v,nc)),c.join("")},En.prototype.resolve=function(c){const y=Rt(this);let v=!!c.j;v?zt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Mr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=y.h.lastIndexOf("/");q!=-1&&(A=y.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let re=0;re<q.length;){const we=q[re++];we=="."?A&&re==q.length&&K.push(""):we==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&re==q.length&&K.push("")):(K.push(we),A=!0)}A=K.join("/")}else A=q}return v?y.h=A:v=c.i.toString()!=="",v?ol(y,rc(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Rt(c){return new En(c)}function zt(c,y,v){c.j=v?Ai(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Mr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function ol(c,y,v){y instanceof Vr?(c.i=y,ja(c.i,c.l)):(v||(y=qs(y,kr)),c.i=new Vr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Bs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ai(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var La=/[#\/\?@]/g,tc=/[#\?:]/g,ll=/[#\?]/g,kr=/[#\?@]/g,nc=/#/g;function Vr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Pa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Vr.prototype,i.add=function(c,y){cn(this),this.i=null,c=Pr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ic(c,y){cn(c),y=Pr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ul(c,y){return cn(c),y=Pr(c,y),c.g.has(y)}i.forEach=function(c,y){cn(this),this.g.forEach(function(v,A){v.forEach(function(q){c.call(y,q,A,this)},this)},this)};function cl(c,y){cn(c);let v=[];if(typeof y=="string")ul(c,y)&&(v=v.concat(c.g.get(Pr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return cn(this),this.i=null,c=Pr(this,c),ul(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=cl(this,c),c.length>0?String(c[0]):y):y};function Ua(c,y,v){ic(c,y),v.length>0&&(c.i=null,c.g.set(Pr(c,y),N(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const q=Yi(v);v=cl(this,v);for(let K=0;K<v.length;K++){let re=q;v[K]!==""&&(re+="="+Yi(v[K])),c.push(re)}}return this.i=c.join("&")};function rc(c){const y=new Vr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Pr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ja(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,A){const q=A.toLowerCase();A!=q&&(ic(this,A),Ua(this,q,v))},c)),c.j=y}function ti(c,y){const v=new Jn;if(h.Image){const A=new Image;A.onload=E(Vn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Vn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Vn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Vn,v,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function hl(c,y){const v=new Jn,A=new AbortController,q=setTimeout(()=>{A.abort(),Vn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(q),K.ok?Vn(v,"TestPingServer: ok",!0,y):Vn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Vn(v,"TestPingServer: error",!1,y)})}function Vn(c,y,v,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(v)}catch{}}function Lr(){this.g=new Gu}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Si,Ku),Si.prototype.g=function(){return new Hs(this.i,this.h)};function Hs(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Hs,bt),i=Hs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ni(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ur(this):ni(this),this.readyState==3&&za(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ur(this))},i.Na=function(c){this.g&&(this.response=c,Ur(this))},i.ga=function(){this.g&&Ur(this)};function Ur(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ni(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Pn(c){let y="";return je(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Fs(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Pn(v),typeof c=="string"?v!=null&&Yi(v):Ke(c,y,v))}function Xe(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,bt);var wi=/^https?$/i,fl=["POST","PUT"];i=Xe.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Gs(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)v.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(fl,y,void 0)>=0)||A||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of v)this.g.setRequestHeader(K,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Gs(this,K)}};function Gs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,dl(c),Xi(c)}function dl(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pt(this,"complete"),Pt(this,"abort"),Xi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),Xe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ks(this):this.Xa())},i.Xa=function(){Ks(this)};function Ks(c){if(c.h&&typeof u<"u"){if(c.v&&ii(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pt(c,"readystatechange"),ii(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=K===0){let re=String(c.D).match(ec)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),A=!wi.test(re?re.toLowerCase():"")}v=A}if(v)Pt(c,"complete"),Pt(c,"success");else{c.o=6;try{var q=ii(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",dl(c)}}finally{Xi(c)}}}}function Xi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Pt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ii(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Uf(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(c){const y={};c=(c.g&&ii(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var v=Wu(c[A]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[q]||[];y[q]=K,K.push(v)}Ge(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function jr(c){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,c),this.Za=Ri("retryDelaySeedMs",1e4,c),this.Ta=Ri("forwardChannelMaxRetries",2,c),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(c&&c.concurrentRequestLimit),this.Ba=new Lr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=jr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,A){At(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=hc(this,null,this.W),Ci(this)};function ml(c){if(Ba(c),c.I==3){var y=c.V++,v=Rt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Qs(c,v),y=new Zn(c,c.j,y),y.M=2,y.A=Bs(Rt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=fc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_i(y)}cc(c)}function zr(c){c.g&&(gl(c),c.g.cancel(),c.g=null)}function Ba(c){zr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ha(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ci(c){if(!il(c.h)&&!c.m){c.m=!0;var y=c.Ea;de||w(),me||(de(),me=!0),C.add(y,c),c.D=0}}function qa(c,y){return Ti(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=pi(g(c.Ea,c,y),uc(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Zn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=V(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=sc(this,q,y),v=Rt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Qs(this,v),K&&(this.R?y="headers="+Yi(Pn(K))+"&"+y:this.u&&Fs(v,this.u,K)),rl(this.h,q),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),q.U=!0,yi(q,v,null)):yi(q,v,y),this.I=2}}else this.I==3&&(c?pl(this,c):this.i.length==0||il(this.h)||pl(this))};function pl(c,y){var v;y?v=y.l:v=c.V++;const A=Rt(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),Qs(c,A),c.u&&c.o&&Fs(A,c.u,c.o),v=new Zn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=sc(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),rl(c.h,v),yi(v,A,y)}function Qs(c,y){c.H&&je(c.H,function(v,A){Ke(y,A,v)}),c.l&&je({},function(v,A){Ke(y,A,v)})}function sc(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var q=c.i;let we=-1;for(;;){const _t=["count="+v];we==-1?v>0?(we=q[0].g,_t.push("ofs="+we)):we=0:_t.push("ofs="+we);let qe=!0;for(let lt=0;lt<v;lt++){var K=q[lt].g;const Ln=q[lt].map;if(K-=we,K<0)we=Math.max(0,q[lt].g-100),qe=!1;else try{K="req"+K+"_"||"";try{var re=Ln instanceof Map?Ln:Object.entries(Ln);for(const[xi,ri]of re){let si=ri;m(ri)&&(si=Or(ri)),_t.push(K+xi+"="+encodeURIComponent(si))}}catch(xi){throw _t.push(K+"type="+encodeURIComponent("_badmap")),xi}}catch{A&&A(Ln)}}if(qe){re=_t.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function ac(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;de||w(),me||(de(),me=!0),C.add(y,c),c.A=0}}function Ys(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=pi(g(c.Da,c),uc(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=pi(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),zr(this),oc(this))};function gl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function oc(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Rt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Qs(c,y),c.u&&c.o&&Fs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Bs(Rt(y)),v.u=null,v.R=!0,ka(v,c)}i.Va=function(){this.C!=null&&(this.C=null,zr(this),Ys(this),At(19))};function Ha(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function lc(c,y){var v=null;if(c.g==y){Ha(c),gl(c),c.g=null;var A=2}else if(bi(c.h,y))v=y.G,sl(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;A=Ma(),Pt(A,new mi(A,v)),Ci(c)}else ac(c);else if(q=y.m,q==3||q==0&&y.X>0||!(A==1&&qa(c,y)||A==2&&Ys(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function uc(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ii(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const q=!A;A=new En(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(A,"https"),Bs(A),q?ti(A.toString(),v):hl(A.toString(),v)}else At(2);c.I=0,c.l&&c.l.pa(y),cc(c),Ba(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function cc(c){if(c.I=0,c.ja=[],c.l){const y=al(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ja,y),U(c.ja,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.oa()}}function hc(c,y,v){var A=v instanceof En?Rt(v):new En(v);if(A.g!="")y&&(A.g=y+"."+A.g),Mr(A,A.u);else{var q=h.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new En(null);A&&zt(K,A),y&&(K.g=y),q&&Mr(K,q),v&&(K.h=v),A=K}return v=c.G,y=c.wa,v&&y&&Ke(A,v,y),Ke(A,"VER",c.ka),Qs(c,A),A}function fc(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new Si({ab:v})):new Xe(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}i=dc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Br(){}Br.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){bt.call(this),this.g=new jr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Wi(this)}T(sn,bt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){ml(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Or(c),c=v);y.i.push(new wt(y.Ya++,c)),y.I==3&&Ci(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,sn.Z.N.call(this)};function mc(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(mc,Ht);function pc(){Mn.call(this),this.status=1}T(pc,Mn);function Wi(c){this.g=c}T(Wi,dc),Wi.prototype.ra=function(){Pt(this.g,"a")},Wi.prototype.qa=function(c){Pt(this.g,new mc(c))},Wi.prototype.pa=function(c){Pt(this.g,new pc)},Wi.prototype.oa=function(){Pt(this.g,"b")},Br.prototype.createWebChannel=Br.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Hb=function(){return new Br},qb=function(){return Ma()},Bb=yt,gp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,Vh=js,el.COMPLETE="complete",zb=el,Qu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,su=Qu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,jb=Xe}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const pT="@firebase/firestore",gT="4.9.3";class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let Fo="12.7.0";const Ea=new Kp("@firebase/firestore");function Ao(){return Ea.logLevel}function ue(i,...e){if(Ea.logLevel<=Me.DEBUG){const n=e.map(ig);Ea.debug(`Firestore (${Fo}): ${i}`,...n)}}function Sr(i,...e){if(Ea.logLevel<=Me.ERROR){const n=e.map(ig);Ea.error(`Firestore (${Fo}): ${i}`,...n)}}function Oo(i,...e){if(Ea.logLevel<=Me.WARN){const n=e.map(ig);Ea.warn(`Firestore (${Fo}): ${i}`,...n)}}function ig(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Fb(i,s,n)}function Fb(i,e,n){let s=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Sr(s),new Error(s)}function Fe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Fb(e,o,s)}function Se(i,e){return i}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Gb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class o2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class l2{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _r,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _r)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new Gb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class u2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class c2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new u2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function f2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=f2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function yp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Wm(o)===Wm(u)?ke(o,u):Wm(o)?1:-1}return ke(i.length,e.length)}const d2=55296,m2=57343;function Wm(i){const e=i.charCodeAt(0);return e>=d2&&e<=m2}function Mo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const _T="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):yp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class et extends Vi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const p2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Vi{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return p2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_T}static keyField(){return new $t([_T])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}function sg(i,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function g2(i,e,n,s){if(e===!0&&s===!0)throw new le(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function vT(i){if(!ge.isDocumentKey(i))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ET(i){if(ge.isDocumentKey(i))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Kb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function yf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function ln(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(i);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Mt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Pu(i,e){if(!Kb(i))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}const TT=-62135596800,bT=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*bT);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TT)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-TT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Mt("string",it._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tu=-1;function y2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new As(o,ge.empty(),e)}function _2(i){return new As(i.readTime,i.key,Tu)}class As{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new As(be.min(),ge.empty(),Tu)}static max(){return new As(be.max(),ge.empty(),Tu)}}function v2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Go(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==E2)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function b2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(i){return i.name==="IndexedDbTransactionError"}class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_f.ce=-1;const ag=-1;function vf(i){return i==null}function Wh(i){return i===0&&1/i==-1/0}function A2(i){return typeof i=="number"&&Number.isInteger(i)&&!Wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Qb="";function S2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=AT(e)),e=w2(i.get(n),e);return AT(e)}function w2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Qb:n+="";break;default:n+=u}}return n}function AT(i){return i+Qb+""}function ST(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ds(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Yb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wT(this.data.getIterator())}getIteratorFrom(e){return new wT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class wT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Ut($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Xb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Xb("Invalid base64 string: "+u):u}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=R2.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ws(i){return typeof i=="string"?Wt.fromBase64String(i):Wt.fromUint8Array(i)}const $b="server_timestamp",Wb="__type__",Jb="__previous_value__",Zb="__local_write_time__";function og(i){return(i?.mapValue?.fields||{})[Wb]?.stringValue===$b}function Ef(i){const e=i.mapValue.fields[Jb];return og(e)?Ef(e):e}function bu(i){const e=Ss(i.mapValue.fields[Zb].timestampValue);return new it(e.seconds,e.nanos)}class C2{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Jh="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||Jh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}const eA="__type__",I2="__max__",Ah={mapValue:{}},tA="__vector__",Zh="value";function Rs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?og(i)?4:N2(i)?9007199254740991:x2(i)?10:11:Ee(28295,{value:i})}function Gi(i,e){if(i===e)return!0;const n=Rs(i);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return bu(i).isEqual(bu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ss(o.timestampValue),m=Ss(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ws(o.bytesValue).isEqual(ws(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Tt(o.doubleValue),m=Tt(u.doubleValue);return h===m?Wh(h)===Wh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Mo(i.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(ST(h)!==ST(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Gi(h[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function Su(i,e){return(i.values||[]).find((n=>Gi(n,e)))!==void 0}function ko(i,e){if(i===e)return 0;const n=Rs(i),s=Rs(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Tt(u.integerValue||u.doubleValue),p=Tt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return RT(i.timestampValue,e.timestampValue);case 4:return RT(bu(i),bu(e));case 5:return yp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=ws(u),p=ws(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(Tt(u.latitude),Tt(h.latitude));return m!==0?m:ke(Tt(u.longitude),Tt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return CT(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Zh]?.arrayValue,E=p[Zh]?.arrayValue,T=ke(g?.values?.length||0,E?.values?.length||0);return T!==0?T:CT(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Ah.mapValue&&h===Ah.mapValue)return 0;if(u===Ah.mapValue)return 1;if(h===Ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const S=yp(p[T],E[T]);if(S!==0)return S;const N=ko(m[p[T]],g[E[T]]);if(N!==0)return N}return ke(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function RT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=Ss(i),s=Ss(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function CT(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ko(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function Vo(i){return _p(i)}function _p(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Ss(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ws(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ge.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=_p(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${_p(n.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Ph(i){switch(Rs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(i);return e?16+Ph(e):16;case 5:return 2*i.stringValue.length;case 6:return ws(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ph(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ds(s.fields,((u,h)=>{o+=u.length+Ph(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function IT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vp(i){return!!i&&"integerValue"in i}function lg(i){return!!i&&"arrayValue"in i}function xT(i){return!!i&&"nullValue"in i}function NT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Lh(i){return!!i&&"mapValue"in i}function x2(i){return(i?.mapValue?.fields||{})[eA]?.stringValue===tA}function hu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ds(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=hu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(i.arrayValue.values[n]);return e}return{...i}}function N2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===I2}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=hu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ds(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _n(hu(this.value))}}function nA(i){const e=[];return Ds(i.fields,((n,s)=>{const o=new $t([n]);if(Lh(s)){const u=nA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Nn(e)}class tn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,be.min(),be.min(),be.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,be.min(),be.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,be.min(),be.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ef{constructor(e,n){this.position=e,this.inclusive=n}}function DT(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=ko(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function OT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Gi(i.position[n],e.position[n]))return!1;return!0}class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function D2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class iA{}class Ot extends iA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new M2(e,n,s):n==="array-contains"?new P2(e,s):n==="in"?new L2(e,s):n==="not-in"?new U2(e,s):n==="array-contains-any"?new j2(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new k2(e,s):new V2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ko(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends iA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hi(e,n)}matches(e){return rA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rA(i){return i.op==="and"}function sA(i){return O2(i)&&rA(i)}function O2(i){for(const e of i.filters)if(e instanceof hi)return!1;return!0}function Ep(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+Vo(i.value);if(sA(i))return i.filters.map((e=>Ep(e))).join(",");{const e=i.filters.map((n=>Ep(n))).join(",");return`${i.op}(${e})`}}function aA(i,e){return i instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Gi(s.value,o.value)})(i,e):i instanceof hi?(function(s,o){return o instanceof hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&aA(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function oA(i){return i instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`})(i):i instanceof hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(oA).join(" ,")+"}"})(i):"Filter"}class M2 extends Ot{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class k2 extends Ot{constructor(e,n){super(e,"in",n),this.keys=lA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class V2 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=lA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function lA(i,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class P2 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lg(n)&&Su(n.arrayValue,this.value)}}class L2 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class U2 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Su(this.value.arrayValue,n)}}class j2 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Su(this.value.arrayValue,s)))}}class z2{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function MT(i,e=null,n=[],s=[],o=null,u=null,h=null){return new z2(i,e,n,s,o,u,h)}function ug(i){const e=Se(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ep(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Vo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Vo(s))).join(",")),e.Te=n}return e.Te}function cg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!D2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!aA(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!OT(i.startAt,e.startAt)&&OT(i.endAt,e.endAt)}function Tp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Sa{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B2(i,e,n,s,o,u,h,m){return new Sa(i,e,n,s,o,u,h,m)}function Tf(i){return new Sa(i)}function kT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function uA(i){return i.collectionGroup!==null}function fu(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ut($t.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new wu(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new wu($t.keyField(),s))}return e.Ie}function Bi(i){const e=Se(i);return e.Ee||(e.Ee=q2(e,fu(i))),e.Ee}function q2(i,e){if(i.limitType==="F")return MT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new wu(o.field,u)}));const n=i.endAt?new ef(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ef(i.startAt.position,i.startAt.inclusive):null;return MT(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function bp(i,e){const n=i.filters.concat([e]);return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ap(i,e,n){return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function bf(i,e){return cg(Bi(i),Bi(e))&&i.limitType===e.limitType}function cA(i){return`${ug(Bi(i))}|lt:${i.limitType}`}function So(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>oA(o))).join(", ")}]`),vf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Vo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Vo(o))).join(",")),`Target(${s})`})(Bi(i))}; limitType=${i.limitType})`}function Af(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of fu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=DT(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,fu(s),o)||s.endAt&&!(function(h,m,p){const g=DT(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,fu(s),o))})(i,e)}function H2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hA(i){return(e,n)=>{let s=!1;for(const o of fu(i)){const u=F2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function F2(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ko(p,g):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Yb(this.inner)}size(){return this.innerSize}}const G2=new ht(ge.comparator);function wr(){return G2}const fA=new ht(ge.comparator);function au(...i){let e=fA;for(const n of i)e=e.insert(n.key,n);return e}function dA(i){let e=fA;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function da(){return du()}function mA(){return du()}function du(){return new wa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const K2=new ht(ge.comparator),Q2=new Ut(ge.comparator);function Ve(...i){let e=Q2;for(const n of i)e=e.add(n);return e}const Y2=new Ut(ke);function X2(){return Y2}function hg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function pA(i){return{integerValue:""+i}}function gA(i,e){return A2(e)?pA(e):hg(i,e)}class Sf{constructor(){this._=void 0}}function $2(i,e,n){return i instanceof Ru?(function(o,u){const h={fields:{[Wb]:{stringValue:$b},[Zb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&og(u)&&(u=Ef(u)),u&&(h.fields[Jb]=u),{mapValue:h}})(n,e):i instanceof Po?_A(i,e):i instanceof Lo?vA(i,e):(function(o,u){const h=yA(o,u),m=VT(h)+VT(o.Ae);return vp(h)&&vp(o.Ae)?pA(m):hg(o.serializer,m)})(i,e)}function W2(i,e,n){return i instanceof Po?_A(i,e):i instanceof Lo?vA(i,e):n}function yA(i,e){return i instanceof Cu?(function(s){return vp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ru extends Sf{}class Po extends Sf{constructor(e){super(),this.elements=e}}function _A(i,e){const n=EA(e);for(const s of i.elements)n.some((o=>Gi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Lo extends Sf{constructor(e){super(),this.elements=e}}function vA(i,e){let n=EA(e);for(const s of i.elements)n=n.filter((o=>!Gi(o,s)));return{arrayValue:{values:n}}}class Cu extends Sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function VT(i){return Tt(i.integerValue||i.doubleValue)}function EA(i){return lg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class wf{constructor(e,n){this.field=e,this.transform=n}}function J2(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Po&&o instanceof Po||s instanceof Lo&&o instanceof Lo?Mo(s.elements,o.elements,Gi):s instanceof Cu&&o instanceof Cu?Gi(s.Ae,o.Ae):s instanceof Ru&&o instanceof Ru})(i.transform,e.transform)}class Z2{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Rf{}function TA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new fg(i.key,Yn.none()):new Lu(i.key,i.data,Yn.none());{const n=i.data,s=_n.empty();let o=new Ut($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Os(i.key,s,new Nn(o.toArray()),Yn.none())}}function eD(i,e,n){i instanceof Lu?(function(o,u,h){const m=o.value.clone(),p=LT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Os?(function(o,u,h){if(!Uh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=LT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(bA(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function mu(i,e,n,s){return i instanceof Lu?(function(u,h,m,p){if(!Uh(u.precondition,h))return m;const g=u.value.clone(),E=UT(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Os?(function(u,h,m,p){if(!Uh(u.precondition,h))return m;const g=UT(u.fieldTransforms,p,h),E=h.data;return E.setAll(bA(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,h,m){return Uh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function tD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=yA(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function PT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Mo(s,o,((u,h)=>J2(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Lu extends Rf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Os extends Rf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bA(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function LT(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,W2(h,m,n[o]))}return s}function UT(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,$2(u,h,e))}return s}class fg extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nD extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&eD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=mu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=mu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=mA();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=TA(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,((n,s)=>PT(n,s)))&&Mo(this.baseMutations,e.baseMutations,((n,s)=>PT(n,s)))}}class dg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return K2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new dg(e,n,s,o)}}class rD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,Ue;function aD(i){switch(i){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function AA(i){if(i===void 0)return Sr("GRPC error has no .code"),J.UNKNOWN;switch(i){case Dt.OK:return J.OK;case Dt.CANCELLED:return J.CANCELLED;case Dt.UNKNOWN:return J.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return J.INTERNAL;case Dt.UNAVAILABLE:return J.UNAVAILABLE;case Dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Dt.NOT_FOUND:return J.NOT_FOUND;case Dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Dt.ABORTED:return J.ABORTED;case Dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Dt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:i})}}(Ue=Dt||(Dt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function oD(){return new TextEncoder}const lD=new Es([4294967295,4294967295],0);function jT(i){const e=oD().encode(i),n=new Ub;return n.update(e),new Uint8Array(n.digest())}function zT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Es([n,s],0),new Es([o,u],0)]}class mg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Es.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Es.fromNumber(s)));return o.compare(lD)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jT(e),[s,o]=zT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new mg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=jT(e),[s,o]=zT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Cf(be.min(),o,new ht(ke),wr(),Ve())}}class Uu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uu(s,n,Ve(),Ve(),Ve())}}class jh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class SA{constructor(e,n){this.targetId=e,this.Ce=n}}class wA{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class BT{constructor(){this.ve=0,this.Fe=qT(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Uu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=qT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uD{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.Je=Sh(),this.He=Sh(),this.Ye=new ht(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Tp(u))if(s===0){const h=new ge(u.path);this.et(n,h,tn.newNoDocument(h,be.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ws(s).toUint8Array()}catch(p){if(p instanceof Xb)return Oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new mg(h,o,u)}catch(p){return Oo(p instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Tp(m.target)){const p=new ge(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,tn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ve();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Cf(e,n,this.Ye,this.je,s);return this.je=wr(),this.Je=Sh(),this.He=Sh(),this.Ye=new ht(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sh(){return new ht(ge.comparator)}function qT(){return new ht(ge.comparator)}const cD={asc:"ASCENDING",desc:"DESCENDING"},hD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fD={and:"AND",or:"OR"};class dD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sp(i,e){return i.useProto3Json||vf(e)?e:{value:e}}function tf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function mD(i,e){return tf(i,e.toTimestamp())}function qi(i){return Fe(!!i,49232),be.fromTimestamp((function(n){const s=Ss(n);return new it(s.seconds,s.nanos)})(i))}function pg(i,e){return wp(i,e).canonicalString()}function wp(i,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function CA(i){const e=et.fromString(i);return Fe(OA(e),10190,{key:e.toString()}),e}function Rp(i,e){return pg(i.databaseId,e.path)}function Jm(i,e){const n=CA(e);if(n.get(1)!==i.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(xA(n))}function IA(i,e){return pg(i.databaseId,e)}function pD(i){const e=CA(i);return e.length===4?et.emptyPath():xA(e)}function Cp(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xA(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function HT(i,e,n){return{name:Rp(i,e),fields:n.value.mapValue.fields}}function gD(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Wt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Wt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?J.UNKNOWN:AA(g.code);return new le(E,g.message||"")})(h);n=new wA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jm(i,s.document.name),u=qi(s.document.updateTime),h=s.document.createTime?qi(s.document.createTime):be.min(),m=new _n({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new jh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Jm(i,s.document),u=s.readTime?qi(s.readTime):be.min(),h=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new jh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Jm(i,s.document),u=s.removedTargetIds||[];n=new jh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new sD(o,u),m=s.targetId;n=new SA(m,h)}}return n}function yD(i,e){let n;if(e instanceof Lu)n={update:HT(i,e.key,e.value)};else if(e instanceof fg)n={delete:Rp(i,e.key)};else if(e instanceof Os)n={update:HT(i,e.key,e.data),updateMask:RD(e.fieldMask)};else{if(!(e instanceof nD))return Ee(16599,{Vt:e.type});n={verify:Rp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Ru)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Po)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Lo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Cu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:mD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function _D(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?qi(o.updateTime):qi(u);return h.isEqual(be.min())&&(h=qi(u)),new Z2(h,o.transformResults||[])})(n,e)))):[]}function vD(i,e){return{documents:[IA(i,e.path)]}}function ED(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IA(i,o);const u=(function(g){if(g.length!==0)return DA(hi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(S){return{field:wo(S.field),direction:AD(S.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Sp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function TD(i){let e=pD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const S=NA(T);return S instanceof hi&&sA(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(U){return new wu(Ro(U.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,vf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,N=T.values||[];return new ef(N,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,N=T.values||[];return new ef(N,S)})(n.endAt)),B2(e,o,h,u,m,"F",p,g)}function bD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ro(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ro(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ro(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ot.create(Ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return hi.create(n.compositeFilter.filters.map((s=>NA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function AD(i){return cD[i]}function SD(i){return hD[i]}function wD(i){return fD[i]}function wo(i){return{fieldPath:i.canonicalString()}}function Ro(i){return $t.fromServerFormat(i.fieldPath)}function DA(i){return i instanceof Ot?(function(n){if(n.op==="=="){if(NT(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(xT(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NT(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(xT(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:SD(n.op),value:n.value}}})(i):i instanceof hi?(function(n){const s=n.getFilters().map((o=>DA(o)));return s.length===1?s[0]:{compositeFilter:{op:wD(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function RD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function OA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ys{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CD{constructor(e){this.yt=e}}function ID(i){const e=TD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ap(e,e.limit,"L"):e}class xD{constructor(){this.Cn=new ND}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(As.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(As.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class ND{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(et.comparator)).toArray()}}const FT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MA=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(MA,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class Uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uo(0)}static cr(){return new Uo(-1)}}const GT="LruGarbageCollector",DD=1048576;function KT([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class OD{constructor(e){this.Ir=e,this.buffer=new Ut(KT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();KT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(GT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?ue(GT,"Ignoring IndexedDB error during garbage collection: ",n):await Go(n)}await this.Vr(3e5)}))}}class kD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(_f.ce);const s=new OD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(FT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Ao()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function VD(i,e){return new kD(i,e)}class PD{constructor(){this.changes=new wa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&mu(s.mutation,o,Nn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=da();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=au();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=da();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=wr();const h=du(),m=(function(){return du()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Os)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),mu(E.mutation,g,E.mutation.getFieldMask(),it.now())):h.set(g.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new LD(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=du();let o=new ht(((h,m)=>h-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Nn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=mA();E.forEach((S=>{if(!u.has(S)){const N=TA(n.get(S),s.get(S));N!==null&&T.set(S,N),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(da());let m=Tu,p=u;return h.next((g=>ie.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ve()))).next((E=>({batchId:m,changes:dA(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=au();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=au();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,S){return new Sa(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,tn.newInvalidDocument(E)))}));let m=au();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&mu(E.mutation,g,Nn.empty(),it.now()),Af(n,g)&&(m=m.insert(p,g))})),m}))}}class jD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:ID(o.bundledQuery),readTime:qi(o.readTime)}})(n)),ie.resolve()}}class zD{constructor(){this.overlays=new ht(ge.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=da();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=da(),u=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=da(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=da(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new rD(n,s));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class BD{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class gg{constructor(){this.Qr=new Ut(qt.$r),this.Ur=new Ut(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new et([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new et([])),s=new qt(n,e),o=new qt(n,e+1);let u=Ve();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class qD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(qt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new iD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?ag:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(ke);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new qt(new ge(u),0);let m=new Ut(ke);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HD{constructor(e){this.ri=e,this.docs=(function(){return new ht(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=wr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=wr();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||v2(_2(E),s)<=0||(o.has(E.key)||Af(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new FD(this)}getSize(e){return ie.resolve(this.size)}}class FD extends PD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class GD{constructor(e){this.persistence=e,this.si=new wa((n=>ug(n)),cg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=Uo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class kA{constructor(e,n){this.ui={},this.overlays={},this.ci=new _f(0),this.li=!1,this.li=!0,this.hi=new BD,this.referenceDelegate=e(this),this.Pi=new GD(this),this.indexManager=new xD,this.remoteDocumentCache=(function(o){return new HD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new CD(n),this.Ii=new jD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new qD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new KD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class KD extends T2{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new yg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nf{constructor(e,n){this.persistence=e,this.pi=new wa((s=>S2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=VD(this,n)}static mi(e,n){return new nf(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _g{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _g(e,n.fromCache,s,o)}}class QD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SC()?8:b2(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new QD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ao()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Ao()<=Me.DEBUG&&ue("QueryEngine","Query:",So(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ao()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(n))):ie.resolve())}ys(e,n){if(kT(n))return ie.resolve(null);let s=Bi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ap(n,null,"F"),s=Bi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ve(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Ap(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return kT(n)||o.isEqual(be.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ie.resolve(null):(Ao()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(n)),this.vs(e,h,n,y2(o,Tu)).next((m=>m)))}))}Ds(e,n){let s=new Ut(hA(e));return n.forEach(((o,u)=>{Af(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ao()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",So(n)),this.ps.getDocumentsMatchingQuery(e,n,As.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const vg="LocalStore",XD=3e8;class $D{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(ke),this.xs=new wa((u=>ug(u)),cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function WD(i,e,n,s){return new $D(i,e,n,s)}async function VA(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function JD(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,S=T.keys();let N=ie.resolve();return S.forEach((U=>{N=N.next((()=>E.getEntry(p,U))).next((z=>{const P=g.docVersions.get(U);Fe(P!==null,48541),z.version.compareTo(P)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function PA(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ZD(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const S=o.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let N=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Wt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(T,N),(function(z,P,Y){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=XD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(S,N,E)&&m.push(n.Pi.updateTargetData(u,N))}));let p=wr(),g=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(eO(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function eO(i,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=wr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(vg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function tO(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ag),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function nO(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ys(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ip(i,e,n){const s=Se(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ko(h))throw h;ue(vg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function QT(i,e,n){const s=Se(i);let o=be.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Se(p),S=T.xs.get(E);return S!==void 0?ie.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,E)})(s,h,Bi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Ve()))).next((m=>(iO(s,H2(e),m),{documents:m,Qs:u})))))}function iO(i,e,n){let s=i.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class YT{constructor(){this.activeTargetIds=X2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rO{constructor(){this.Mo=new YT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sO{Oo(e){}shutdown(){}}const XT="ConnectivityMonitor";class $T{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(XT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(XT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wh=null;function xp(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}const Zm="RestConnection",aO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Jh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=xp(),m=this.zo(e,n.toUriEncodedString());ue(Zm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=xs(g);return this.Jo(e,m,p,s,E).then((T=>(ue(Zm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Oo(Zm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=aO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class lO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class uO extends oO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=xp();return new Promise(((m,p)=>{const g=new jb;g.setWithCredentials(!0),g.listenOnce(zb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Vh.NO_ERROR:const T=g.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Vh.TIMEOUT:ue(Zt,`RPC '${e}' ${h} timed out`),p(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const S=g.getStatus();if(ue(Zt,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const z=(function(Y){const Z=Y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Z)>=0?Z:J.UNKNOWN})(U.status);p(new le(z,U.message))}else p(new le(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Zt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ue(Zt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=xp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Hb(),m=qb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let S=!1,N=!1;const U=new lO({Yo:P=>{N?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(S||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,P),T.send(P))},Zo:()=>T.close()}),z=(P,Y,Z)=>{P.listen(Y,(ne=>{try{Z(ne)}catch(se){setTimeout((()=>{throw se}),0)}}))};return z(T,su.EventType.OPEN,(()=>{N||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),z(T,su.EventType.CLOSE,(()=>{N||(N=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))})),z(T,su.EventType.ERROR,(P=>{N||(N=!0,Oo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),z(T,su.EventType.MESSAGE,(P=>{if(!N){const Y=P.data[0];Fe(!!Y,16349);const Z=Y,ne=Z?.error||Z[0]?.error;if(ne){ue(Zt,`RPC '${e}' stream ${o} received error:`,ne);const se=ne.status;let de=(function(w){const I=Dt[w];if(I!==void 0)return AA(I)})(se),me=ne.message;de===void 0&&(de=J.INTERNAL,me="Unknown error status: "+se+" with message "+ne.message),N=!0,U.a_(new le(de,me)),T.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,Y),U.u_(Y)}})),z(m,Bb.STAT_EVENT,(P=>{P.stat===gp.PROXY?ue(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===gp.NOPROXY&&ue(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ep(){return typeof document<"u"?document:null}function If(i){return new dD(i,!0)}class LA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const WT="PersistentStream";class UA{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(WT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(WT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cO extends UA{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?qi(h.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Cp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Tp(p)?{documents:vD(u,p)}:{query:ED(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=RA(u,h.resumeToken);const g=Sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=tf(u,h.snapshotVersion.toTimestamp());const g=Sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=bD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Cp(this.serializer),n.removeTarget=e,this.q_(n)}}class hO extends UA{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_D(e.writeResults,e.commitTime),s=qi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Cp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>yD(this.serializer,s)))};this.q_(n)}}class fO{}class dO extends fO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,wp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,wp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ta="RemoteStore";class pO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Ra(this)&&(ue(Ta,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await ju(g),g.Ra.set("Unknown"),g.Ea.delete(4),await xf(g)})(this))}))})),this.Ra=new mO(s,o)}}async function xf(i){if(Ra(i))for(const e of i.da)await e(!0)}async function ju(i){for(const e of i.da)await e(!1)}function jA(i,e){const n=Se(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ag(n)?bg(n):Qo(n).O_()&&Tg(n,e))}function Eg(i,e){const n=Se(i),s=Qo(n);n.Ia.delete(e),s.O_()&&zA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ra(n)&&n.Ra.set("Unknown"))}function Tg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qo(i).Y_(e)}function zA(i,e){i.Va.Ue(e),Qo(i).Z_(e)}function bg(i){i.Va=new uD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Qo(i).start(),i.Ra.ua()}function Ag(i){return Ra(i)&&!Qo(i).x_()&&i.Ia.size>0}function Ra(i){return Se(i).Ea.size===0}function BA(i){i.Va=void 0}async function gO(i){i.Ra.set("Online")}async function yO(i){i.Ia.forEach(((e,n)=>{Tg(i,e)}))}async function _O(i,e){BA(i),Ag(i)?(i.Ra.ha(e),bg(i)):i.Ra.set("Unknown")}async function vO(i,e,n){if(i.Ra.set("Online"),e instanceof wA&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ue(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rf(i,s)}else if(e instanceof jh?i.Va.Ze(e):e instanceof SA?i.Va.st(e):i.Va.tt(e),!n.isEqual(be.min()))try{const s=await PA(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),zA(u,p);const T=new ys(E.target,p,g,E.sequenceNumber);Tg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ue(Ta,"Failed to raise snapshot:",s),await rf(i,s)}}async function rf(i,e,n){if(!Ko(e))throw e;i.Ea.add(1),await ju(i),i.Ra.set("Offline"),n||(n=()=>PA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(Ta,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await xf(i)}))}function qA(i,e){return e().catch((n=>rf(i,n,e)))}async function Nf(i){const e=Se(i),n=Cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ag;for(;EO(e);)try{const o=await tO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,TO(e,o)}catch(o){await rf(e,o)}HA(e)&&FA(e)}function EO(i){return Ra(i)&&i.Ta.length<10}function TO(i,e){i.Ta.push(e);const n=Cs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function HA(i){return Ra(i)&&!Cs(i).x_()&&i.Ta.length>0}function FA(i){Cs(i).start()}async function bO(i){Cs(i).ra()}async function AO(i){const e=Cs(i);for(const n of i.Ta)e.ea(n.mutations)}async function SO(i,e,n){const s=i.Ta.shift(),o=dg.from(s,e,n);await qA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Nf(i)}async function wO(i,e){e&&Cs(i).X_&&await(async function(s,o){if((function(h){return aD(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();Cs(s).B_(),await qA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Nf(s)}})(i,e),HA(i)&&FA(i)}async function JT(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),ue(Ta,"RemoteStore received new credentials");const s=Ra(n);n.Ea.add(3),await ju(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xf(n)}async function RO(i,e){const n=Se(i);e?(n.Ea.delete(2),await xf(n)):e||(n.Ea.add(2),await ju(n),n.Ra.set("Unknown"))}function Qo(i){return i.ma||(i.ma=(function(n,s,o){const u=Se(n);return u.sa(),new cO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:gO.bind(null,i),t_:yO.bind(null,i),r_:_O.bind(null,i),H_:vO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Ag(i)?bg(i):i.Ra.set("Unknown")):(await i.ma.stop(),BA(i))}))),i.ma}function Cs(i){return i.fa||(i.fa=(function(n,s,o){const u=Se(n);return u.sa(),new hO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:bO.bind(null,i),r_:wO.bind(null,i),ta:AO.bind(null,i),na:SO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Nf(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Ta,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Sg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Sg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(i,e){if(Sr("AsyncQueue",`${e}: ${i}`),Ko(i))return new le(J.UNAVAILABLE,`${e}: ${i}`);throw i}class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=au(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Do;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class ZT{constructor(){this.ga=new ht(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class jo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new jo(e,n,Do.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class CO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class IO{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=e0(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function e0(){return new wa((i=>cA(i)),bf)}async function Rg(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new CO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=wg(h,`Initialization of query '${So(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ig(n)}async function Cg(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function xO(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Ig(n)}function NO(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Ig(i){i.Ca.forEach((e=>{e.next()}))}var Np,t0;(t0=Np||(Np={})).Ma="default",t0.Cache="cache";class xg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Np.Cache}}class GA{constructor(e){this.key=e}}class KA{constructor(e){this.key=e}}class DO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=hA(e),this.tu=new Do(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ZT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const S=o.get(E),N=Af(this.query,T)?T:null,U=!!S&&this.mutatedKeys.has(S.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let P=!1;S&&N?S.data.isEqual(N.data)?U!==z&&(s.track({type:3,doc:N}),P=!0):this.su(S,N)||(s.track({type:2,doc:N}),P=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(m=!0)):!S&&N?(s.track({type:0,doc:N}),P=!0):S&&!N&&(s.track({type:1,doc:S}),P=!0,(p||g)&&(m=!0)),P&&(N?(h=h.add(N),u=z?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(N,U){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:P})}};return z(N)-z(U)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new jo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new KA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new GA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ng="SyncEngine";class OO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class MO{constructor(e){this.key=e,this.hu=!1}}class kO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new wa((m=>cA(m)),bf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ge.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=Uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VO(i,e,n=!0){const s=JA(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await QA(s,e,n,!0),o}async function PO(i,e){const n=JA(i);await QA(n,e,!0,!1)}async function QA(i,e,n,s){const o=await nO(i.localStore,Bi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await LO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&jA(i.remoteStore,o),m}async function LO(i,e,n,s,o){i.pu=(T,S,N)=>(async function(z,P,Y,Z){let ne=P.view.ru(Y);ne.Cs&&(ne=await QT(z.localStore,P.query,!1).then((({documents:C})=>P.view.ru(C,ne))));const se=Z&&Z.targetChanges.get(P.targetId),de=Z&&Z.targetMismatches.get(P.targetId)!=null,me=P.view.applyChanges(ne,z.isPrimaryClient,se,de);return i0(z,P.targetId,me.au),me.snapshot})(i,T,S,N);const u=await QT(i.localStore,e,!0),h=new DO(e,u.Qs),m=h.ru(u.documents),p=Uu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);i0(i,n,g.au);const E=new OO(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function UO(i,e,n){const s=Se(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!bf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ip(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Eg(s.remoteStore,o.targetId),Dp(s,o.targetId)})).catch(Go)):(Dp(s,o.targetId),await Ip(s.localStore,o.targetId,!0))}async function jO(i,e){const n=Se(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Eg(n.remoteStore,s.targetId))}async function zO(i,e,n){const s=QO(i);try{const o=await(function(h,m){const p=Se(h),g=it.now(),E=m.reduce(((N,U)=>N.add(U.key)),Ve());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let U=wr(),z=Ve();return p.Ns.getEntries(N,E).next((P=>{U=P,U.forEach(((Y,Z)=>{Z.isValidDocument()||(z=z.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,U))).next((P=>{T=P;const Y=[];for(const Z of m){const ne=tD(Z,T.get(Z.key).overlayedDocument);ne!=null&&Y.push(new Os(Z.key,ne,nA(ne.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,Y,m)})).next((P=>{S=P;const Y=P.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(N,P.batchId,Y)}))})).then((()=>({batchId:S.batchId,changes:dA(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ht(ke)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await zu(s,o.changes),await Nf(s.remoteStore)}catch(o){const u=wg(o,"Failed to persist write");n.reject(u)}}async function YA(i,e){const n=Se(i);try{const s=await ZD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await zu(n,s,e)}catch(s){await Go(s)}}function n0(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Se(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const S of T.Sa)S.va(m)&&(g=!0)})),g&&Ig(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function BO(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(ge.comparator);h=h.insert(u,tn.newNoDocument(u,be.min()));const m=Ve().add(u),p=new Cf(be.min(),new Map,new ht(ke),h,m);await YA(s,p),s.du=s.du.remove(u),s.Au.delete(e),Dg(s)}else await Ip(s.localStore,e,!1).then((()=>Dp(s,e,n))).catch(Go)}async function qO(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await JD(n.localStore,e);$A(n,s,null),XA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await zu(n,o)}catch(o){await Go(o)}}async function HO(i,e,n){const s=Se(i);try{const o=await(function(h,m){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Fe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);$A(s,e,n),XA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await zu(s,o)}catch(o){await Go(o)}}function XA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function $A(i,e,n){const s=Se(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Dp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||WA(i,s)}))}function WA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Eg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Dg(i))}function i0(i,e,n){for(const s of n)s instanceof GA?(i.Ru.addReference(s.key,e),FO(i,s)):s instanceof KA?(ue(Ng,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||WA(i,s.key)):Ee(19791,{wu:s})}function FO(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(Ng,"New document in limbo: "+n),i.Eu.add(s),Dg(i))}function Dg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ge(et.fromString(e)),s=i.fu.next();i.Au.set(s,new MO(n)),i.du=i.du.insert(n,s),jA(i.remoteStore,new ys(Bi(Tf(n.path)),s,"TargetPurposeLimboResolution",_f.ce))}}async function zu(i,e,n){const s=Se(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=_g.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(S=>ie.forEach(S.Es,(N=>E.persistence.referenceDelegate.addReference(T,S.targetId,N))).next((()=>ie.forEach(S.ds,(N=>E.persistence.referenceDelegate.removeReference(T,S.targetId,N)))))))))}catch(T){if(!Ko(T))throw T;ue(vg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const N=E.Ms.get(S),U=N.snapshotVersion,z=N.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(S,z)}}})(s.localStore,u))}async function GO(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){ue(Ng,"User change. New user:",e.toKey());const s=await VA(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zu(n,s.Ls)}}function KO(i,e){const n=Se(i),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function JA(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BO.bind(null,e),e.Pu.H_=xO.bind(null,e.eventManager),e.Pu.yu=NO.bind(null,e.eventManager),e}function QO(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HO.bind(null,e),e}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WD(this.persistence,new YD,e.initialUser,this.serializer)}Cu(e){return new kA(yg.mi,this.serializer)}Du(e){return new rO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class YO extends sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof nf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new kA((s=>nf.mi(s,n)),this.serializer)}}class Op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>n0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GO.bind(null,this.syncEngine),await RO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IO})()}createDatastore(e){const n=If(e.databaseInfo.databaseId),s=(function(u){return new uO(u)})(e.databaseInfo);return(function(u,h,m,p){return new dO(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new pO(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>n0(this.syncEngine,n,0)),(function(){return $T.v()?new $T:new sO})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new kO(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);ue(Ta,"RemoteStore shutting down."),s.Ea.add(5),await ju(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};class Og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Is="FirestoreClient";class XO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(Is,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(Is,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tp(i,e){i.asyncQueue.verifyOperationInProgress(),ue(Is,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await VA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function r0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await $O(i);ue(Is,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>JT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>JT(e.remoteStore,o))),i._onlineComponents=e}async function $O(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Is,"Using user provided OfflineComponentProvider");try{await tp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await tp(i,new sf)}}else ue(Is,"Using default OfflineComponentProvider"),await tp(i,new YO(void 0));return i._offlineComponents}async function ZA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Is,"Using user provided OnlineComponentProvider"),await r0(i,i._uninitializedComponentsProvider._online)):(ue(Is,"Using default OnlineComponentProvider"),await r0(i,new Op))),i._onlineComponents}function WO(i){return ZA(i).then((e=>e.syncEngine))}async function af(i){const e=await ZA(i),n=e.eventManager;return n.onListen=VO.bind(null,e.syncEngine),n.onUnlisten=UO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jO.bind(null,e.syncEngine),n}function JO(i,e,n={}){const s=new _r;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Og({next:S=>{E.Nu(),h.enqueueAndForget((()=>Cg(u,T)));const N=S.docs.has(m);!N&&S.fromCache?g.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new xg(Tf(m.path),E,{includeMetadataChanges:!0,qa:!0});return Rg(u,T)})(await af(i),i.asyncQueue,e,n,s))),s.promise}function ZO(i,e,n={}){const s=new _r;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Og({next:S=>{E.Nu(),h.enqueueAndForget((()=>Cg(u,T))),S.fromCache&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new xg(m,E,{includeMetadataChanges:!0,qa:!0});return Rg(u,T)})(await af(i),i.asyncQueue,e,n,s))),s.promise}function eS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const s0=new Map;const tS="firestore.googleapis.com",a0=!0;class o0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tS,this.ssl=a0}else this.host=e.host,this.ssl=e.ssl??a0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DD)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bu{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new a2;switch(s.type){case"firstParty":return new c2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=s0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),s0.delete(n),s.terminate())})(this),Promise.resolve()}}function eM(i,e,n,s={}){i=ln(i,Bu);const o=xs(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Fp(`https://${m}`),Gp("Firestore",!0)),u.host!==tS&&u.host!==m&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Tr(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=en.MOCK_USER;else{g=W0(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(T)}i._authCredentials=new o2(new Gb(g,E))}}class Nr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Nr(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Pu(n,gt._jsonSchema))return new gt(e,s||null,new ge(et.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Mt("string",gt._jsonSchemaVersion),referencePath:Mt("string")};class Ts extends Nr{constructor(e,n,s){super(e,n,Tf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ge(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function np(i,e,...n){if(i=rt(i),sg("collection","path",e),i instanceof Bu){const s=et.fromString(e,...n);return ET(s),new Ts(i,null,s)}{if(!(i instanceof gt||i instanceof Ts))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return ET(s),new Ts(i.firestore,null,s)}}function _V(i,e){if(i=ln(i,Bu),sg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Nr(i,null,(function(s){return new Sa(et.emptyPath(),s)})(e))}function Pi(i,e,...n){if(i=rt(i),arguments.length===1&&(e=rg.newId()),sg("doc","path",e),i instanceof Bu){const s=et.fromString(e,...n);return vT(s),new gt(i,null,new ge(s))}{if(!(i instanceof gt||i instanceof Ts))throw new le(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return vT(s),new gt(i.firestore,i instanceof Ts?i.converter:null,new ge(s))}}const l0="AsyncQueue";class u0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LA(this,"async_queue_retry"),this._c=()=>{const s=ep();s&&ue(l0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;ue(l0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",c0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Sg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:c0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function c0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function h0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Rr extends Bu{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new u0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u0(e),this._firestoreClient=void 0,await e}}}function tM(i,e){const n=typeof i=="object"?i:Yp(),s=typeof i=="string"?i:Jh,o=df(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Y0("firestore");u&&eM(o,...u)}return o}function Df(i){if(i._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||nM(i),i._firestoreClient}function nM(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new C2(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,eS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new XO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Wt.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Mt("string",Qn._jsonSchemaVersion),bytes:Mt("string")};class Of{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ca{constructor(e){this._methodName=e}}class Hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Mt("string",Hi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class Fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fi(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Mt("string",Fi._jsonSchemaVersion),vectorValues:Mt("object")};const iM=/^__.*__$/;class rM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}class nS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Mf{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return of(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iS(this.Ac)&&iM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||If(e)}Cc(e,n,s,o=!1){return new Mf({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kf(i){const e=i._freezeSettings(),n=If(i._databaseId);return new sM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function rS(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Lg("Data must be an object, but it was:",h,s);const m=aS(s,h);let p,g;if(u.merge)p=new Nn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=Mp(e,T,n);if(!h.contains(S))throw new le(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);lS(E,S)||E.push(S)}p=new Nn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new rM(new _n(m),p,g)}class qu extends Ca{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qu}}function sS(i,e,n){return new Mf({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Mg extends Ca{_toFieldTransform(e){return new wf(e.path,new Ru)}isEqual(e){return e instanceof Mg}}class kg extends Ca{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=sS(this,e,!0),s=this.vc.map((u=>Ia(u,n))),o=new Po(s);return new wf(e.path,o)}isEqual(e){return e instanceof kg&&Tr(this.vc,e.vc)}}class Vg extends Ca{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=sS(this,e,!0),s=this.vc.map((u=>Ia(u,n))),o=new Lo(s);return new wf(e.path,o)}isEqual(e){return e instanceof Vg&&Tr(this.vc,e.vc)}}class Pg extends Ca{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Cu(e.serializer,gA(e.serializer,this.Fc));return new wf(e.path,n)}isEqual(e){return e instanceof Pg&&this.Fc===e.Fc}}function aM(i,e,n,s){const o=i.Cc(1,e,n);Lg("Data must be an object, but it was:",o,s);const u=[],h=_n.empty();Ds(s,((p,g)=>{const E=Ug(e,p,n);g=rt(g);const T=o.yc(E);if(g instanceof qu)u.push(E);else{const S=Ia(g,T);S!=null&&(u.push(E),h.set(E,S))}}));const m=new Nn(u);return new nS(h,m,o.fieldTransforms)}function oM(i,e,n,s,o,u){const h=i.Cc(1,e,n),m=[Mp(e,s,n)],p=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Mp(e,u[S])),p.push(u[S+1]);const g=[],E=_n.empty();for(let S=m.length-1;S>=0;--S)if(!lS(g,m[S])){const N=m[S];let U=p[S];U=rt(U);const z=h.yc(N);if(U instanceof qu)g.push(N);else{const P=Ia(U,z);P!=null&&(g.push(N),E.set(N,P))}}const T=new Nn(g);return new nS(E,T,h.fieldTransforms)}function lM(i,e,n,s=!1){return Ia(n,i.Cc(s?4:3,e))}function Ia(i,e){if(oS(i=rt(i)))return Lg("Unsupported field value:",e,i),aS(i,e);if(i instanceof Ca)return(function(s,o){if(!iS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Ia(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:tf(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tf(o.serializer,u)}}if(s instanceof Hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:RA(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Fi)return(function(h,m){return{mapValue:{fields:{[eA]:{stringValue:tA},[Zh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return hg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${yf(s)}`)})(i,e)}function aS(i,e){const n={};return Yb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(i,((s,o)=>{const u=Ia(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function oS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Hi||i instanceof Qn||i instanceof gt||i instanceof Ca||i instanceof Fi)}function Lg(i,e,n){if(!oS(n)||!Kb(n)){const s=yf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Mp(i,e,n){if((e=rt(e))instanceof Of)return e._internalPath;if(typeof e=="string")return Ug(i,e);throw of("Field path arguments must be of type string or ",i,!1,void 0,n)}const uM=new RegExp("[~\\*/\\[\\]]");function Ug(i,e,n){if(e.search(uM)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Of(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function of(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new le(J.INVALID_ARGUMENT,m+i+p)}function lS(i,e){return i.some((n=>n.isEqual(e)))}class uS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cM extends uS{data(){return super.data()}}function jg(i,e){return typeof e=="string"?Ug(i,e):e instanceof Of?e._internalPath:e._delegate._internalPath}function cS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class hS extends zg{}function hM(i,e,...n){let s=[];e instanceof zg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof qg)).length,m=u.filter((p=>p instanceof Bg)).length;if(h>1||h>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Bg extends hS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Bg(e,n,s)}_apply(e){const n=this._parse(e);return fS(e._query,n),new Nr(e.firestore,e.converter,bp(e._query,n))}_parse(e){const n=kf(e.firestore);return(function(u,h,m,p,g,E,T){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){d0(T,E);const U=[];for(const z of T)U.push(f0(p,u,z));S={arrayValue:{values:U}}}else S=f0(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||d0(T,E),S=lM(m,h,T,E==="in"||E==="not-in");return Ot.create(g,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class qg extends zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)fS(h,p),h=bp(h,p)})(e._query,n),new Nr(e.firestore,e.converter,bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hg extends hS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(u,h)})(e._query,this._field,this._direction);return new Nr(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Sa(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function fM(i,e="asc"){const n=e,s=jg("orderBy",i);return Hg._create(s,n)}function f0(i,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uA(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!ge.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return IT(i,new ge(s))}if(n instanceof gt)return IT(i,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(n)}.`)}function d0(i,e){if(!Array.isArray(i)||i.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fS(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dM{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ds(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Zh].arrayValue?.values?.map((s=>Tt(s.doubleValue)));return new Fi(n)}convertGeoPoint(e){return new Hi(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(OA(s),9688,{name:e});const o=new Au(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||Sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function dS(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends uS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(jg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:Mt("string",ma._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class zh extends ma{data(e={}){return super.data(e)}}class pa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new lu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new zh(this._firestore,this._userDataWriter,s.key,s,new lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:mM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}function pM(i){i=ln(i,gt);const e=ln(i.firestore,Rr);return JO(Df(e),i._key).then((n=>mS(e,i,n)))}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:Mt("string",pa._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Fg extends dM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function vV(i){i=ln(i,Nr);const e=ln(i.firestore,Rr),n=Df(e),s=new Fg(e);return cS(i._query),ZO(n,i._query).then((o=>new pa(e,s,i,o)))}function gM(i,e,n){i=ln(i,gt);const s=ln(i.firestore,Rr),o=dS(i.converter,e);return Vf(s,[rS(kf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Yn.none())])}function dr(i,e,n,...s){i=ln(i,gt);const o=ln(i.firestore,Rr),u=kf(o);let h;return h=typeof(e=rt(e))=="string"||e instanceof Of?oM(u,"updateDoc",i._key,e,n,s):aM(u,"updateDoc",i._key,e),Vf(o,[h.toMutation(i._key,Yn.exists(!0))])}function yM(i){return Vf(ln(i.firestore,Rr),[new fg(i._key,Yn.none())])}function m0(i,e){const n=ln(i.firestore,Rr),s=Pi(i),o=dS(i.converter,e);return Vf(n,[rS(kf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then((()=>s))}function _M(i,...e){i=rt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||h0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(h0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof gt)h=ln(i.firestore,Rr),m=Tf(i._key.path),u={next:p=>{e[s]&&e[s](mS(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=ln(i,Nr);h=ln(p.firestore,Rr),m=p._query;const g=new Fg(h);u={next:E=>{e[s]&&e[s](new pa(h,g,p,E))},error:e[s+1],complete:e[s+2]},cS(i._query)}return(function(g,E,T,S){const N=new Og(S),U=new xg(E,N,T);return g.asyncQueue.enqueueAndForget((async()=>Rg(await af(g),U))),()=>{N.Nu(),g.asyncQueue.enqueueAndForget((async()=>Cg(await af(g),U)))}})(Df(h),m,o,u)}function Vf(i,e){return(function(s,o){const u=new _r;return s.asyncQueue.enqueueAndForget((async()=>zO(await WO(s),o,u))),u.promise})(Df(i),e)}function mS(i,e,n){const s=n.docs.get(e._key),o=new Fg(i);return new ma(i,o,e._key,s,new lu(n.hasPendingWrites,n.fromCache),e.converter)}function EV(){return new qu("deleteField")}function To(){return new Mg("serverTimestamp")}function vM(...i){return new kg("arrayUnion",i)}function EM(...i){return new Vg("arrayRemove",i)}function p0(i){return new Pg("increment",i)}(function(e,n=!0){(function(o){Fo=o})(Aa),ya(new bs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Rr(new l2(s.getProvider("auth-internal")),new h2(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ui(pT,gT,e),Ui(pT,gT,"esm2020")})();var TM="firebase",bM="12.7.0";Ui(TM,bM,"app");const pS="firebasestorage.googleapis.com",gS="storageBucket",AM=120*1e3,SM=600*1e3,wM=1e3;class ft extends Qi{constructor(e,n,s=0){super(ip(e),`Firebase Storage: ${n} (${ip(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ip(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function ip(i){return"storage/"+i}function Gg(){const i="An unknown error occurred, please check the error payload for server response.";return new ft(st.UNKNOWN,i)}function RM(i){return new ft(st.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function CM(i){return new ft(st.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function IM(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(st.UNAUTHENTICATED,i)}function xM(){return new ft(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function NM(i){return new ft(st.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function yS(){return new ft(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _S(){return new ft(st.CANCELED,"User canceled the upload/download.")}function DM(i){return new ft(st.INVALID_URL,"Invalid URL '"+i+"'.")}function OM(i){return new ft(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function MM(){return new ft(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gS+"' property when initializing the app?")}function vS(){return new ft(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kM(){return new ft(st.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function VM(){return new ft(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function PM(i){return new ft(st.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function kp(i){return new ft(st.INVALID_ARGUMENT,i)}function ES(){return new ft(st.APP_DELETED,"The Firebase app was deleted.")}function LM(i){return new ft(st.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pu(i,e){return new ft(st.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function nu(i){throw new ft(st.INTERNAL_ERROR,"Internal error: "+i)}class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(s.path==="")return s;throw OM(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${T}/${E}/b/${o}/o${S}`,"i"),U={bucket:1,path:3},z=n===pS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",Y=new RegExp(`^https?://${z}/${o}/${P}`,"i"),ne=[{regex:m,indices:p,postModify:u},{regex:N,indices:U,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<ne.length;se++){const de=ne[se],me=de.regex.exec(e);if(me){const C=me[de.indices.bucket];let w=me[de.indices.path];w||(w=""),s=new Dn(C,w),de.postModify(s);break}}if(s==null)throw DM(e);return s}}class UM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function jM(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...P){g||(g=!0,e.apply(null,P))}function T(P){o=setTimeout(()=>{o=null,i(N,p())},P)}function S(){u&&clearTimeout(u)}function N(P,...Y){if(g){S();return}if(P){S(),E.call(null,P,...Y);return}if(p()||h){S(),E.call(null,P,...Y);return}s<64&&(s*=2);let ne;m===1?(m=2,ne=0):ne=(s+Math.random())*1e3,T(ne)}let U=!1;function z(P){U||(U=!0,S(),!g&&(o!==null?(P||(m=2),clearTimeout(o),T(0)):P||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,z(!0)},n),z}function zM(i){i(!1)}function BM(i){return i!==void 0}function qM(i){return typeof i=="function"}function HM(i){return typeof i=="object"&&!Array.isArray(i)}function Pf(i){return typeof i=="string"||i instanceof String}function g0(i){return Kg()&&i instanceof Blob}function Kg(){return typeof Blob<"u"}function y0(i,e,n,s){if(s<e)throw kp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw kp(`Invalid value for '${i}'. Expected ${n} or less.`)}function Yo(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function TS(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ga;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ga||(ga={}));function bS(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class FM{constructor(e,n,s,o,u,h,m,p,g,E,T,S=!0,N=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,z)=>{this.resolve_=U,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Rh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===ga.NO_ERROR,p=u.getStatus();if(!m||bS(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ga.ABORT;s(!1,new Rh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Rh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());BM(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Gg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?ES():_S();h(p)}else{const p=yS();h(p)}};this.canceled_?n(!1,new Rh(!1,null,!0)):this.backoffId_=jM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function GM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function KM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function YM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function XM(i,e,n,s,o,u,h=!0,m=!1){const p=TS(i.urlParams),g=i.url+p,E=Object.assign({},i.headers);return QM(E,e),GM(E,n),KM(E,u),YM(E,s),new FM(g,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function $M(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WM(...i){const e=$M();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Kg())return new Blob(i);throw new ft(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function JM(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}function ZM(i){if(typeof atob>"u")throw PM("base-64");return atob(i)}const Li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rp{constructor(e,n){this.data=e,this.contentType=n||null}}function ek(i,e){switch(i){case Li.RAW:return new rp(AS(e));case Li.BASE64:case Li.BASE64URL:return new rp(SS(i,e));case Li.DATA_URL:return new rp(nk(e),ik(e))}throw Gg()}function AS(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function tk(i){let e;try{e=decodeURIComponent(i)}catch{throw pu(Li.DATA_URL,"Malformed data URL.")}return AS(e)}function SS(i,e){switch(i){case Li.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw pu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Li.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw pu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ZM(e)}catch(o){throw o.message.includes("polyfill")?o:pu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class wS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw pu(Li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=rk(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function nk(i){const e=new wS(i);return e.base64?SS(Li.BASE64,e.rest):tk(e.rest)}function ik(i){return new wS(i).contentType}function rk(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class gs{constructor(e,n){let s=0,o="";g0(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(g0(this.data_)){const s=this.data_,o=JM(s,e,n);return o===null?null:new gs(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new gs(s,!0)}}static getBlob(...e){if(Kg()){const n=e.map(s=>s instanceof gs?s.data_:s);return new gs(WM.apply(null,n))}else{const n=e.map(h=>Pf(h)?ek(Li.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new gs(o,!0)}}uploadData(){return this.data_}}function RS(i){let e;try{e=JSON.parse(i)}catch{return null}return HM(e)?e:null}function sk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function ak(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function CS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function ok(i,e){return e}class on{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||ok}}let Ch=null;function lk(i){return!Pf(i)||i.length<2?i:CS(i)}function IS(){if(Ch)return Ch;const i=[];i.push(new on("bucket")),i.push(new on("generation")),i.push(new on("metageneration")),i.push(new on("name","fullPath",!0));function e(u,h){return lk(h)}const n=new on("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new on("size");return o.xform=s,i.push(o),i.push(new on("timeCreated")),i.push(new on("updated")),i.push(new on("md5Hash",null,!0)),i.push(new on("cacheControl",null,!0)),i.push(new on("contentDisposition",null,!0)),i.push(new on("contentEncoding",null,!0)),i.push(new on("contentLanguage",null,!0)),i.push(new on("contentType",null,!0)),i.push(new on("metadata","customMetadata",!0)),Ch=i,Ch}function uk(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Dn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function ck(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return uk(s,i),s}function xS(i,e,n){const s=RS(e);return s===null?null:ck(i,s,n)}function hk(i,e,n,s){const o=RS(e);if(o===null||!Pf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,T=i.fullPath,S="/b/"+h(E)+"/o/"+h(T),N=Yo(S,n,s),U=TS({alt:"media",token:g});return N+U})[0]}function NS(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class xa{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vr(i){if(!i)throw Gg()}function Qg(i,e){function n(s,o){const u=xS(i,o,e);return vr(u!==null),u}return n}function fk(i,e){function n(s,o){const u=xS(i,o,e);return vr(u!==null),hk(u,o,i.host,i._protocol)}return n}function Hu(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=xM():o=IM():n.getStatus()===402?o=CM(i.bucket):n.getStatus()===403?o=NM(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Yg(i){const e=Hu(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=RM(i.path)),u.serverResponse=o.serverResponse,u}return n}function dk(i,e,n){const s=e.fullServerUrl(),o=Yo(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new xa(o,u,Qg(i,n),h);return m.errorHandler=Yg(e),m}function mk(i,e,n){const s=e.fullServerUrl(),o=Yo(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new xa(o,u,fk(i,n),h);return m.errorHandler=Yg(e),m}function pk(i,e){const n=e.fullServerUrl(),s=Yo(n,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function h(p,g){}const m=new xa(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=Yg(e),m}function gk(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function DS(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=gk(null,e)),s}function yk(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ne="";for(let se=0;se<2;se++)ne=ne+Math.random().toString().slice(2);return ne}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=DS(e,s,o),E=NS(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",N=gs.getBlob(T,s,S);if(N===null)throw vS();const U={name:g.fullPath},z=Yo(u,i.host,i._protocol),P="POST",Y=i.maxUploadRetryTime,Z=new xa(z,P,Qg(i,n),Y);return Z.urlParams=U,Z.headers=h,Z.body=N.uploadData(),Z.errorHandler=Hu(e),Z}class lf{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function Xg(i,e){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{vr(!1)}return vr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function _k(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h=DS(e,s,o),m={name:h.fullPath},p=Yo(u,i.host,i._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},T=NS(h,n),S=i.maxUploadRetryTime;function N(z){Xg(z);let P;try{P=z.getResponseHeader("X-Goog-Upload-URL")}catch{vr(!1)}return vr(Pf(P)),P}const U=new xa(p,g,N,S);return U.urlParams=m,U.headers=E,U.body=T,U.errorHandler=Hu(e),U}function vk(i,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=Xg(g,["active","final"]);let T=null;try{T=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vr(!1)}T||vr(!1);const S=Number(T);return vr(!isNaN(S)),new lf(S,s.size(),E==="final")}const h="POST",m=i.maxUploadRetryTime,p=new xa(n,h,u,m);return p.headers=o,p.errorHandler=Hu(e),p}const _0=256*1024;function Ek(i,e,n,s,o,u,h,m){const p=new lf(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw kM();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const T=p.current,S=T+E;let N="";E===0?N="finalize":g===E?N="upload, finalize":N="upload";const U={"X-Goog-Upload-Command":N,"X-Goog-Upload-Offset":`${p.current}`},z=s.slice(T,S);if(z===null)throw vS();function P(se,de){const me=Xg(se,["active","final"]),C=p.current+E,w=s.size();let I;return me==="final"?I=Qg(e,u)(se,de):I=null,new lf(C,w,me==="final",I)}const Y="POST",Z=e.maxUploadRetryTime,ne=new xa(n,Y,P,Z);return ne.headers=U,ne.body=z.uploadData(),ne.progressCallback=m||null,ne.errorHandler=Hu(i),ne}const yn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sp(i){switch(i){case"running":case"pausing":case"canceling":return yn.RUNNING;case"paused":return yn.PAUSED;case"success":return yn.SUCCESS;case"canceled":return yn.CANCELED;case"error":return yn.ERROR;default:return yn.ERROR}}class Tk{constructor(e,n,s){if(qM(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function bo(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class bk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ga.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ga.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ga.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw nu("cannot .send() more than once");if(xs(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ak extends bk{initXhr(){this.xhr_.responseType="text"}}function fa(){return new Ak}class Sk{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=IS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(st.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(bS(o.status,[]))if(u)o=yS();else{this.sleepTime=Math.max(this.sleepTime*2,wM),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(st.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=_k(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,fa,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=vk(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,fa,n,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=_0*this._chunkMultiplier,n=new lf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=Ek(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,fa,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){_0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=dk(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,fa,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=yk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,fa,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=_S(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=sp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new Tk(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(sp(this._state)){case yn.SUCCESS:bo(this._resolve.bind(null,this.snapshot))();break;case yn.CANCELED:case yn.ERROR:const n=this._reject;bo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(sp(this._state)){case yn.RUNNING:case yn.PAUSED:e.next&&bo(e.next.bind(e,this.snapshot))();break;case yn.SUCCESS:e.complete&&bo(e.complete.bind(e))();break;case yn.CANCELED:case yn.ERROR:e.error&&bo(e.error.bind(e,this._error))();break;default:e.error&&bo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class ba{constructor(e,n){this._service=e,n instanceof Dn?this._location=n:this._location=Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ba(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CS(this._location.path)}get storage(){return this._service}get parent(){const e=sk(this._location.path);if(e===null)return null;const n=new Dn(this._location.bucket,e);return new ba(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LM(e)}}function wk(i,e,n){return i._throwIfRoot("uploadBytesResumable"),new Sk(i,new gs(e),n)}function Rk(i){i._throwIfRoot("getDownloadURL");const e=mk(i.storage,i._location,IS());return i.storage.makeRequestWithTokens(e,fa).then(n=>{if(n===null)throw VM();return n})}function Ck(i){i._throwIfRoot("deleteObject");const e=pk(i.storage,i._location);return i.storage.makeRequestWithTokens(e,fa)}function Ik(i,e){const n=ak(i._location.path,e),s=new Dn(i._location.bucket,n);return new ba(i.storage,s)}function xk(i){return/^[A-Za-z]+:\/\//.test(i)}function Nk(i,e){return new ba(i,e)}function OS(i,e){if(i instanceof $g){const n=i;if(n._bucket==null)throw MM();const s=new ba(n,n._bucket);return e!=null?OS(s,e):s}else return e!==void 0?Ik(i,e):i}function Dk(i,e){if(e&&xk(e)){if(i instanceof $g)return Nk(i,e);throw kp("To use ref(service, url), the first argument must be a Storage instance.")}else return OS(i,e)}function v0(i,e){const n=e?.[gS];return n==null?null:Dn.makeFromBucketSpec(n,i)}function Ok(i,e,n,s={}){i.host=`${e}:${n}`;const o=xs(e);o&&(Fp(`https://${i.host}/b`),Gp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:W0(u,i.app.options.projectId))}class $g{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=pS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AM,this._maxUploadRetryTime=SM,this._requests=new Set,o!=null?this._bucket=Dn.makeFromBucketSpec(o,this._host):this._bucket=v0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=v0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){y0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){y0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ba(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new UM(ES());{const h=XM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const E0="@firebase/storage",T0="0.14.0";const MS="storage";function TV(i,e,n){return i=rt(i),wk(i,e,n)}function bV(i){return i=rt(i),Rk(i)}function AV(i){return i=rt(i),Ck(i)}function SV(i,e){return i=rt(i),Dk(i,e)}function Mk(i=Yp(),e){i=rt(i);const s=df(i,MS).getImmediate({identifier:e}),o=Y0("storage");return o&&kk(s,...o),s}function kk(i,e,n,s={}){Ok(i,e,n,s)}function Vk(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new $g(n,s,o,e,Aa)}function Pk(){ya(new bs(MS,Vk,"PUBLIC").setMultipleInstances(!0)),Ui(E0,T0,""),Ui(E0,T0,"esm2020")}Pk();const Lk={apiKey:"AIzaSyCoAdmx5m3jPuVg9VdQzBzhSv2GBQGdlyA",authDomain:"dacapo-toolbox.firebaseapp.com",projectId:"dacapo-toolbox",storageBucket:"dacapo-toolbox.firebasestorage.app",messagingSenderId:"544244716086",appId:"1:544244716086:web:1bff2cc13a3f95cf063e97"},Wg=eb(Lk),hs=r2(Wg),Kn=tM(Wg),wV=Mk(Wg),Uk="kevlimpens@gmail.com",pt={USER:"user",ADMIN:"admin",SUPERVISOR:"supervisor"},jk={CREDITS_VIEW_OWN:[pt.USER,pt.ADMIN,pt.SUPERVISOR],CREDITS_VIEW_ALL:[pt.ADMIN,pt.SUPERVISOR],CREDITS_MODIFY:[pt.SUPERVISOR],ADMIN_DASHBOARD:[pt.ADMIN,pt.SUPERVISOR],MANAGE_TOOLS:[pt.ADMIN,pt.SUPERVISOR],MANAGE_LABELS:[pt.ADMIN,pt.SUPERVISOR],VIEW_STATS:[pt.ADMIN,pt.SUPERVISOR]},zk=["kevlimpens@gmail.com"],Bk=["kevlimpens@gmail.com"];function qk(i,e){const n=jk[e];return n?n.includes(i):!1}function Hk(i){const e=i?.toLowerCase();return e?zk.includes(e)?pt.SUPERVISOR:Bk.includes(e)?pt.ADMIN:pt.USER:pt.USER}function Fk(i,e){return i&&Object.values(pt).includes(i)?i:Hk(e)}const kS=L.createContext();function Gk({children:i}){const[e,n]=L.useState(null),[s,o]=L.useState(null),[u,h]=L.useState(!0),[m,p]=L.useState(null),{setThemeFromPreference:g,getThemePreference:E}=Hp(),T=Fk(s?.role,e?.email),S=T===pt.ADMIN||T===pt.SUPERVISOR,N=T===pt.SUPERVISOR,U=C=>qk(T,C);L.useEffect(()=>{const C=Kx(hs,async w=>{if(n(w),w){const I=Pi(Kn,"users",w.uid),x=await pM(I);if(x.exists()){const M=x.data();o(M),g(M.themePreference||"light"),await dr(I,{lastLogin:new Date})}else{const M={email:w.email,displayName:w.displayName||w.email?.split("@")[0]||"",photoURL:w.photoURL||"",favorites:[],isAdmin:w.email?.toLowerCase()===Uk.toLowerCase(),createdAt:new Date,lastLogin:new Date};await gM(I,M),o(M)}}else o(null);h(!1)});return()=>C()},[]);const z=async(C,w)=>{try{return p(null),(await Hx(hs,C,w)).user.emailVerified?{success:!0}:{success:!1,message:"Verifieer eerst je email voordat je inlogt.",needsVerification:!0}}catch(I){console.error("Error signing in with email:",I);const x=Ih(I.code);return p(x),{success:!1,message:x}}},P=async(C,w,I="")=>{try{p(null);const x=await qx(hs,C,w);if(await rT(x.user),console.log("[Auth] Verification email sent to:",C),I){const M=Pi(Kn,"users",x.user.uid);await dr(M,{displayName:I})}return{success:!0,message:"Account aangemaakt! Controleer je email voor de verificatielink."}}catch(x){console.error("Error registering:",x);const M=Ih(x.code);return p(M),{success:!1,message:M}}},Y=async C=>{try{return p(null),await Bx(hs,C),{success:!0,message:"Wachtwoord reset link is verstuurd naar je email."}}catch(w){console.error("Error sending password reset:",w);const I=Ih(w.code);return p(I),{success:!1,message:I}}},Z=async()=>{try{return hs.currentUser&&!hs.currentUser.emailVerified?(await rT(hs.currentUser),{success:!0,message:"Verificatie email opnieuw verstuurd!"}):{success:!1,message:"Geen gebruiker om te verifiren."}}catch(C){return console.error("Error resending verification:",C),{success:!1,message:Ih(C.code)}}},ne=async()=>{try{if(e){const C=Pi(Kn,"users",e.uid);await dr(C,{themePreference:E()})}await Qx(hs)}catch(C){throw console.error("Error signing out:",C),C}},se=async C=>{if(!e)return;const w=Pi(Kn,"users",e.uid),I=s?.favorites?.includes(C);try{I?(await dr(w,{favorites:EM(C)}),o(x=>({...x,favorites:x.favorites.filter(M=>M!==C)}))):(await dr(w,{favorites:vM(C)}),o(x=>({...x,favorites:[...x.favorites||[],C]})))}catch(x){console.error("Error toggling favorite:",x)}},de=C=>s?.favorites?.includes(C)||!1,me=()=>p(null);return R.jsx(kS.Provider,{value:{user:e,userData:s,loading:u,userRole:T,isAdmin:S,isSupervisor:N,hasPermission:U,authError:m,signInWithEmail:z,registerWithEmail:P,resetPassword:Y,resendVerification:Z,signOut:ne,toggleFavorite:se,isFavorite:de,clearError:me},children:i})}function Ms(){const i=L.useContext(kS);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}function Ih(i){return{"auth/email-already-in-use":"Dit emailadres is al in gebruik.","auth/invalid-email":"Ongeldig emailadres.","auth/operation-not-allowed":"Deze inlogmethode is niet toegestaan.","auth/weak-password":"Wachtwoord is te zwak. Gebruik minimaal 6 karakters.","auth/user-disabled":"Dit account is uitgeschakeld.","auth/user-not-found":"Geen account gevonden met dit emailadres.","auth/wrong-password":"Onjuist wachtwoord.","auth/invalid-credential":"Ongeldige inloggegevens.","auth/too-many-requests":"Te veel pogingen. Probeer het later opnieuw.","auth/network-request-failed":"Netwerkfout. Controleer je internetverbinding.","auth/popup-closed-by-user":"Login popup gesloten.","auth/cancelled-popup-request":"Login geannuleerd."}[i]||"Er ging iets mis. Probeer het opnieuw."}function Jg(){const[i,e]=L.useState([]),[n,s]=L.useState(!0),[o,u]=L.useState(null);L.useEffect(()=>{const N=hM(np(Kn,"tools"),fM("name")),U=_M(N,z=>{const P=z.docs.map(Y=>({id:Y.id,...Y.data()}));e(P),s(!1)},z=>{console.error("Error fetching tools:",z),u(z),s(!1)});return()=>U()},[]);const h=i.filter(N=>N.isActive!==!1);return{tools:i,activeTools:h,loading:n,error:o,addTool:async N=>{try{return(await m0(np(Kn,"tools"),{...N,slug:N.slug||"",shortDescription:N.shortDescription||N.description||"",fullDescription:N.fullDescription||"",tags:N.tags||[],status:N.status||"draft",isActive:!0,clickCount:0,favoriteCount:0,createdAt:To(),updatedAt:To()})).id}catch(U){throw console.error("Error adding tool:",U),U}},updateTool:async(N,U)=>{try{const z=Pi(Kn,"tools",N);await dr(z,{...U,updatedAt:To()})}catch(z){throw console.error("Error updating tool:",z),z}},deleteTool:async N=>{try{await yM(Pi(Kn,"tools",N))}catch(U){throw console.error("Error deleting tool:",U),U}},updateFavoriteCount:async(N,U)=>{try{const z=Pi(Kn,"tools",N);await dr(z,{favoriteCount:p0(U)})}catch(z){console.error("Error updating favorite count:",z)}},trackToolClick:async(N,U="anonymous")=>{try{const z=Pi(Kn,"tools",N);await dr(z,{clickCount:p0(1),lastClickedAt:To()}),await m0(np(Kn,"toolClicks"),{toolId:N,userId:U,clickedAt:To()}),console.log("[Tools] Click tracked for tool:",N)}catch(z){console.error("Error tracking tool click:",z)}},toggleToolActive:async(N,U)=>{try{const z=Pi(Kn,"tools",N);await dr(z,{isActive:U,updatedAt:To()})}catch(z){throw console.error("Error toggling tool active status:",z),z}}}}const VS=[{id:"lesgeven",name:"Lesgeven",icon:"school",color:"#2860E0"},{id:"toetsing",name:"Toetsing",icon:"quiz",color:"#22C55E"},{id:"leerlingbegeleiding",name:"Leerlingbegeleiding",icon:"support",color:"#A855F7"},{id:"administratie",name:"Administratie",icon:"folder",color:"#F97316"},{id:"planning",name:"Planning",icon:"calendar_month",color:"#14B8A6"},{id:"communicatie",name:"PR en communicatie",icon:"chat",color:"#EC4899"},{id:"ai-automatisering",name:"AI & Automatisering",icon:"smart_toy",color:"#6366F1"},{id:"overig",name:"Overig",icon:"more_horiz",color:"#6B7280"}],Kk={id:"extern",name:"Extern",icon:"open_in_new",color:"#EF4444"},PS=[...VS,Kk];function Qk(i){return PS.find(e=>e.id===i)}function Zg(i){return i?.includes("extern")||!1}function LS(i){return!i||i.length===0?null:i.find(e=>e!=="extern")||null}function US(i){const e=LS(i);return e?Qk(e):null}function RV(i){if(!i||i.length===0)return{valid:!1,error:"Een primair label is verplicht"};const e=LS(i);return e?VS.map(s=>s.id).includes(e)?i.length>2?{valid:!1,error:"Maximaal 2 labels toegestaan"}:i.length===2&&!i.includes("extern")?{valid:!1,error:"Alleen primair label + Extern toegestaan"}:{valid:!0}:{valid:!1,error:"Ongeldig primair label"}:{valid:!1,error:"Een primair label is verplicht (niet alleen Extern)"}}function Yk(){return{labels:PS,loading:!1,error:null,addLabel:async()=>{console.warn("Labels are now read-only")},updateLabel:async()=>{console.warn("Labels are now read-only")},deleteLabel:async()=>{console.warn("Labels are now read-only")}}}function Xk({isOpen:i,onClose:e}){const{signInWithEmail:n,registerWithEmail:s,resetPassword:o,authError:u,clearError:h}=Ms(),[m,p]=L.useState("login"),[g,E]=L.useState(""),[T,S]=L.useState(""),[N,U]=L.useState(""),[z,P]=L.useState(""),[Y,Z]=L.useState(!1),[ne,se]=L.useState(null);if(!i)return null;const de=()=>{p("login"),E(""),S(""),U(""),P(""),se(null),h(),e()},me=async x=>{if(x.preventDefault(),!g||!T){se({type:"error",text:"Vul alle velden in."});return}Z(!0),se(null);const M=await n(g,T);Z(!1),M.success?de():M.needsVerification?se({type:"warning",text:M.message}):se({type:"error",text:M.message})},C=async x=>{if(x.preventDefault(),!g||!T||!N){se({type:"error",text:"Vul alle velden in."});return}if(T!==N){se({type:"error",text:"Wachtwoorden komen niet overeen."});return}if(T.length<6){se({type:"error",text:"Wachtwoord moet minimaal 6 karakters zijn."});return}Z(!0),se(null);const M=await s(g,T,z);Z(!1),M.success?se({type:"success",text:M.message}):se({type:"error",text:M.message})},w=async x=>{if(x.preventDefault(),!g){se({type:"error",text:"Voer je emailadres in."});return}Z(!0),se(null);const M=await o(g);Z(!1),M.success?se({type:"success",text:M.message}):se({type:"error",text:M.message})},I=x=>{p(x),se(null),h()};return R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:R.jsxs("div",{className:"relative w-full max-w-md bg-card rounded-2xl border border-theme shadow-xl overflow-hidden",children:[R.jsx("button",{onClick:de,className:"absolute top-4 right-4 size-10 flex items-center justify-center rounded-full hover:bg-gray-500/10 transition-colors z-10",children:R.jsx("span",{className:"material-symbols-outlined",children:"close"})}),R.jsxs("div",{className:"p-6",children:[R.jsxs("div",{className:"flex flex-col items-center mb-6",children:[R.jsx("div",{className:"size-14 bg-[#2860E0] rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg mb-3",children:"DC"}),R.jsxs("h2",{className:"text-xl font-bold",children:[m==="login"&&"Inloggen",m==="register"&&"Account aanmaken",m==="forgot"&&"Wachtwoord vergeten"]})]}),(ne||u)&&R.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm ${ne?.type==="success"?"bg-green-500/10 border border-green-500 text-green-600 dark:text-green-400":ne?.type==="warning"?"bg-yellow-500/10 border border-yellow-500 text-yellow-600 dark:text-yellow-400":"bg-red-500/10 border border-red-500 text-red-600 dark:text-red-400"}`,children:ne?.text||u}),m==="login"&&R.jsxs("form",{onSubmit:me,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),R.jsx("input",{type:"email",id:"email",value:g,onChange:x=>E(x.target.value),placeholder:"naam@dacapocollege.nl",className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Wachtwoord"}),R.jsx("input",{type:"password",id:"password",value:T,onChange:x=>S(x.target.value),placeholder:"",className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),R.jsx("button",{type:"button",onClick:()=>I("forgot"),className:"text-sm text-[#2860E0] hover:underline",children:"Wachtwoord vergeten?"}),R.jsx("button",{type:"submit",disabled:Y,className:"w-full h-12 bg-[#2860E0] hover:bg-[#1C4DAB] text-white font-semibold rounded-lg transition-colors disabled:opacity-50",children:Y?"Bezig...":"Inloggen"})]}),m==="register"&&R.jsxs("form",{onSubmit:C,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium mb-1",children:"Naam (optioneel)"}),R.jsx("input",{type:"text",id:"displayName",value:z,onChange:x=>P(x.target.value),placeholder:"Je naam",className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"regEmail",className:"block text-sm font-medium mb-1",children:"Email *"}),R.jsx("input",{type:"email",id:"regEmail",value:g,onChange:x=>E(x.target.value),placeholder:"naam@dacapocollege.nl",required:!0,className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"regPassword",className:"block text-sm font-medium mb-1",children:"Wachtwoord *"}),R.jsx("input",{type:"password",id:"regPassword",value:T,onChange:x=>S(x.target.value),placeholder:"Minimaal 6 karakters",required:!0,className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-1",children:"Bevestig wachtwoord *"}),R.jsx("input",{type:"password",id:"confirmPassword",value:N,onChange:x=>U(x.target.value),placeholder:"Herhaal wachtwoord",required:!0,className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),R.jsx("button",{type:"submit",disabled:Y,className:"w-full h-12 bg-[#2860E0] hover:bg-[#1C4DAB] text-white font-semibold rounded-lg transition-colors disabled:opacity-50",children:Y?"Bezig...":"Registreren"})]}),m==="forgot"&&R.jsxs("form",{onSubmit:w,className:"space-y-4",children:[R.jsx("p",{className:"text-sm text-secondary mb-4",children:"Voer je emailadres in en we sturen je een link om je wachtwoord te resetten."}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"forgotEmail",className:"block text-sm font-medium mb-1",children:"Email"}),R.jsx("input",{type:"email",id:"forgotEmail",value:g,onChange:x=>E(x.target.value),placeholder:"naam@dacapocollege.nl",required:!0,className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-100 dark:bg-gray-700 focus:ring-2 focus:ring-[#2860E0] focus:border-transparent"})]}),R.jsx("button",{type:"submit",disabled:Y,className:"w-full h-12 bg-[#2860E0] hover:bg-[#1C4DAB] text-white font-semibold rounded-lg transition-colors disabled:opacity-50",children:Y?"Bezig...":"Verstuur reset link"}),R.jsx("button",{type:"button",onClick:()=>I("login"),className:"w-full text-sm text-[#2860E0] hover:underline",children:" Terug naar inloggen"})]}),m!=="forgot"&&R.jsx("p",{className:"text-center text-sm mt-6",children:m==="login"?R.jsxs(R.Fragment,{children:["Nog geen account?"," ",R.jsx("button",{onClick:()=>I("register"),className:"text-[#2860E0] font-medium hover:underline",children:"Registreer"})]}):R.jsxs(R.Fragment,{children:["Heb je al een account?"," ",R.jsx("button",{onClick:()=>I("login"),className:"text-[#2860E0] font-medium hover:underline",children:"Inloggen"})]})})]})]})})}function $k({labels:i,selectedLabels:e,onToggleLabel:n,searchQuery:s,onSearchChange:o}){const{isDarkMode:u,toggleTheme:h}=Hp(),{user:m,userData:p,userRole:g,signOut:E}=Ms(),[T,S]=L.useState(!1),N=L.useRef(null),U=()=>n(null),z=e?.length>0;return R.jsxs(R.Fragment,{children:[R.jsx("header",{className:"sticky top-0 z-50 w-full bg-card/95 backdrop-blur-md border-b border-theme shadow-sm transition-colors duration-200",children:R.jsxs("div",{className:"flex items-center justify-between px-4 py-2 gap-4",children:[R.jsxs(yu,{to:"/",className:"flex items-center gap-3 shrink-0",children:[R.jsx("div",{className:"size-9 bg-[#2860E0] rounded-lg flex items-center justify-center text-white font-bold shadow-sm",children:"DC"}),R.jsx("h1",{className:"text-lg font-bold tracking-tight hidden sm:block",children:"DaCapo Tools"})]}),R.jsx("div",{className:"flex-1 flex justify-center",children:R.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-3 py-2 rounded-lg border-[1.5px] border-[#2860E0] bg-[var(--bg-surface)]/50",children:[R.jsx("div",{className:"shrink-0 h-9 px-3 flex items-center justify-center rounded bg-[var(--bg-surface)] border border-theme text-[13px] font-bold text-secondary uppercase tracking-wide",children:"Filter op"}),R.jsx("div",{ref:N,className:"flex-1 flex items-center gap-1 overflow-x-auto no-scrollbar min-w-[200px]",children:i?.map(P=>{const Y=e?.includes(P.id);return R.jsxs("button",{onClick:()=>n(P.id),className:`shrink-0 h-9 px-3 flex items-center gap-1 rounded-full text-[15px] font-medium transition-all select-none ${Y?"text-white shadow-sm":"bg-transparent text-secondary hover:bg-[var(--bg-surface-hover)]"}`,style:Y?{backgroundColor:P.color}:{},children:[P.icon&&R.jsx("span",{className:"material-symbols-outlined text-[18px]",style:{fontVariationSettings:"'FILL' 1"},children:P.icon}),R.jsx("span",{className:"whitespace-nowrap",children:P.name})]},P.id)})}),R.jsx("div",{className:"h-6 w-px bg-[var(--border-default)] shrink-0 opacity-40"}),R.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[R.jsx("div",{className:"flex items-center w-40 shrink-0 mr-1",children:R.jsxs("div",{className:"relative w-full",children:[R.jsx("span",{className:"material-symbols-outlined text-[20px] text-secondary absolute left-2.5 top-1/2 -translate-y-1/2",children:"search"}),R.jsx("input",{type:"text",value:s,onChange:P=>o(P.target.value),placeholder:"Zoeken...",className:"w-full h-9 text-[15px] pl-10 pr-3 bg-[var(--bg-surface)] border border-theme rounded-full focus:ring-1 focus:ring-[var(--primary)] outline-none text-secondary placeholder:text-secondary/50"})]})}),R.jsx("button",{className:"shrink-0 size-9 flex items-center justify-center rounded-full text-secondary hover:bg-[var(--bg-surface-hover)] transition-colors",title:"Sorteren",children:R.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"sort"})}),R.jsx("button",{onClick:z?U:void 0,className:`shrink-0 size-9 flex items-center justify-center rounded-full transition-colors ${z?"bg-red-500/10 text-red-500 hover:bg-red-500/20 cursor-pointer":"text-secondary cursor-default"}`,title:z?"Wis alle filters":"Geen actieve filters",disabled:!z,children:R.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"delete"})})]})]})}),R.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[R.jsx("button",{onClick:h,className:"flex items-center justify-center size-9 rounded-full hover:bg-[var(--bg-surface-hover)] transition-colors","aria-label":u?"Schakel naar light mode":"Schakel naar dark mode",children:R.jsx("span",{className:"material-symbols-outlined",children:u?"light_mode":"dark_mode"})}),g&&g!=="user"&&R.jsxs(yu,{to:"/admin",className:"flex items-center gap-2 px-4 py-1.5 rounded-full bg-amber-500 text-white hover:bg-amber-600 transition-colors font-bold","aria-label":"Admin Dashboard",children:[R.jsx("span",{className:"material-symbols-outlined",children:"admin_panel_settings"}),R.jsx("span",{children:"ADMIN"})]}),m?R.jsxs("div",{className:"relative group",children:[R.jsx("button",{className:"size-9 rounded-full bg-[#2860E0] flex items-center justify-center text-white font-semibold text-sm border border-theme shadow-sm overflow-hidden",children:m.photoURL?R.jsx("img",{src:m.photoURL,alt:m.displayName||"Profiel",className:"w-full h-full object-cover"}):R.jsx("span",{children:(p?.displayName||m.email||"?").charAt(0).toUpperCase()})}),R.jsxs("div",{className:"absolute right-0 mt-2 w-48 max-w-[90vw] bg-card border border-theme rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 overflow-hidden",children:[R.jsxs("div",{className:"p-3 border-b border-theme",children:[R.jsx("p",{className:"font-medium truncate",children:p?.displayName||m.displayName||m.email?.split("@")[0]}),R.jsx("p",{className:"text-sm text-secondary truncate",children:m.email})]}),R.jsxs("button",{onClick:E,className:"w-full px-3 py-2 text-left hover:bg-[var(--bg-surface-hover)] transition-colors flex items-center gap-2",children:[R.jsx("span",{className:"material-symbols-outlined text-xl",children:"logout"}),"Uitloggen"]})]})]}):R.jsx("button",{onClick:()=>S(!0),className:"flex items-center justify-center size-9 rounded-full bg-[#2860E0] text-white hover:bg-[#1C4DAB] transition-colors shadow-sm","aria-label":"Inloggen",children:R.jsx("span",{className:"material-symbols-outlined text-xl",children:"login"})})]})]})}),R.jsx(Xk,{isOpen:T,onClose:()=>S(!1)})]})}function Wk({tool:i,onSelect:e}){cf();const{user:n,isFavorite:s,toggleFavorite:o}=Ms(),{updateFavoriteCount:u,trackToolClick:h}=Jg(),m=L.useRef(null),p=L.useRef(null),[g,E]=L.useState(!1),[T,S]=L.useState(0),N=s(i.id),U=US(i.labels),z=Zg(i.labels);L.useEffect(()=>{const ne=()=>{if(m.current&&p.current){const de=m.current.scrollHeight,me=p.current.clientHeight,C=de-me;console.log("ToolCard Scroll Check:",{name:i.name,textHeight:de,containerHeight:me,overflow:C}),S(Math.max(0,C))}},se=setTimeout(ne,100);return window.addEventListener("resize",ne),()=>{clearTimeout(se),window.removeEventListener("resize",ne)}},[i.shortDescription,i.description]);const P=async ne=>{ne.preventDefault(),ne.stopPropagation(),n&&(await o(i.id),await u(i.id,N?-1:1))},Y=async()=>{const ne=n?.uid||"anonymous";await h(i.id,ne),e&&e(i)},Z=i.description||i.shortDescription||"Geen beschrijving beschikbaar";return R.jsxs("div",{className:"group bg-card rounded-xl shadow-sm border border-theme overflow-hidden hover:shadow-lg hover:border-[#2860E0]/50 transition-all duration-300 cursor-pointer flex flex-col",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onClick:Y,children:[R.jsxs("div",{className:"w-full aspect-[16/9] relative overflow-hidden bg-[var(--bg-surface-hover)]",children:[i.imageUrl?R.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):R.jsx("div",{className:"w-full h-full flex items-center justify-center",children:R.jsx("span",{className:"material-symbols-outlined text-5xl text-muted",children:"apps"})}),z&&R.jsx("div",{className:"absolute top-2 left-2 size-8 bg-black/50 backdrop-blur-sm rounded-lg flex items-center justify-center text-white",title:"Opent in een nieuw tabblad",children:R.jsx("span",{className:"material-symbols-outlined text-lg",children:"open_in_new"})}),n&&R.jsx("button",{onClick:P,className:`absolute top-2 right-2 p-2 rounded-full bg-[var(--bg-surface)] shadow-sm transition-all ${N?"text-red-500":"text-muted hover:text-red-500"}`,"aria-label":N?"Verwijder uit favorieten":"Voeg toe aan favorieten",children:R.jsx("span",{className:"material-symbols-outlined text-xl",style:N?{fontVariationSettings:"'FILL' 1"}:{},children:"favorite"})})]}),R.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[R.jsx("h3",{className:"font-semibold text-base mb-1 line-clamp-1 group-hover:text-primary transition-colors text-primary",children:i.name}),R.jsx("div",{ref:p,className:"h-[3.75rem] overflow-hidden mb-4",children:R.jsx("p",{ref:m,className:"text-sm text-secondary transition-transform ease-linear will-change-transform group-hover:translate-y-[var(--scroll-offset)]",style:{"--scroll-offset":`-${T}px`,transitionDuration:`${Math.max(2,T*30)}ms`},children:Z})}),R.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t border-theme",children:[U?R.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full text-white font-medium",style:{backgroundColor:U.color},children:[R.jsx("span",{className:"material-symbols-outlined text-[10px]",children:U.icon}),U.name]}):R.jsx("span",{}),R.jsx("span",{className:`material-symbols-outlined text-[#2860E0] transform transition-transform duration-300 ${g?"translate-x-1":""}`,children:z?"open_in_new":"arrow_forward"})]})]})]})}function Jk({tools:i}){const{userData:e}=Ms(),n=L.useMemo(()=>e?.favorites?i.filter(s=>e.favorites.includes(s.id)):[],[i,e?.favorites]);return n.length===0?null:R.jsxs("section",{className:"mt-6 px-4",children:[R.jsxs("h2",{className:"text-xl font-bold tracking-tight mb-3 flex items-center gap-2",children:[R.jsx("span",{className:"material-symbols-outlined text-red-500",style:{fontVariationSettings:"'FILL' 1"},children:"favorite"}),"Mijn favorieten"]}),R.jsx("div",{className:"flex overflow-x-auto no-scrollbar pb-4 gap-3 snap-x snap-mandatory",children:n.map(s=>R.jsx(Zk,{tool:s},s.id))})]})}function Zk({tool:i}){const e=cf(),{trackToolClick:n}=Jg(),{user:s}=Ms(),o=Zg(i.labels),u=i.externalUrl||i.url||i.internalRoute,h=async()=>{if(i.id){const m=s?.uid||"anonymous";n(i.id,m).catch(console.error)}o?u&&window.open(u,"_blank","noopener,noreferrer"):u&&e(u)};return R.jsxs("button",{onClick:h,className:"snap-start shrink-0 w-36 h-[200px] rounded-2xl flex flex-col overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-200 bg-card group",children:[R.jsx("div",{className:"h-[68%] w-full bg-[var(--bg-surface)] overflow-hidden",children:i.imageUrl?R.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):R.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[var(--bg-surface)] to-[var(--bg-surface-hover)]",children:R.jsx("span",{className:"material-symbols-outlined text-4xl text-secondary",children:i.icon||"apps"})})}),R.jsx("div",{className:"h-[32%] w-full bg-[#14B8A6]/10 dark:bg-[#14B8A6]/20 flex items-center justify-center py-2 px-3",children:R.jsx("p",{lang:"nl-NL",className:"text-[0.95rem] font-semibold text-primary leading-[1.25] text-center line-clamp-2 hyphens-auto",style:{wordBreak:"break-word"},children:i.name})})]})}function eV(i){const e=u=>{let h=[u];return h=h.flatMap(m=>typeof m!="string"?m:m.split(/(\*\*.*?\*\*)/g).map((p,g)=>p.startsWith("**")&&p.endsWith("**")?R.jsx("strong",{className:"font-bold text-primary",children:p.slice(2,-2)},`b-${g}`):p)),h=h.flatMap(m=>typeof m!="string"?m:m.split(/(\*.*?\*)/g).map((p,g)=>p.startsWith("*")&&p.endsWith("*")?R.jsx("em",{className:"italic",children:p.slice(1,-1)},`i-${g}`):p)),h},n=i.split(`
`),s=[];let o=[];return n.forEach((u,h)=>{const m=u.trim();m.startsWith("- ")?o.push(R.jsx("li",{className:"pl-1",children:e(m.slice(2))},`li-${h}`)):(o.length>0&&(s.push(R.jsx("ul",{className:"list-disc list-outside mb-4 ml-6 space-y-1 marker:text-theme",children:o},`ul-${h}`)),o=[]),m.startsWith("### ")?s.push(R.jsx("h3",{className:"text-lg font-bold mt-6 mb-3 text-primary",children:e(m.slice(4))},h)):m===""?s.push(R.jsx("div",{className:"h-4"},h)):s.push(R.jsx("p",{className:"mb-2 leading-relaxed",children:e(u)},h)))}),o.length>0&&s.push(R.jsx("ul",{className:"list-disc list-outside mb-4 ml-6 space-y-1 marker:text-theme",children:o},"ul-end")),s}function tV({tool:i,onClose:e}){const n=L.useRef(null);if(L.useEffect(()=>{const m=p=>{p.key==="Escape"&&e()};return i&&(window.addEventListener("keydown",m),document.body.style.overflow="hidden"),()=>{window.removeEventListener("keydown",m),document.body.style.overflow="unset"}},[i,e]),L.useEffect(()=>{i&&n.current&&n.current.focus()},[i]),!i)return null;const s=US(i.labels),o=Zg(i.labels),u=i.externalUrl||i.url||i.internalRoute,h=()=>{u&&window.open(u,"_blank","noopener,noreferrer")};return R.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 isolate",children:[R.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity duration-300 animate-in fade-in",onClick:e,"aria-hidden":"true"}),R.jsxs("div",{ref:n,className:"relative w-full max-w-2xl max-h-[90vh] bg-card rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-theme focus:outline-none animate-in zoom-in-95 fade-in duration-200",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",tabIndex:"-1",children:[R.jsxs("div",{className:"relative w-full aspect-[16/9] shrink-0 bg-[var(--bg-surface-hover)]",children:[i.imageUrl?R.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-full object-cover"}):R.jsx("div",{className:"w-full h-full flex items-center justify-center",children:R.jsx("span",{className:"material-symbols-outlined text-6xl text-muted",children:"apps"})}),R.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-black/50 hover:bg-black/70 text-white backdrop-blur-md transition-colors","aria-label":"Sluiten",children:R.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),R.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:[R.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s&&R.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full text-white font-medium",style:{backgroundColor:s.color},children:[R.jsx("span",{className:"material-symbols-outlined text-[10px]",children:s.icon}),s.name]}),o&&R.jsxs("span",{className:"inline-flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full bg-[var(--bg-surface-hover)] text-secondary font-medium border border-theme",children:[R.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"open_in_new"}),"Extern"]})]}),R.jsx("h2",{id:"modal-title",className:"text-2xl sm:text-3xl font-bold mb-4 text-primary",children:i.name}),R.jsx("div",{className:"prose dark:prose-invert max-w-none text-secondary",children:eV(i.description||i.shortDescription||"Geen beschrijving beschikbaar.")})]}),R.jsx("div",{className:"p-6 md:p-8 border-t border-theme bg-card/50 backdrop-blur-sm mt-auto",children:R.jsxs("button",{onClick:h,className:"w-full py-3.5 px-4 bg-[var(--primary)] hover:bg-[var(--primary-hover)] text-white font-medium rounded-xl transition-all shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30 flex items-center justify-center gap-2 group",children:[R.jsx("span",{children:"Open tool"}),R.jsx("span",{className:"material-symbols-outlined transition-transform group-hover:translate-x-1",children:o?"open_in_new":"arrow_forward"})]})})]})]})}function nV(){const{user:i,userData:e}=Ms(),{activeTools:n,loading:s}=Jg(),{labels:o,loading:u}=Yk(),[h,m]=L.useState(""),[p,g]=L.useState([]),[E,T]=L.useState(null),S=z=>{g(z===null?[]:P=>P.includes(z)?P.filter(Y=>Y!==z):[...P,z])},N=L.useMemo(()=>n.filter(P=>P.status==="published"||!P.status).filter(P=>{if(h){const Y=h.toLowerCase(),Z=P.name?.toLowerCase().includes(Y),ne=P.description?.toLowerCase().includes(Y),se=P.shortDescription?.toLowerCase().includes(Y);if(!Z&&!ne&&!se)return!1}return!(p.length>0&&!P.labels?.some(Z=>p.includes(Z)))}),[n,h,p]),U=s||u;return R.jsxs("div",{className:"min-h-screen flex flex-col",children:[R.jsx($k,{labels:o,selectedLabels:p,onToggleLabel:S,searchQuery:h,onSearchChange:m}),R.jsxs("main",{className:"flex-1 w-full pb-8",children:[i&&e?.favorites?.length>0&&R.jsx(Jk,{tools:n,onSelect:T}),R.jsxs("section",{className:"mt-4",children:[R.jsx("div",{className:"px-4 mb-3 flex justify-between items-center",children:R.jsx("h2",{className:"text-xl font-bold tracking-tight",children:"Alle Tools"})}),R.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-7 gap-3 sm:gap-4 px-4 pb-24",children:U?[...Array(8)].map((z,P)=>R.jsxs("div",{className:"bg-card rounded-lg border border-theme overflow-hidden animate-pulse",children:[R.jsx("div",{className:"w-full h-20 bg-gray-200 dark:bg-gray-700"}),R.jsxs("div",{className:"p-3",children:[R.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2 w-3/4"}),R.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-3 w-full"}),R.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-full"})]})]},P)):N.length===0?R.jsxs("div",{className:"col-span-full text-center py-12 text-secondary",children:[R.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 block",children:"search_off"}),R.jsx("p",{children:"Geen tools gevonden"}),h&&R.jsx("button",{onClick:()=>m(""),className:"mt-2 text-[#2860E0] hover:underline",children:"Wis zoekopdracht"})]}):N.map(z=>R.jsx(Wk,{tool:z,onSelect:T},z.id))})]})]}),R.jsx(tV,{tool:E,onClose:()=>T(null)})]})}const iV=[{label:"Overzicht",path:"/admin",icon:"dashboard",end:!0},{label:"Tools",path:"/admin/tools",icon:"construction"},{label:"Gebruikers",path:"/admin/users",icon:"group"},{label:"Credits",path:"/admin/credits",icon:"payments"},{label:"Kosten",path:"/admin/costs",icon:"euro"},{label:"Labels & Metadata",path:"/admin/labels",icon:"label"},{label:"Rapportages",path:"/admin/reports",icon:"description"},{label:"Nieuwsbrief Analytics",path:"/admin/analytics/nieuwsbrief",icon:"mail"}];function rV(){const{userRole:i,isSupervisor:e,userData:n}=Ms();return R.jsxs("aside",{className:"w-48 md:w-64 bg-card border-r border-theme flex flex-col shrink-0 hidden sm:flex",children:[R.jsx("div",{className:"p-4 border-b border-theme",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"size-10 bg-amber-500 rounded-lg flex items-center justify-center text-white",children:R.jsx("span",{className:"material-symbols-outlined",children:"admin_panel_settings"})}),R.jsxs("div",{children:[R.jsx("h1",{className:"font-bold text-lg",children:"Admin"}),R.jsx("p",{className:"text-xs text-secondary",children:"DaCapo Tools"})]})]})}),R.jsxs("div",{className:"px-4 py-3 border-b border-theme",children:[R.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium ${e?"bg-purple-500/10 text-purple-600 dark:text-purple-400":"bg-blue-500/10 text-blue-600 dark:text-blue-400"}`,children:[R.jsx("span",{className:"material-symbols-outlined text-sm",children:e?"shield_person":"verified_user"}),e?"Supervisor":"Admin"]}),!e&&R.jsx("p",{className:"text-xs text-secondary mt-2",children:"Alleen-lezen toegang"})]}),R.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto",children:iV.map(s=>R.jsxs(B0,{to:s.path,end:s.end,className:({isActive:o})=>`
                            flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors
                            ${o?"bg-primary text-white":"text-primary hover:bg-[var(--bg-surface-hover)]"}
                        `,children:[R.jsx("span",{className:"material-symbols-outlined text-xl",children:s.icon}),R.jsx("span",{className:"font-medium",children:s.label})]},s.path))}),R.jsx("div",{className:"p-4 border-t border-theme",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"size-9 rounded-full bg-[#2860E0] flex items-center justify-center text-white text-sm font-medium",children:(n?.displayName||n?.email||"?").charAt(0).toUpperCase()}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("p",{className:"text-sm font-medium truncate",children:n?.displayName||"Gebruiker"}),R.jsx("p",{className:"text-xs text-secondary truncate",children:n?.email})]})]})})]})}const b0={"/admin":"Overzicht","/admin/tools":"Tools","/admin/tools/new":"Nieuwe Tool","/admin/users":"Gebruikers","/admin/credits":"Credits","/admin/costs":"Kosten","/admin/labels":"Labels & Metadata","/admin/reports":"Rapportages"};function sV(){const{isDarkMode:i,toggleTheme:e}=Hp(),n=Ki(),s=()=>b0[n.pathname]?b0[n.pathname]:n.pathname.startsWith("/admin/tools/")?"Tool Bewerken":"Admin Dashboard";return R.jsx("header",{className:"sticky top-0 z-40 bg-card/95 backdrop-blur-md border-b border-theme",children:R.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx(yu,{to:"/",className:"flex items-center justify-center size-10 rounded-full hover:bg-[var(--bg-surface-hover)] transition-colors",title:"Terug naar App",children:R.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),R.jsxs("div",{children:[R.jsx("h1",{className:"text-lg font-bold",children:s()}),R.jsx("p",{className:"text-xs text-secondary",children:"Admin Dashboard"})]})]}),R.jsx("div",{className:"flex items-center gap-2",children:R.jsx("button",{onClick:e,className:"flex items-center justify-center size-10 rounded-full hover:bg-[var(--bg-surface-hover)] transition-colors","aria-label":i?"Schakel naar light mode":"Schakel naar dark mode",children:R.jsx("span",{className:"material-symbols-outlined",children:i?"light_mode":"dark_mode"})})})]})})}function aV(){const{user:i,userRole:e,loading:n}=Ms(),s=Ki();return n?R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:R.jsxs("div",{className:"text-center",children:[R.jsx("span",{className:"material-symbols-outlined text-4xl animate-spin text-[#2860E0]",children:"sync"}),R.jsx("p",{className:"mt-2 text-secondary",children:"Laden..."})]})}):i?e==="user"?R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:R.jsxs("div",{className:"text-center max-w-md px-4",children:[R.jsx("span",{className:"material-symbols-outlined text-6xl text-red-500",children:"block"}),R.jsx("h1",{className:"text-2xl font-bold mt-4",children:"Geen toegang"}),R.jsx("p",{className:"text-secondary mt-2",children:"Je hebt geen rechten om het admin dashboard te bekijken."}),R.jsxs("a",{href:"/",className:"inline-flex items-center gap-2 mt-6 px-4 py-2 bg-[#2860E0] text-white rounded-lg hover:bg-[#1C4DAB] transition-colors",children:[R.jsx("span",{className:"material-symbols-outlined text-xl",children:"home"}),"Terug naar home"]})]})}):R.jsxs("div",{className:"min-h-screen flex bg-gray-50 dark:bg-gray-900",children:[R.jsx(rV,{}),R.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[R.jsx(sV,{}),R.jsx("main",{className:"flex-1 p-6 overflow-auto",children:R.jsx(w1,{})})]})]}):R.jsx(S1,{to:"/",state:{from:s},replace:!0})}const oV=L.lazy(()=>Cr(()=>import("./AdminOverview-BCbHaYRs.js"),__vite__mapDeps([0,1]))),lV=L.lazy(()=>Cr(()=>import("./AdminTools-Xbqj5Okh.js"),[])),A0=L.lazy(()=>Cr(()=>import("./AdminToolForm-Bk1wq7zY.js"),[])),uV=L.lazy(()=>Cr(()=>import("./AdminUsers-BKO-1hsl.js"),[])),cV=L.lazy(()=>Cr(()=>import("./AdminCredits-fhDwy-Xs.js"),__vite__mapDeps([2,3,1]))),hV=L.lazy(()=>Cr(()=>import("./AdminCosts-DRiSHUIj.js"),__vite__mapDeps([4,3,1]))),fV=L.lazy(()=>Cr(()=>import("./AdminLabels-DVzt0Rau.js"),[])),dV=L.lazy(()=>Cr(()=>import("./AdminReports-Btr-7BiC.js"),__vite__mapDeps([5,1]))),mV=L.lazy(()=>Cr(()=>import("./AdminNewsletterAnalytics-DpuZuulf.js"),[]));function ki(){return R.jsx("div",{className:"flex items-center justify-center py-12",children:R.jsx("span",{className:"material-symbols-outlined text-4xl animate-spin text-[#2860E0]",children:"sync"})})}function pV(){return R.jsx(W1,{children:R.jsx(aC,{children:R.jsx(Gk,{children:R.jsxs(C1,{children:[R.jsx(In,{path:"/",element:R.jsx(nV,{})}),R.jsxs(In,{path:"/admin",element:R.jsx(aV,{}),children:[R.jsx(In,{index:!0,element:R.jsx(L.Suspense,{fallback:R.jsx(ki,{}),children:R.jsx(oV,{})})}),R.jsx(In,{path:"tools",element:R.jsx(L.Suspense,{fallback:R.jsx(ki,{}),children:R.jsx(lV,{})})}),R.jsx(In,{path:"tools/:id",element:R.jsx(L.Suspense,{fallback:R.jsx(ki,{}),children:R.jsx(A0,{})})}),R.jsx(In,{path:"tools/new",element:R.jsx(L.Suspense,{fallback:R.jsx(ki,{}),children:R.jsx(A0,{})})}),R.jsx(In,{path:"users",element:R.jsx(L.Suspense,{fallback:R.jsx(ki,{}),children:R.jsx(uV,{})})}),R.jsx(In,{path:"credits",element:R.jsx(L.Suspense,{fallback:R.jsx(ki,{}),children:R.jsx(cV,{})})}),R.jsx(In,{path:"costs",element:R.jsx(L.Suspense,{fallback:R.jsx(ki,{}),children:R.jsx(hV,{})})}),R.jsx(In,{path:"labels",element:R.jsx(L.Suspense,{fallback:R.jsx(ki,{}),children:R.jsx(fV,{})})}),R.jsx(In,{path:"reports",element:R.jsx(L.Suspense,{fallback:R.jsx(ki,{}),children:R.jsx(dV,{})})}),R.jsx(In,{path:"analytics/nieuwsbrief",element:R.jsx(L.Suspense,{fallback:R.jsx(ki,{}),children:R.jsx(mV,{})})})]})]})})})})}SR.createRoot(document.getElementById("root")).render(R.jsx(L.StrictMode,{children:R.jsx(pV,{})}));export{PS as A,hM as B,fM as C,Kk as E,yu as L,VS as P,pt as R,Jg as a,Yk as b,SV as c,AV as d,TV as e,US as f,bV as g,gV as h,Zg as i,R as j,cf as k,LS as l,Pi as m,Kn as n,pM as o,np as p,vV as q,L as r,wV as s,EV as t,Ms as u,RV as v,dr as w,_V as x,_M as y,gM as z};

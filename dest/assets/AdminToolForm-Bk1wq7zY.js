import{r as h,c as z,s as M,d as O,e as A,g as B,j as e,f as X,i as H,h as q,k as J,u as Z,a as Q,l as ee,P as se,m as te,n as ae,o as re,v as ne}from"./index-BbC9A4N7.js";function le(){const[u,d]=h.useState(!1),[R,m]=h.useState(0),[k,g]=h.useState(null),j=async(t,r="tools")=>{if(!t)throw new Error("No file provided");if(!t.type.startsWith("image/"))throw new Error("File must be an image");const i=5*1024*1024;if(t.size>i)throw new Error("File size must be less than 5MB");d(!0),m(0),g(null);try{const x=Date.now(),c=t.name.replace(/[^a-zA-Z0-9.]/g,"_"),v=`${r}/${x}_${c}`,p=z(M,v),N=A(p,t);return new Promise((S,y)=>{N.on("state_changed",f=>{const w=f.bytesTransferred/f.totalBytes*100;m(Math.round(w))},f=>{console.error("Upload error:",f),g(f.message),d(!1),y(f)},async()=>{const f=await B(N.snapshot.ref);d(!1),m(100),console.log("[Storage] Image uploaded:",f),S(f)})})}catch(x){throw console.error("Upload error:",x),g(x.message),d(!1),x}},n=async(t,r)=>{if(!t)throw new Error("No file provided");if(!r)throw new Error("Tool slug is required");if(!(t.type?.startsWith("image/")||t instanceof Blob))throw new Error("File must be an image");const x=5*1024*1024;if(t.size>x)throw new Error("File size must be less than 5MB");d(!0),m(0),g(null);try{const c=`tool-images/${r}/header.png`,v=z(M,c),p=A(v,t);return new Promise((N,S)=>{p.on("state_changed",y=>{const f=y.bytesTransferred/y.totalBytes*100;m(Math.round(f))},y=>{console.error("Upload error:",y),g(y.message),d(!1),S(y)},async()=>{const y=await B(p.snapshot.ref);d(!1),m(100),console.log("[Storage] Tool image uploaded:",y),N(y)})})}catch(c){throw console.error("Upload error:",c),g(c.message),d(!1),c}};return{uploadImage:j,uploadToolImage:n,uploadFromUrl:async(t,r)=>{if(!t)throw new Error("No URL provided");if(!r)throw new Error("Tool slug is required");d(!0),m(0),g(null);try{m(10);const i=await fetch(t);if(!i.ok)throw new Error(`Failed to fetch image: ${i.status}`);if(!i.headers.get("content-type")?.startsWith("image/"))throw new Error("URL does not point to an image");m(30);const c=await i.blob(),v=5*1024*1024;if(c.size>v)throw new Error("Image size must be less than 5MB");m(50);const p=`tool-images/${r}/header.png`,N=z(M,p),S=A(N,c);return new Promise((y,f)=>{S.on("state_changed",w=>{const a=w.bytesTransferred/w.totalBytes*50;m(Math.round(50+a))},w=>{console.error("Upload error:",w),g(w.message),d(!1),f(w)},async()=>{const w=await B(S.snapshot.ref);d(!1),m(100),console.log("[Storage] Image from URL uploaded:",w),y(w)})})}catch(i){throw console.error("Upload from URL error:",i),g(i.message),d(!1),i}},deleteImage:async t=>{if(t)try{const r=z(M,t);await O(r),console.log("[Storage] Image deleted")}catch(r){if(r.code!=="storage/object-not-found")throw console.error("Delete error:",r),r}},deleteToolImage:async t=>{if(t)try{const r=`tool-images/${t}/header.png`,i=z(M,r);await O(i),console.log("[Storage] Tool image deleted")}catch(r){if(r.code!=="storage/object-not-found")throw console.error("Delete error:",r),r}},handlePaste:async(t,r)=>{const i=t.clipboardData?.items;if(!i)return null;for(const x of i)if(x.type.startsWith("image/")){const c=x.getAsFile();if(c&&r)return await n(c,r);if(c)return await j(c,"tools")}return null},isValidImageUrl:t=>{if(!t)return!1;try{new URL(t);const r=[".jpg",".jpeg",".png",".gif",".webp",".svg",".bmp"],i=t.toLowerCase();return r.some(x=>i.includes(x))||t.startsWith("data:image/")||t.includes("googleusercontent.com")||t.includes("firebasestorage.googleapis.com")}catch{return!1}},uploading:u,progress:R,error:k}}function oe({imageUrl:u,onCrop:d,onCancel:R}){const m=h.useRef(null),k=h.useRef(null),[g,j]=h.useState(1),[n,b]=h.useState({x:0,y:0}),[C,D]=h.useState(!1),[L,T]=h.useState({x:0,y:0}),[t,r]=h.useState(!1),i=1280,x=720,c=.5,v=3,[p]=h.useState({width:480,height:270}),N=s=>{const l=s.target,o=l.naturalWidth,U=l.naturalHeight;if(m.current){const E=m.current.getBoundingClientRect(),I=Math.max(p.width/o,p.height/U);j(I),b({x:(E.width-o*I)/2,y:(E.height-U*I)/2})}},S=s=>{s.preventDefault(),D(!0),T({x:s.clientX-n.x,y:s.clientY-n.y})},y=s=>{C&&b({x:s.clientX-L.x,y:s.clientY-L.y})},f=()=>{D(!1)},w=s=>{s.preventDefault();const l=s.deltaY*-.001,o=Math.min(Math.max(c,g+l),v);j(o)},a=async()=>{if(!(!k.current||!m.current||t))try{r(!0);const s=document.createElement("canvas");s.width=i,s.height=x;const l=s.getContext("2d"),o=k.current.getBoundingClientRect(),U=m.current.getBoundingClientRect(),E={left:U.left+(U.width-p.width)/2,top:U.top+(U.height-p.height)/2,width:p.width,height:p.height},F=k.current.naturalWidth,I=k.current.naturalHeight,_=F/o.width,$=I/o.height,G=(E.left-o.left)*_,K=(E.top-o.top)*$,V=E.width*_,Y=E.height*$;l.fillStyle="#ffffff",l.fillRect(0,0,s.width,s.height),l.drawImage(k.current,G,K,V,Y,0,0,i,x);const W=await new Promise(P=>s.toBlob(P,"image/jpeg",.92));if(W){const P=new File([W],"tool_header.jpg",{type:"image/jpeg"});await d(P)}}catch(s){console.error("Crop/Save error:",s)}finally{r(!1)}};return e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:e.jsxs("div",{className:"flex flex-col w-full max-w-4xl h-[80vh] bg-neutral-900 rounded-2xl overflow-hidden shadow-2xl border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-neutral-800 border-b border-white/5 z-20",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined",children:"crop_free"}),"Afbeelding Bijsnijden"]}),e.jsx("p",{className:"text-secondary text-xs",children:"Sleep en zoom om de ideale uitsnede te maken."})]}),e.jsx("button",{onClick:R,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),e.jsxs("div",{ref:m,className:"flex-1 relative overflow-hidden cursor-move bg-[#0a0a0a] touch-none",onMouseDown:S,onMouseMove:y,onMouseUp:f,onMouseLeave:f,onWheel:w,children:[e.jsx("img",{ref:k,src:u,alt:"Target",className:"absolute max-w-none pointer-events-none select-none will-change-transform",style:{transform:`translate(${n.x}px, ${n.y}px) scale(${g})`,transformOrigin:"top left"},onLoad:N}),e.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center z-10",children:e.jsxs("div",{style:{width:p.width,height:p.height,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)"},className:"border-2 border-white/80 shadow-2xl relative box-content",children:[e.jsxs("div",{className:"absolute inset-0 grid grid-cols-3 grid-rows-3 opacity-20",children:[e.jsx("div",{className:"border-r border-b border-white"}),e.jsx("div",{className:"border-r border-b border-white"}),e.jsx("div",{className:"border-b border-white"}),e.jsx("div",{className:"border-r border-b border-white"}),e.jsx("div",{className:"border-r border-b border-white"}),e.jsx("div",{className:"border-b border-white"}),e.jsx("div",{className:"border-r border-white"}),e.jsx("div",{className:"border-r border-white"}),e.jsx("div",{})]}),e.jsx("div",{className:"absolute -bottom-8 left-0 right-0 text-center text-white/50 text-xs font-mono",children:"16:9 Output"})]})}),e.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-neutral-800/90 backdrop-blur border border-white/10 rounded-full px-4 py-2 flex items-center gap-4 z-20 shadow-lg",children:[e.jsx("button",{className:"p-1 text-white hover:text-blue-400 transition-colors",onClick:()=>j(s=>Math.max(c,s-.1)),title:"Uitzoomen",children:e.jsx("span",{className:"material-symbols-outlined text-lg",children:"remove"})}),e.jsx("div",{className:"w-24 h-1 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${(g-c)/(v-c)*100}%`}})}),e.jsx("button",{className:"p-1 text-white hover:text-blue-400 transition-colors",onClick:()=>j(s=>Math.min(v,s+.1)),title:"Inzoomen",children:e.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"})}),e.jsxs("span",{className:"text-xs font-mono text-white/70 w-8 text-right",children:[Math.round(g*100),"%"]})]})]}),e.jsxs("div",{className:"p-4 bg-neutral-800 border-t border-white/5 flex justify-end gap-3 z-20",children:[e.jsx("button",{onClick:R,disabled:t,className:"px-6 py-2 rounded-lg border border-white/10 text-white hover:bg-white/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Annuleren"}),e.jsx("button",{onClick:a,disabled:t,className:`
                            px-6 py-2 rounded-lg font-medium shadow-lg transition-all flex items-center gap-2
                            ${t?"bg-[#2860E0]/50 text-white/70 cursor-wait":"bg-[#2860E0] hover:bg-[#1C4DAB] text-white shadow-blue-500/20"}
                        `,children:t?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined animate-spin text-lg",children:"sync"}),"Opslaan..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"crop"}),"Opslaan"]})})]})]})})}function ie({tool:u}){const[d,R]=h.useState(!1),m=h.useRef(null),k=u?.name||"Tool Name",g=u?.shortDescription||u?.description||"Short description...",j=u?.fullDescription||g,n=u?.imageUrl||"",b=X(u?.labels),C=H(u?.labels);return e.jsxs("div",{className:"bg-card rounded-xl border border-theme overflow-hidden shadow-lg",children:[e.jsx("div",{className:"bg-[#2860E0]/10 px-3 py-1.5 border-b border-theme",children:e.jsx("span",{className:"text-xs font-semibold text-[#2860E0] uppercase tracking-wide",children:"Live Preview"})}),e.jsxs("div",{onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),className:"group bg-card p-3 flex items-center justify-between gap-3 hover:shadow-md transition-all duration-300 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"size-10 rounded-md bg-cover bg-center shrink-0 border border-theme bg-[var(--bg-surface-hover)] flex items-center justify-center relative",style:n?{backgroundImage:`url('${n}')`}:{},children:[!n&&e.jsx("span",{className:"material-symbols-outlined text-muted",children:"apps"}),C&&e.jsx("div",{className:"absolute -top-1 -right-1 size-4 bg-red-500 rounded-full flex items-center justify-center",title:"Opent in een nieuw tabblad",children:e.jsx("span",{className:"material-symbols-outlined text-white text-xs",children:"open_in_new"})})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-base truncate",children:k}),C&&e.jsx("span",{className:"material-symbols-outlined text-red-500 text-sm",title:"Opent in een nieuw tabblad",children:"open_in_new"})]}),e.jsx("div",{ref:m,className:`text-xs text-secondary overflow-hidden transition-all duration-300 ${d?"max-h-24 overflow-y-auto":"max-h-5 truncate"}`,children:e.jsx("p",{className:d?"whitespace-pre-wrap":"truncate",children:d?j:g})})]})]}),e.jsx("button",{className:"shrink-0 p-1 rounded-full text-secondary hover:text-red-500 hover:bg-[var(--bg-surface-hover)] transition-colors",onClick:D=>D.preventDefault(),children:e.jsx("span",{className:"material-symbols-outlined text-xl",children:"favorite"})})]}),b&&e.jsxs("div",{className:"px-3 pb-3 flex flex-wrap gap-1",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded-full text-white",style:{backgroundColor:b.color},children:[e.jsx("span",{className:"material-symbols-outlined text-xs",children:b.icon}),b.name]}),C&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded-full bg-red-500 text-white",children:[e.jsx("span",{className:"material-symbols-outlined text-xs",children:"open_in_new"}),"Extern"]})]}),e.jsx("div",{className:"px-3 pb-3",children:e.jsxs("div",{className:`inline-flex items-center gap-1.5 text-xs font-medium px-2 py-1 rounded-full ${u?.status==="published"?"bg-green-500/10 text-green-600":"bg-yellow-500/10 text-yellow-600"}`,children:[e.jsx("span",{className:`size-2 rounded-full ${u?.status==="published"?"bg-green-500":"bg-yellow-500"}`}),u?.status==="published"?"Gepubliceerd":"Concept"]})}),e.jsx("div",{className:"px-3 pb-3 text-xs text-secondary italic",children:C?"Deze tool opent in een nieuw tabblad":"Hover over de kaart om de volledige beschrijving te zien"})]})}function de(){const{id:u}=q(),d=J(),{isSupervisor:R}=Z(),{addTool:m,updateTool:k}=Q(),{uploadImage:g}=le(),j=!!u,[n,b]=h.useState({name:"",description:"",shortDescription:"",labels:[],url:"",externalUrl:"",internalRoute:"",imageUrl:"",status:"draft",isActive:!0}),[C,D]=h.useState(j),[L,T]=h.useState(!1),[t,r]=h.useState(null),[i,x]=h.useState(!1),[c,v]=h.useState(null),p=h.useRef(null),N=ee(n.labels);if(H(n.labels),!R)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-6xl text-yellow-500",children:"warning"}),e.jsx("h2",{className:"text-xl font-bold mt-4",children:"Alleen-lezen toegang"}),e.jsx("p",{className:"text-secondary mt-2",children:"Je hebt geen rechten om tools te bewerken."}),e.jsx("button",{onClick:()=>d("/admin/tools"),className:"mt-4 px-4 py-2 bg-[#2860E0] text-white rounded-lg",children:"Terug naar Tools"})]})});h.useEffect(()=>{j&&u&&(async()=>{try{const s=te(ae,"tools",u),l=await re(s);if(l.exists()){const o=l.data();b({name:o.name||"",description:o.description||"",shortDescription:o.shortDescription||"",labels:o.labels||[],url:o.url||o.externalUrl||"",externalUrl:o.url||o.externalUrl||"",internalRoute:o.internalRoute||"",imageUrl:o.imageUrl||"",status:o.status||"draft",isActive:o.isActive!==!1})}}catch(s){console.error("Error loading tool:",s),r("Fout bij laden van tool")}finally{D(!1)}})()},[u,j]);const S=a=>{b(s=>{const o=s.labels.includes("extern")?[a,"extern"]:[a];return{...s,labels:o}})},y=async a=>{if(a.preventDefault(),r(null),!n.name.trim()){r("Naam is verplicht");return}const s=ne(n.labels);if(!s.valid){r(s.error);return}if(!n.url&&!n.externalUrl){r("Website URL is verplicht");return}try{T(!0);const l={...n,url:n.url||n.externalUrl,internalRoute:null};j?await k(u,l):await m(l),d("/admin/tools")}catch(l){console.error("Error saving tool:",l),r("Fout bij opslaan")}finally{T(!1)}},f=a=>{const s=a.target.files?.[0];if(s){const l=new FileReader;l.onload=()=>{v(l.result),x(!0)},l.readAsDataURL(s)}},w=async a=>{try{const s=await g(a,"tool-images");b(l=>({...l,imageUrl:s})),x(!1),v(null)}catch(s){console.error("Error uploading image:",s),r("Fout bij uploaden afbeelding: "+(s.message||"Onbekende fout"))}};return h.useEffect(()=>{const a=s=>{const l=s.clipboardData?.items;if(l){for(const o of l)if(o.type.indexOf("image")!==-1){const U=o.getAsFile(),E=new FileReader;E.onload=()=>{v(E.result),x(!0)},E.readAsDataURL(U),s.preventDefault();break}}};return window.addEventListener("paste",a),()=>window.removeEventListener("paste",a)},[]),C?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("span",{className:"material-symbols-outlined text-4xl animate-spin text-[#2860E0]",children:"sync"})}):e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:j?"Tool Bewerken":"Nieuwe Tool"}),e.jsx("p",{className:"text-secondary mt-1",children:j?"Bewerk de tool gegevens":"Voeg een nieuwe tool toe aan het platform"})]}),t&&e.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-500",children:t}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-xl border border-theme p-5 space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Basis Informatie"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Naam *"}),e.jsx("input",{type:"text",value:n.name,onChange:a=>b(s=>({...s,name:a.target.value})),className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-50 dark:bg-gray-800",placeholder:"Tool naam...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Korte Beschrijving"}),e.jsx("input",{type:"text",value:n.shortDescription,onChange:a=>b(s=>({...s,shortDescription:a.target.value})),className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-50 dark:bg-gray-800",placeholder:"Korte beschrijving (max 100 karakters)...",maxLength:100})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Beschrijving"}),e.jsx("textarea",{value:n.description,onChange:a=>b(s=>({...s,description:a.target.value})),className:"w-full h-32 px-4 py-3 rounded-lg border border-theme bg-gray-50 dark:bg-gray-800 resize-none",placeholder:"Uitgebreide beschrijving..."}),e.jsxs("div",{className:"text-xs text-secondary space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Opmaak ondersteuning:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-0.5 opacity-80",children:[e.jsxs("li",{children:[e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"- lijsten"})," (gebruik liggend streepje)"]}),e.jsx("li",{children:e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"**vetgedrukt**"})}),e.jsx("li",{children:e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"*cursief*"})}),e.jsx("li",{children:e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"### Koptekst"})})]})]})]})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-theme p-5 space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Classificatie *"}),e.jsx("p",{className:"text-sm text-secondary",children:'Kies exact één primair label. Markeer als "Extern" indien de tool buiten DaCapoTools opent.'}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-3",children:"Primair Label"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:se.map(a=>e.jsxs("button",{type:"button",onClick:()=>S(a.id),className:`flex items-center gap-2 px-3 py-2.5 rounded-lg border transition-all ${N===a.id?"border-transparent text-white":"border-theme bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:N===a.id?{backgroundColor:a.color}:{},children:[e.jsx("span",{className:"material-symbols-outlined text-xl",children:a.icon}),e.jsx("span",{className:"text-sm font-medium truncate",children:a.name})]},a.id))}),!N&&e.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Selecteer een primair label"})]})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-theme p-5 space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Website Link"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Website URL",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",value:n.url||n.externalUrl||"",onChange:a=>{const s=a.target.value;b(l=>({...l,url:s,externalUrl:s,internalRoute:""}))},className:"w-full h-12 px-4 rounded-lg border border-theme bg-gray-50 dark:bg-gray-800",placeholder:"https://example.com",required:!0}),e.jsxs("p",{className:"text-xs text-secondary mt-2",children:[e.jsx("span",{className:"material-symbols-outlined text-sm align-middle mr-1",children:"open_in_new"}),"Link opent altijd in een nieuw tabblad."]})]})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-theme p-5 space-y-4",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:["Afbeelding",e.jsx("span",{className:"text-xs font-normal text-secondary px-2 py-0.5 bg-gray-100 dark:bg-gray-700 rounded-full",children:"Ctrl+V ondersteund"})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"size-24 rounded-lg border-2 border-dashed border-theme flex items-center justify-center bg-gray-50 dark:bg-gray-800 overflow-hidden cursor-pointer shrink-0 transition-colors hover:border-[#2860E0]",onClick:()=>p.current?.click(),title:"Klik om te uploaden of plak een afbeelding",children:n.imageUrl?e.jsx("img",{src:n.imageUrl,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400",children:"add_photo_alternate"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:f,className:"hidden"}),e.jsx("button",{type:"button",onClick:()=>p.current?.click(),className:"px-4 py-2 border border-theme rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 mb-2",children:"Kies Afbeelding"}),e.jsxs("p",{className:"text-xs text-secondary",children:["Sleep een afbeelding hierheen, ",e.jsx("span",{className:"text-[#2860E0] font-medium",children:"plak vanaf klembord (Ctrl+V)"}),", of klik om te kiezen."]}),e.jsx("p",{className:"text-xs text-secondary mt-1",children:"PNG, JPG of GIF. Max 5MB."})]})]})]}),e.jsxs("div",{className:"bg-card rounded-xl border border-theme p-5 space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Status"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"draft",checked:n.status==="draft",onChange:a=>b(s=>({...s,status:a.target.value})),className:"text-[#2860E0]"}),e.jsx("span",{children:"Concept"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"published",checked:n.status==="published",onChange:a=>b(s=>({...s,status:a.target.value})),className:"text-[#2860E0]"}),e.jsx("span",{children:"Gepubliceerd"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:()=>d("/admin/tools"),className:"px-6 py-3 border border-theme rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:"Annuleren"}),e.jsx("button",{type:"submit",disabled:L||!N,className:"px-6 py-3 bg-[#2860E0] text-white rounded-lg hover:bg-[#1C4DAB] disabled:opacity-50 flex items-center gap-2",children:L?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined animate-spin",children:"sync"}),"Opslaan..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined",children:"save"}),j?"Opslaan":"Aanmaken"]})})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-20",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined",children:"visibility"}),"Live Preview"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ie,{tool:n}),e.jsxs("div",{className:"p-4 bg-blue-500/10 rounded-lg text-sm text-blue-600 dark:text-blue-400",children:[e.jsxs("p",{className:"font-medium flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"material-symbols-outlined text-base",children:"info"}),"Tip"]}),e.jsx("p",{children:"Deze preview toont hoe de kaart er exact uit zal zien voor gebruikers. De beschrijving scrolt wanneer de gebruiker eroverheen muist."})]})]})]})})]}),i&&c&&e.jsx(oe,{imageUrl:c,onCrop:w,onCancel:()=>{x(!1),v(null)}})]})}export{de as default};
